{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import'./Home.css';import{goodsApi}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const[searchQuery,setSearchQuery]=useState('');const navigate=useNavigate();// Categories (Kakaku style list)\nconst categories=[{key:'smartphone',name:'Smartphones / SIM',image:'https://placehold.co/20x20',query:'スマートフォン'},{key:'laptop',name:'PCs / Tablets',image:'https://placehold.co/20x20',query:'パソコン'},{key:'camera',name:'Cameras',image:'https://placehold.co/20x20',query:'カメラ'},{key:'appliance',name:'Home Appliances',image:'https://placehold.co/20x20',query:'家電'},{key:'audio',name:'Audio / Headphones',image:'https://placehold.co/20x20',query:'イヤホン'},{key:'fashion',name:'Fashion / Watches',image:'https://placehold.co/20x20',query:'ファッション'},{key:'beauty',name:'Beauty / Health',image:'https://placehold.co/20x20',query:'美容'},{key:'game',name:'Games / Toys',image:'https://placehold.co/20x20',query:'ゲーム'},{key:'outdoor',name:'Sports / Outdoor',image:'https://placehold.co/20x20',query:'スポーツ'},{key:'car',name:'Cars / Bikes',image:'https://placehold.co/20x20',query:'車'}];const hotTags=['iPhone 15','MacBook Air','Sony WH-1000XM5','Nintendo Switch','RTX 4070','iPad Air'];useEffect(()=>{fetchRecommendedProducts();},[]);const fetchRecommendedProducts=async()=>{setLoading(true);try{// 优先使用真实平台数据：对热门关键词执行比价搜索并汇总最低价商品\nconst querySeeds=['iPhone 15','MacBook Air','Nintendo Switch','Sony WH-1000XM5','iPad Air'];const collected=[];for(const q of querySeeds){try{const res=await goodsApi.compareGoods(q);if(res.data&&res.data.code===200&&Array.isArray(res.data.data)){// 展开每个分组的最低价商品\nres.data.data.forEach(group=>{const list=Array.isArray(group.goodsList)?group.goodsList:[];if(list.length>0){// 选择最低价条目\nconst cheapest=list.reduce((min,cur)=>{const mp=typeof cur.goodsPrice==='number'?cur.goodsPrice:Number(cur.goodsPrice)||0;const minp=typeof min.goodsPrice==='number'?min.goodsPrice:Number(min.goodsPrice)||0;return mp>0&&(minp===0||mp<minp)?cur:min;},list[0]);if(cheapest&&cheapest.goodsName&&cheapest.goodsPrice&&cheapest.goodsLink){collected.push({id:cheapest.goodsId||Math.floor(Math.random()*1e9),name:cheapest.goodsName,price:cheapest.goodsPrice,imageUrl:typeof cheapest.imgUrl==='string'?cheapest.imgUrl:'',platform:getPlatformName(cheapest.mallType),originalPrice:cheapest.goodsPrice?Math.floor(cheapest.goodsPrice*1.1):undefined,link:cheapest.goodsLink});}}});}}catch(e){// 单个关键词失败时继续其他关键词\nconsole.warn('compareGoods failed for',q,e);}if(collected.length>=10)break;}// 如果比价数据不足，回退到单平台（乐天）搜索\nif(collected.length<5){try{const fallbackRes=await goodsApi.searchGoods('iphone');const items=fallbackRes.data&&fallbackRes.data.data?fallbackRes.data.data:[];items.forEach(item=>{collected.push({id:item.goodsId,name:item.goodsName,price:item.goodsPrice,imageUrl:typeof item.imgUrl==='string'?item.imgUrl:'',platform:getPlatformName(item.mallType),originalPrice:item.goodsPrice?Math.floor(item.goodsPrice*1.1):undefined,link:item.goodsLink});});}catch(e){console.warn('searchGoods fallback failed',e);}}// 去重（按名称），并限制前 10\nconst uniqueByName={};collected.forEach(p=>{if(!uniqueByName[p.name]){uniqueByName[p.name]=p;}else{// 保留价格更低的\nif(p.price>0&&(uniqueByName[p.name].price===0||p.price<uniqueByName[p.name].price)){uniqueByName[p.name]=p;}}});const finalList=Object.values(uniqueByName).slice(0,10);setProducts(finalList);}catch(err){console.error('Failed to load products:',err);// Fallback data\nsetProducts(Array(5).fill(0).map((_,i)=>({id:i,name:'Sample Product '+(i+1),price:10000+i*500,imageUrl:'',platform:'Demo',originalPrice:12000})));}finally{setLoading(false);}};const handleSearch=e=>{e.preventDefault();if(searchQuery.trim()){navigate(\"/compare?query=\".concat(encodeURIComponent(searchQuery)));}};const getPlatformName=mallType=>{switch(mallType){case 10:return'楽天';case 20:return'Yahoo!ショッピング';case 30:return'タオバオ';case 40:return'Amazon';default:return'その他';}};return/*#__PURE__*/_jsx(\"div\",{className:\"home\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"home-container\",children:[/*#__PURE__*/_jsxs(\"aside\",{className:\"home-sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-box\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"sidebar-header\",children:\"\\u30AB\\u30C6\\u30B4\\u30EA\\u304B\\u3089\\u63A2\\u3059\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"sidebar-menu\",children:categories.map(c=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-menu-item\",onClick:()=>navigate(\"/compare?query=\".concat(encodeURIComponent(c.query))),children:[/*#__PURE__*/_jsx(\"img\",{src:c.image,alt:\"\",onError:e=>e.target.style.display='none'}),c.name]})},c.key))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-box\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"sidebar-header\",children:\"\\u30B5\\u30FC\\u30D3\\u30B9\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"sidebar-menu\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/compare\",className:\"sidebar-menu-item\",children:\"\\u4FA1\\u683C\\u6BD4\\u8F03\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/browse-history\",className:\"sidebar-menu-item\",children:\"\\u95B2\\u89A7\\u5C65\\u6B74\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/my-collection\",className:\"sidebar-menu-item\",children:\"\\u30DE\\u30A4\\u30B3\\u30EC\\u30AF\\u30B7\\u30E7\\u30F3\"})})]})]})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"home-main\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"home-search-section\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSearch,style:{display:'flex',width:'100%',gap:'10px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),placeholder:\"\\u5546\\u54C1\\u540D\\u3001\\u578B\\u756A\\u3001\\u30AD\\u30FC\\u30EF\\u30FC\\u30C9\\u3092\\u5165\\u529B...\",className:\"home-search-input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"home-search-btn\",children:\"\\u691C\\u7D22\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"hot-tags\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u6CE8\\u76EE\\u30AD\\u30FC\\u30EF\\u30FC\\u30C9: \"}),hotTags.map(tag=>/*#__PURE__*/_jsx(\"a\",{href:\"#\",onClick:e=>{e.preventDefault();navigate(\"/compare?query=\".concat(encodeURIComponent(tag)));},children:tag},tag))]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"section-title\",children:\"\\u4EBA\\u6C17\\u5546\\u54C1\\u30E9\\u30F3\\u30AD\\u30F3\\u30B0\"}),/*#__PURE__*/_jsx(Link,{to:\"/compare\",style:{fontSize:'12px',color:'#0033cc'},children:\"\\u3059\\u3079\\u3066\\u898B\\u308B >>\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"ranking-list\",children:loading?/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px',textAlign:'center',color:'#666'},children:\"\\u30E9\\u30F3\\u30AD\\u30F3\\u30B0\\u8AAD\\u307F\\u8FBC\\u307F\\u4E2D...\"}):products.map((product,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"ranking-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rank-num \".concat(index<3?'top-3':''),children:index+1}),/*#__PURE__*/_jsx(\"div\",{className:\"rank-img\",children:/*#__PURE__*/_jsx(\"img\",{src:product.imageUrl||'https://placehold.co/80x80',alt:product.name,onError:e=>e.target.src='https://placehold.co/80x80?text=NoImg'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"rank-info\",children:[/*#__PURE__*/_jsx(Link,{to:\"/compare?query=\".concat(encodeURIComponent(product.name)),className:\"rank-title\",children:product.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"rank-meta\",children:[product.platform,\" | \\u8A55\\u4FA1: \\u2605\\u2605\\u2605\\u2605\\u2606 (\",(Math.random()*100).toFixed(0),\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rank-price\",children:[\"\\xA5\",product.price.toLocaleString(),product.originalPrice&&/*#__PURE__*/_jsxs(\"span\",{className:\"rank-price-sub\",children:[\"(\",Math.round((1-product.price/product.originalPrice)*100),\"% OFF)\"]})]})]})]},product.id||index))})]})]})]})});};export default Home;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","goodsApi","jsx","_jsx","jsxs","_jsxs","Home","products","setProducts","loading","setLoading","searchQuery","setSearchQuery","navigate","categories","key","name","image","query","hotTags","fetchRecommendedProducts","querySeeds","collected","q","res","compareGoods","data","code","Array","isArray","forEach","group","list","goodsList","length","cheapest","reduce","min","cur","mp","goodsPrice","Number","minp","goodsName","goodsLink","push","id","goodsId","Math","floor","random","price","imageUrl","imgUrl","platform","getPlatformName","mallType","originalPrice","undefined","link","e","console","warn","fallbackRes","searchGoods","items","item","uniqueByName","p","finalList","Object","values","slice","err","error","fill","map","_","i","handleSearch","preventDefault","trim","concat","encodeURIComponent","className","children","c","onClick","src","alt","onError","target","style","display","to","onSubmit","width","gap","type","value","onChange","placeholder","tag","href","marginTop","fontSize","color","padding","textAlign","product","index","toFixed","toLocaleString","round"],"sources":["C:/Users/3jz/Desktop/HJZDM/frontend/hjzdm-frontend/src/pages/Home.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport './Home.css';\nimport { goodsApi } from '../services/api';\n\ninterface Product {\n  id: number;\n  name: string;\n  price: number;\n  imageUrl: string;\n  platform: string;\n  originalPrice?: number;\n  link?: string;\n}\n\nconst Home: React.FC = () => {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const navigate = useNavigate();\n\n  // Categories (Kakaku style list)\n  const categories = [\n    { key: 'smartphone', name: 'Smartphones / SIM', image: 'https://placehold.co/20x20', query: 'スマートフォン' },\n    { key: 'laptop', name: 'PCs / Tablets', image: 'https://placehold.co/20x20', query: 'パソコン' },\n    { key: 'camera', name: 'Cameras', image: 'https://placehold.co/20x20', query: 'カメラ' },\n    { key: 'appliance', name: 'Home Appliances', image: 'https://placehold.co/20x20', query: '家電' },\n    { key: 'audio', name: 'Audio / Headphones', image: 'https://placehold.co/20x20', query: 'イヤホン' },\n    { key: 'fashion', name: 'Fashion / Watches', image: 'https://placehold.co/20x20', query: 'ファッション' },\n    { key: 'beauty', name: 'Beauty / Health', image: 'https://placehold.co/20x20', query: '美容' },\n    { key: 'game', name: 'Games / Toys', image: 'https://placehold.co/20x20', query: 'ゲーム' },\n    { key: 'outdoor', name: 'Sports / Outdoor', image: 'https://placehold.co/20x20', query: 'スポーツ' },\n    { key: 'car', name: 'Cars / Bikes', image: 'https://placehold.co/20x20', query: '車' }\n  ];\n\n  const hotTags = ['iPhone 15', 'MacBook Air', 'Sony WH-1000XM5', 'Nintendo Switch', 'RTX 4070', 'iPad Air'];\n\n  useEffect(() => {\n    fetchRecommendedProducts();\n  }, []);\n\n  const fetchRecommendedProducts = async () => {\n    setLoading(true);\n    try {\n      // 优先使用真实平台数据：对热门关键词执行比价搜索并汇总最低价商品\n      const querySeeds = ['iPhone 15', 'MacBook Air', 'Nintendo Switch', 'Sony WH-1000XM5', 'iPad Air'];\n      const collected: Product[] = [];\n\n      for (const q of querySeeds) {\n        try {\n          const res = await goodsApi.compareGoods(q);\n          if (res.data && res.data.code === 200 && Array.isArray(res.data.data)) {\n            // 展开每个分组的最低价商品\n            res.data.data.forEach((group: any) => {\n              const list = Array.isArray(group.goodsList) ? group.goodsList : [];\n              if (list.length > 0) {\n                // 选择最低价条目\n                const cheapest = list.reduce((min: any, cur: any) => {\n                  const mp = typeof cur.goodsPrice === 'number' ? cur.goodsPrice : Number(cur.goodsPrice) || 0;\n                  const minp = typeof min.goodsPrice === 'number' ? min.goodsPrice : Number(min.goodsPrice) || 0;\n                  return mp > 0 && (minp === 0 || mp < minp) ? cur : min;\n                }, list[0]);\n                if (cheapest && cheapest.goodsName && cheapest.goodsPrice && cheapest.goodsLink) {\n                  collected.push({\n                    id: cheapest.goodsId || Math.floor(Math.random() * 1e9),\n                    name: cheapest.goodsName,\n                    price: cheapest.goodsPrice,\n                    imageUrl: typeof cheapest.imgUrl === 'string' ? cheapest.imgUrl : '',\n                    platform: getPlatformName(cheapest.mallType),\n                    originalPrice: cheapest.goodsPrice ? Math.floor(cheapest.goodsPrice * 1.1) : undefined,\n                    link: cheapest.goodsLink\n                  });\n                }\n              }\n            });\n          }\n        } catch (e) {\n          // 单个关键词失败时继续其他关键词\n          console.warn('compareGoods failed for', q, e);\n        }\n        if (collected.length >= 10) break;\n      }\n\n      // 如果比价数据不足，回退到单平台（乐天）搜索\n      if (collected.length < 5) {\n        try {\n          const fallbackRes = await goodsApi.searchGoods('iphone');\n          const items = (fallbackRes.data && fallbackRes.data.data) ? fallbackRes.data.data : [];\n          items.forEach((item: any) => {\n            collected.push({\n              id: item.goodsId,\n              name: item.goodsName,\n              price: item.goodsPrice,\n              imageUrl: typeof item.imgUrl === 'string' ? item.imgUrl : '',\n              platform: getPlatformName(item.mallType),\n              originalPrice: item.goodsPrice ? Math.floor(item.goodsPrice * 1.1) : undefined,\n              link: item.goodsLink\n            });\n          });\n        } catch (e) {\n          console.warn('searchGoods fallback failed', e);\n        }\n      }\n\n      // 去重（按名称），并限制前 10\n      const uniqueByName: Record<string, Product> = {};\n      collected.forEach(p => {\n        if (!uniqueByName[p.name]) {\n          uniqueByName[p.name] = p;\n        } else {\n          // 保留价格更低的\n          if (p.price > 0 && (uniqueByName[p.name].price === 0 || p.price < uniqueByName[p.name].price)) {\n            uniqueByName[p.name] = p;\n          }\n        }\n      });\n      const finalList = Object.values(uniqueByName).slice(0, 10);\n      setProducts(finalList);\n    } catch (err) {\n      console.error('Failed to load products:', err);\n      // Fallback data\n      setProducts(Array(5).fill(0).map((_, i) => ({\n        id: i,\n        name: 'Sample Product ' + (i+1),\n        price: 10000 + i*500,\n        imageUrl: '',\n        platform: 'Demo',\n        originalPrice: 12000\n      })));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSearch = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (searchQuery.trim()) {\n      navigate(`/compare?query=${encodeURIComponent(searchQuery)}`);\n    }\n  };\n\n  const getPlatformName = (mallType: number): string => {\n    switch (mallType) {\n      case 10: return '楽天';\n      case 20: return 'Yahoo!ショッピング';\n      case 30: return 'タオバオ';\n      case 40: return 'Amazon';\n      default: return 'その他';\n    }\n  };\n\n  return (\n    <div className=\"home\">\n      <div className=\"home-container\">\n        {/* Left Sidebar: Categories */}\n        <aside className=\"home-sidebar\">\n          <div className=\"sidebar-box\">\n            <h3 className=\"sidebar-header\">カテゴリから探す</h3>\n            <ul className=\"sidebar-menu\">\n              {categories.map((c) => (\n                <li key={c.key}>\n                  <div \n                    className=\"sidebar-menu-item\"\n                    onClick={() => navigate(`/compare?query=${encodeURIComponent(c.query)}`)}\n                  >\n                    {/* Placeholder icon logic */}\n                    <img \n                      src={c.image} \n                      alt=\"\" \n                      onError={(e) => (e.target as HTMLImageElement).style.display = 'none'}\n                    />\n                    {c.name}\n                  </div>\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          <div className=\"sidebar-box\">\n            <h3 className=\"sidebar-header\">サービス</h3>\n            <ul className=\"sidebar-menu\">\n              <li><Link to=\"/compare\" className=\"sidebar-menu-item\">価格比較</Link></li>\n              <li><Link to=\"/browse-history\" className=\"sidebar-menu-item\">閲覧履歴</Link></li>\n              <li><Link to=\"/my-collection\" className=\"sidebar-menu-item\">マイコレクション</Link></li>\n            </ul>\n          </div>\n        </aside>\n\n        {/* Main Content */}\n        <main className=\"home-main\">\n          {/* Search Bar */}\n          <div className=\"home-search-section\">\n            <form onSubmit={handleSearch} style={{ display: 'flex', width: '100%', gap: '10px' }}>\n              <input\n                type=\"text\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                placeholder=\"商品名、型番、キーワードを入力...\"\n                className=\"home-search-input\"\n              />\n              <button type=\"submit\" className=\"home-search-btn\">検索</button>\n            </form>\n          </div>\n\n          {/* Hot Keywords */}\n          <div className=\"hot-tags\">\n            <strong>注目キーワード: </strong>\n            {hotTags.map(tag => (\n              <a \n                key={tag} \n                href=\"#\" \n                onClick={(e) => { e.preventDefault(); navigate(`/compare?query=${encodeURIComponent(tag)}`); }}\n              >\n                {tag}\n              </a>\n            ))}\n          </div>\n\n          {/* Ranking / Featured List */}\n          <div style={{ marginTop: '20px' }}>\n            <div className=\"section-header\">\n              <h3 className=\"section-title\">人気商品ランキング</h3>\n              <Link to=\"/compare\" style={{ fontSize: '12px', color: '#0033cc' }}>すべて見る &gt;&gt;</Link>\n            </div>\n\n            <div className=\"ranking-list\">\n              {loading ? (\n                <div style={{ padding: '20px', textAlign: 'center', color: '#666' }}>ランキング読み込み中...</div>\n              ) : (\n                products.map((product, index) => (\n                  <div key={product.id || index} className=\"ranking-row\">\n                    <div className={`rank-num ${index < 3 ? 'top-3' : ''}`}>{index + 1}</div>\n                    <div className=\"rank-img\">\n                      <img \n                        src={product.imageUrl || 'https://placehold.co/80x80'} \n                        alt={product.name}\n                        onError={(e) => (e.target as HTMLImageElement).src = 'https://placehold.co/80x80?text=NoImg'}\n                      />\n                    </div>\n                    <div className=\"rank-info\">\n                      <Link to={`/compare?query=${encodeURIComponent(product.name)}`} className=\"rank-title\">\n                        {product.name}\n                      </Link>\n                      <div className=\"rank-meta\">\n                        {product.platform} | 評価: ★★★★☆ ({(Math.random() * 100).toFixed(0)})\n                      </div>\n                      <div className=\"rank-price\">\n                        ¥{product.price.toLocaleString()}\n                        {product.originalPrice && (\n                          <span className=\"rank-price-sub\">\n                            ({Math.round((1 - product.price / product.originalPrice) * 100)}% OFF)\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                ))\n              )}\n            </div>\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}