{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\3jz\\\\Desktop\\\\HJZDM\\\\frontend\\\\hjzdm-frontend\\\\src\\\\pages\\\\ComparePage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport axios from 'axios';\nimport './ComparePage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ComparePage = () => {\n  _s();\n  const [searchParams] = useSearchParams();\n  const [query, setQuery] = useState(searchParams.get('query') || '');\n  const [compareGroups, setCompareGroups] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // 実際のAPI呼び出し\n  useEffect(() => {\n    if (query.trim()) {\n      searchProducts(query);\n    }\n  }, [query]);\n  const searchProducts = async searchQuery => {\n    setLoading(true);\n    setError(null);\n    try {\n      console.log('Calling API: http://localhost:9090/goods/compare with query:', searchQuery); // デバッグ用ログ\n\n      // 実際のAPI呼び出し\n      const response = await axios.post('http://localhost:9090/goods/compare', {\n        query: searchQuery\n      });\n      console.log('API Response:', response.data); // デバッグ用ログ\n\n      let responseData = [];\n      if (response.data && response.data.data) {\n        responseData = Array.isArray(response.data.data) ? response.data.data : [];\n      } else {\n        responseData = [];\n      }\n      console.log('Raw Response Data:', responseData); // デバッグ用ログ\n\n      console.log('Raw Response Data:', responseData); // デバッグ用ログ\n\n      // レスポンスデータが商品比較グループ形式か、単一商品リスト形式かを判定\n      let processedData = [];\n      if (responseData.length > 0) {\n        // 最初のアイテムを確認してデータ形式を判定\n        const firstItem = responseData[0];\n        console.log('First item keys:', Object.keys(firstItem)); // デバッグ用ログ\n        console.log('First item content:', firstItem); // デバッグ用ログ\n\n        if (firstItem.goods_list !== undefined) {\n          // 商品比較グループ形式 (各グループがgoods_listを持つ)\n          console.log('Detected group format'); // デバッグ用ログ\n          processedData = responseData.map(group => ({\n            goodsName: group.goods_name || '不明な商品',\n            goodsList: Array.isArray(group.goods_list) ? group.goods_list : [],\n            lowestPrice: group.lowest_price || null,\n            lowestPlatform: group.lowest_platform || '不明'\n          }));\n        } else {\n          // 単一商品リスト形式 - 比較グループに変換\n          console.log('Detected list format'); // デバッグ用ログ\n          console.log('Sample item:', responseData[0]); // デバッグ用ログ\n          console.log('Sample item keys:', Object.keys(responseData[0])); // デバッグ用ログ\n          console.log('Sample item values:', Object.values(responseData[0])); // デバッグ用ログ\n\n          // 同じ名前の商品をグループ化\n          const grouped = responseData.reduce((acc, item) => {\n            // 商品名を取得（複数のプロパティ名を確認）\n            console.log('Item for name extraction:', item); // デバッグ用ログ\n            const name = item.goodsName || item.name || item.title || item.productName || '不明な商品';\n            console.log('Extracted name:', name); // デバッグ用ログ\n            if (!acc[name]) {\n              acc[name] = {\n                goodsName: name,\n                goodsList: [],\n                lowestPrice: null,\n                lowestPlatform: ''\n              };\n            }\n            acc[name].goodsList.push(item);\n\n            // 最低価格を更新\n            console.log('Item for price extraction:', item); // デバッグ用ログ\n            const price = item.goodsPrice || item.price || item.currentPrice || item.salePrice || item.lowestPrice;\n            console.log('Extracted price:', price); // デバッグ用ログ\n            if (acc[name].lowestPrice === null || price && price < acc[name].lowestPrice) {\n              acc[name].lowestPrice = price;\n            }\n\n            // 最低価格プラットフォームを更新\n            if (acc[name].lowestPrice === price) {\n              // プラットフォーム名を取得\n              console.log('Item for platform extraction:', item); // デバッグ用ログ\n              const platformType = item.mallType || item.platformType || item.shopType || 0;\n              console.log('Extracted platformType:', platformType); // デバッグ用ログ\n              switch (platformType) {\n                case 10:\n                  acc[name].lowestPlatform = '楽天';\n                  break;\n                case 20:\n                  acc[name].lowestPlatform = 'ヤフー';\n                  break;\n                case 30:\n                  acc[name].lowestPlatform = 'タオバオ';\n                  break;\n                default:\n                  acc[name].lowestPlatform = '不明なプラットフォーム';\n              }\n            }\n            return acc;\n          }, {});\n          processedData = Object.values(grouped);\n        }\n      }\n      console.log('Final processed data:', processedData); // デバッグ用ログ\n\n      setCompareGroups(processedData);\n      setLoading(false);\n    } catch (err) {\n      setError('検索に失敗しました。後ほど再試行してください');\n      setLoading(false);\n      console.error(err);\n    }\n  };\n  const handleSearch = e => {\n    e.preventDefault();\n    if (query.trim()) {\n      searchProducts(query);\n    }\n  };\n  const getPlatformName = mallType => {\n    switch (mallType) {\n      case 10:\n        return '楽天';\n      case 20:\n        return 'ヤフー';\n      case 30:\n        return 'タオバオ';\n      default:\n        return '不明なプラットフォーム';\n    }\n  };\n  const getPlatformColor = mallType => {\n    switch (mallType) {\n      case 10:\n        return '#ff4400';\n      // 楽天\n      case 20:\n        return '#00a0e9';\n      // ヤフー\n      case 30:\n        return '#ff6600';\n      // タオバオ\n      default:\n        return '#666';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"compare-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-section\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSearch,\n        className: \"search-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: query,\n          onChange: e => setQuery(e.target.value),\n          placeholder: \"\\u5546\\u54C1\\u540D\\u3092\\u5165\\u529B\\u3057\\u3066\\u4FA1\\u683C\\u6BD4\\u8F03...\",\n          className: \"search-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"search-button\",\n          children: \"\\u691C\\u7D22\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"\\u691C\\u7D22\\u4E2D...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 17\n    }, this), !loading && !error && compareGroups.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"compare-results\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u4FA1\\u683C\\u6BD4\\u8F03\\u7D50\\u679C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 11\n      }, this), compareGroups.map((group, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"compare-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"group-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: group.goodsName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 17\n          }, this), group.lowestPrice !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lowest-price\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u6700\\u5B89\\u5024: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"price\",\n              children: [\"\\xA5\", group.lowestPrice]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"platform\",\n              children: [\"(\", group.lowestPlatform, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-list\",\n          children: (group.goodsList || []).map((product, productIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"product-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-image\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: product.imgUrl || 'https://picsum.photos/100/100?random=product',\n                  alt: product.goodsName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-details\",\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: product.goodsName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"price\",\n                  style: {\n                    color: getPlatformColor(product.mallType)\n                  },\n                  children: [\"\\xA5\", product.goodsPrice]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"platform\",\n                  style: {\n                    color: getPlatformColor(product.mallType)\n                  },\n                  children: getPlatformName(product.mallType)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-actions\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: product.goodsLink,\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                className: \"buy-button\",\n                children: \"\\u8CFC\\u5165\\u3059\\u308B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 21\n            }, this)]\n          }, productIndex, true, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 9\n    }, this), !loading && !error && compareGroups.length === 0 && query && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-results\",\n      children: \"\\u95A2\\u9023\\u5546\\u54C1\\u304C\\u898B\\u3064\\u304B\\u308A\\u307E\\u305B\\u3093\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 5\n  }, this);\n};\n_s(ComparePage, \"kkcTY4PobbZCHRyS5WacFKcr8+w=\", false, function () {\n  return [useSearchParams];\n});\n_c = ComparePage;\nexport default ComparePage;\nvar _c;\n$RefreshReg$(_c, \"ComparePage\");","map":{"version":3,"names":["React","useState","useEffect","useSearchParams","axios","jsxDEV","_jsxDEV","ComparePage","_s","searchParams","query","setQuery","get","compareGroups","setCompareGroups","loading","setLoading","error","setError","trim","searchProducts","searchQuery","console","log","response","post","data","responseData","Array","isArray","processedData","length","firstItem","Object","keys","goods_list","undefined","map","group","goodsName","goods_name","goodsList","lowestPrice","lowest_price","lowestPlatform","lowest_platform","values","grouped","reduce","acc","item","name","title","productName","push","price","goodsPrice","currentPrice","salePrice","platformType","mallType","shopType","err","handleSearch","e","preventDefault","getPlatformName","getPlatformColor","className","children","onSubmit","type","value","onChange","target","placeholder","fileName","_jsxFileName","lineNumber","columnNumber","index","product","productIndex","src","imgUrl","alt","style","color","href","goodsLink","rel","_c","$RefreshReg$"],"sources":["C:/Users/3jz/Desktop/HJZDM/frontend/hjzdm-frontend/src/pages/ComparePage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport axios from 'axios';\nimport './ComparePage.css';\n\ninterface Product {\n  goodsId?: number;\n  goodsName: string;\n  goodsPrice: number;\n  goodsLink: string;\n  imgUrl?: string;\n  mallType: number;\n}\n\ninterface CompareGroup {\n  goodsName: string;\n  goodsList: Product[];\n  lowestPrice: number | null;\n  lowestPlatform?: string;\n}\n\nconst ComparePage: React.FC = () => {\n  const [searchParams] = useSearchParams();\n  const [query, setQuery] = useState(searchParams.get('query') || '');\n  const [compareGroups, setCompareGroups] = useState<CompareGroup[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  // 実際のAPI呼び出し\n  useEffect(() => {\n    if (query.trim()) {\n      searchProducts(query);\n    }\n  }, [query]);\n\n  const searchProducts = async (searchQuery: string) => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      console.log('Calling API: http://localhost:9090/goods/compare with query:', searchQuery); // デバッグ用ログ\n      \n      // 実際のAPI呼び出し\n      const response = await axios.post('http://localhost:9090/goods/compare', {\n        query: searchQuery\n      });\n      \n      console.log('API Response:', response.data); // デバッグ用ログ\n      \n      let responseData = [];\n      if (response.data && response.data.data) {\n        responseData = Array.isArray(response.data.data) ? response.data.data : [];\n      } else {\n        responseData = [];\n      }\n      \n      console.log('Raw Response Data:', responseData); // デバッグ用ログ\n      \n      console.log('Raw Response Data:', responseData); // デバッグ用ログ\n      \n      // レスポンスデータが商品比較グループ形式か、単一商品リスト形式かを判定\n      let processedData = [];\n      \n      if (responseData.length > 0) {\n        // 最初のアイテムを確認してデータ形式を判定\n        const firstItem = responseData[0];\n        \n        console.log('First item keys:', Object.keys(firstItem)); // デバッグ用ログ\n        console.log('First item content:', firstItem); // デバッグ用ログ\n        \n        if (firstItem.goods_list !== undefined) {\n          // 商品比較グループ形式 (各グループがgoods_listを持つ)\n          console.log('Detected group format'); // デバッグ用ログ\n          processedData = responseData.map((group: any) => ({\n            goodsName: group.goods_name || '不明な商品',\n            goodsList: Array.isArray(group.goods_list) ? group.goods_list : [],\n            lowestPrice: group.lowest_price || null,\n            lowestPlatform: group.lowest_platform || '不明'\n          }));\n        } else {\n          // 単一商品リスト形式 - 比較グループに変換\n          console.log('Detected list format'); // デバッグ用ログ\n          console.log('Sample item:', responseData[0]); // デバッグ用ログ\n          console.log('Sample item keys:', Object.keys(responseData[0])); // デバッグ用ログ\n          console.log('Sample item values:', Object.values(responseData[0])); // デバッグ用ログ\n          \n          // 同じ名前の商品をグループ化\n          const grouped = responseData.reduce((acc: any, item: any) => {\n            // 商品名を取得（複数のプロパティ名を確認）\n            console.log('Item for name extraction:', item); // デバッグ用ログ\n            const name = item.goodsName || item.name || item.title || item.productName || '不明な商品';\n            console.log('Extracted name:', name); // デバッグ用ログ\n            if (!acc[name]) {\n              acc[name] = {\n                goodsName: name,\n                goodsList: [],\n                lowestPrice: null,\n                lowestPlatform: ''\n              };\n            }\n            acc[name].goodsList.push(item);\n            \n            // 最低価格を更新\n            console.log('Item for price extraction:', item); // デバッグ用ログ\n            const price = item.goodsPrice || item.price || item.currentPrice || item.salePrice || item.lowestPrice;\n            console.log('Extracted price:', price); // デバッグ用ログ\n            if (acc[name].lowestPrice === null || (price && price < acc[name].lowestPrice)) {\n              acc[name].lowestPrice = price;\n            }\n            \n            // 最低価格プラットフォームを更新\n            if (acc[name].lowestPrice === price) {\n              // プラットフォーム名を取得\n              console.log('Item for platform extraction:', item); // デバッグ用ログ\n              const platformType = item.mallType || item.platformType || item.shopType || 0;\n              console.log('Extracted platformType:', platformType); // デバッグ用ログ\n              switch(platformType) {\n                case 10:\n                  acc[name].lowestPlatform = '楽天';\n                  break;\n                case 20:\n                  acc[name].lowestPlatform = 'ヤフー';\n                  break;\n                case 30:\n                  acc[name].lowestPlatform = 'タオバオ';\n                  break;\n                default:\n                  acc[name].lowestPlatform = '不明なプラットフォーム';\n              }\n            }\n            \n            return acc;\n          }, {});\n          \n          processedData = Object.values(grouped);\n        }\n      }\n      \n      console.log('Final processed data:', processedData); // デバッグ用ログ\n      \n      setCompareGroups(processedData);\n      setLoading(false);\n    } catch (err) {\n      setError('検索に失敗しました。後ほど再試行してください');\n      setLoading(false);\n      console.error(err);\n    }\n  };\n\n  const handleSearch = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (query.trim()) {\n      searchProducts(query);\n    }\n  };\n\n  const getPlatformName = (mallType: number): string => {\n    switch (mallType) {\n      case 10: return '楽天';\n      case 20: return 'ヤフー';\n      case 30: return 'タオバオ';\n      default: return '不明なプラットフォーム';\n    }\n  };\n\n  const getPlatformColor = (mallType: number): string => {\n    switch (mallType) {\n      case 10: return '#ff4400'; // 楽天\n      case 20: return '#00a0e9'; // ヤフー\n      case 30: return '#ff6600'; // タオバオ\n      default: return '#666';\n    }\n  };\n\n  return (\n    <div className=\"compare-page\">\n      <div className=\"search-section\">\n        <form onSubmit={handleSearch} className=\"search-form\">\n          <input\n            type=\"text\"\n            value={query}\n            onChange={(e) => setQuery(e.target.value)}\n            placeholder=\"商品名を入力して価格比較...\"\n            className=\"search-input\"\n          />\n          <button type=\"submit\" className=\"search-button\">検索</button>\n        </form>\n      </div>\n\n      {loading && <div className=\"loading\">検索中...</div>}\n      {error && <div className=\"error\">{error}</div>}\n\n      {!loading && !error && compareGroups.length > 0 && (\n        <div className=\"compare-results\">\n          <h2>価格比較結果</h2>\n          {compareGroups.map((group, index) => (\n            <div key={index} className=\"compare-group\">\n              <div className=\"group-header\">\n                <h3>{group.goodsName}</h3>\n                {group.lowestPrice !== null && (\n                  <div className=\"lowest-price\">\n                    <span>最安値: </span>\n                    <span className=\"price\">¥{group.lowestPrice}</span>\n                    <span className=\"platform\">({group.lowestPlatform})</span>\n                  </div>\n                )}\n              </div>\n              \n              <div className=\"product-list\">\n                {(group.goodsList || []).map((product, productIndex) => (\n                  <div key={productIndex} className=\"product-item\">\n                    <div className=\"product-info\">\n                      <div className=\"product-image\">\n                        <img \n                          src={product.imgUrl || 'https://picsum.photos/100/100?random=product'} \n                          alt={product.goodsName} \n                        />\n                      </div>\n                      <div className=\"product-details\">\n                        <h4>{product.goodsName}</h4>\n                        <div className=\"price\" style={{ color: getPlatformColor(product.mallType) }}>\n                          ¥{product.goodsPrice}\n                        </div>\n                        <div className=\"platform\" style={{ color: getPlatformColor(product.mallType) }}>\n                          {getPlatformName(product.mallType)}\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"product-actions\">\n                      <a \n                        href={product.goodsLink} \n                        target=\"_blank\" \n                        rel=\"noopener noreferrer\"\n                        className=\"buy-button\"\n                      >\n                        購入する\n                      </a>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {!loading && !error && compareGroups.length === 0 && query && (\n        <div className=\"no-results\">関連商品が見つかりません</div>\n      )}\n    </div>\n  );\n};\n\nexport default ComparePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}