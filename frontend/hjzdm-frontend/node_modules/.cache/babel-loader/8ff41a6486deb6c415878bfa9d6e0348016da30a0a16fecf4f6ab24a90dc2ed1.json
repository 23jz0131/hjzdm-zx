{"ast":null,"code":"import axios from'axios';// 创建axios实例\nconst apiClient=axios.create({baseURL:'http://localhost:9090',// 后端API基础URL\ntimeout:10000// 请求超时时间\n});// 请求拦截器\napiClient.interceptors.request.use(config=>{const token=localStorage.getItem('token');if(token){config.headers.Authorization=token;}return config;},error=>{return Promise.reject(error);});// 响应拦截器\napiClient.interceptors.response.use(response=>{return response;},error=>{console.error('API Error:',error);return Promise.reject(error);});// API接口定义\nexport const goodsApi={// 搜索商品\nsearchGoods:query=>{return apiClient.post('/goods/search',{query});},// 比价搜索\ncompareGoods:query=>{return apiClient.post('/goods/compare',{query});},// 按名称搜索商品\nsearchGoodsByName:query=>{return apiClient.get(\"/goods/searchByName?query=\".concat(encodeURIComponent(query)));},// 获取商品详情\ngetGoodsDetail:goodsId=>{return apiClient.get(\"/goods/detail?goodsId=\".concat(goodsId));},// 获取所有商品（分页）\ngetAllGoods:function(){let page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;let size=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;return apiClient.post('/goods/pageAll',{pageNum:page,pageSize:size});},// 获取我的收藏\ngetMyCollect:function(){let page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;let size=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;return apiClient.post('/goods/myCollect',{pageNum:page,pageSize:size});},// 获取我的商品\ngetMyGoods:function(){let page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;let size=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;return apiClient.post('/goods/myGoods',{pageNum:page,pageSize:size});}};export const disclosureApi={// 新增爆料 (Add new disclosure)\nadd:data=>{return apiClient.post('/disclosure/add',data);},// 我的爆料 (My disclosures)\ngetMyDisclosure:function(){let page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;let size=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;return apiClient.post('/disclosure/queryMyDisclosure',{pageNum:page,pageSize:size});},// 公开爆料 (Public disclosures)\ngetPublicDisclosure:function(){let page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;let size=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;return apiClient.post('/disclosure/queryPublicList',{pageNum:page,pageSize:size});},// 审核爆料 (Audit)\naudit:(disclosureId,status)=>{return apiClient.post('/disclosure/audit',{disclosureId,status});},// 待审核爆料列表 (Admin pending)\ngetPendingDisclosure:function(){let page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;let size=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;return apiClient.post('/disclosure/queryPendingList',{pageNum:page,pageSize:size});}};export const userApi={// 获取浏览历史\ngetHistory:function(){let page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;let size=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;return apiClient.post('/user/queryHistory',{pageNum:page,pageSize:size});}};export default apiClient;","map":{"version":3,"names":["axios","apiClient","create","baseURL","timeout","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","error","Promise","reject","response","console","goodsApi","searchGoods","query","post","compareGoods","searchGoodsByName","get","concat","encodeURIComponent","getGoodsDetail","goodsId","getAllGoods","page","arguments","length","undefined","size","pageNum","pageSize","getMyCollect","getMyGoods","disclosureApi","add","data","getMyDisclosure","getPublicDisclosure","audit","disclosureId","status","getPendingDisclosure","userApi","getHistory"],"sources":["C:/Users/3jz/Desktop/HJZDM/frontend/hjzdm-frontend/src/services/api.ts"],"sourcesContent":["import axios from 'axios';\n\n// 创建axios实例\nconst apiClient = axios.create({\n  baseURL: 'http://localhost:9090', // 后端API基础URL\n  timeout: 10000, // 请求超时时间\n});\n\n// 请求拦截器\napiClient.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers.Authorization = token;\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// 响应拦截器\napiClient.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error) => {\n    console.error('API Error:', error);\n    return Promise.reject(error);\n  }\n);\n\n// API接口定义\nexport const goodsApi = {\n  // 搜索商品\n  searchGoods: (query: string) => {\n    return apiClient.post('/goods/search', { query });\n  },\n\n  // 比价搜索\n  compareGoods: (query: string) => {\n    return apiClient.post('/goods/compare', { query });\n  },\n\n  // 按名称搜索商品\n  searchGoodsByName: (query: string) => {\n    return apiClient.get(`/goods/searchByName?query=${encodeURIComponent(query)}`);\n  },\n\n  // 获取商品详情\n  getGoodsDetail: (goodsId: number) => {\n    return apiClient.get(`/goods/detail?goodsId=${goodsId}`);\n  },\n\n  // 获取所有商品（分页）\n  getAllGoods: (page: number = 1, size: number = 20) => {\n    return apiClient.post('/goods/pageAll', { pageNum: page, pageSize: size });\n  },\n  \n  // 获取我的收藏\n  getMyCollect: (page: number = 1, size: number = 20) => {\n    return apiClient.post('/goods/myCollect', { pageNum: page, pageSize: size });\n  },\n  \n  // 获取我的商品\n  getMyGoods: (page: number = 1, size: number = 20) => {\n    return apiClient.post('/goods/myGoods', { pageNum: page, pageSize: size });\n  }\n};\n\nexport const disclosureApi = {\n  // 新增爆料 (Add new disclosure)\n  add: (data: { title: string; content: string; link: string; disclosurePrice: number; imgUrl?: string }) => {\n    return apiClient.post('/disclosure/add', data);\n  },\n  \n  // 我的爆料 (My disclosures)\n  getMyDisclosure: (page: number = 1, size: number = 20) => {\n    return apiClient.post('/disclosure/queryMyDisclosure', { pageNum: page, pageSize: size });\n  },\n\n  // 公开爆料 (Public disclosures)\n  getPublicDisclosure: (page: number = 1, size: number = 20) => {\n    return apiClient.post('/disclosure/queryPublicList', { pageNum: page, pageSize: size });\n  },\n\n  // 审核爆料 (Audit)\n  audit: (disclosureId: number, status: number) => {\n    return apiClient.post('/disclosure/audit', { disclosureId, status });\n  },\n\n  // 待审核爆料列表 (Admin pending)\n  getPendingDisclosure: (page: number = 1, size: number = 20) => {\n    return apiClient.post('/disclosure/queryPendingList', { pageNum: page, pageSize: size });\n  }\n};\n\nexport const userApi = {\n  // 获取浏览历史\n  getHistory: (page: number = 1, size: number = 20) => {\n    return apiClient.post('/user/queryHistory', { pageNum: page, pageSize: size });\n  }\n};\n\nexport default apiClient;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}