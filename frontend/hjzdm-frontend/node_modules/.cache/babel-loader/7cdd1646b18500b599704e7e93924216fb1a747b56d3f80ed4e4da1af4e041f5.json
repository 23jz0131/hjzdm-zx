{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\3jz\\\\Desktop\\\\HJZDM\\\\frontend\\\\hjzdm-frontend\\\\src\\\\pages\\\\CommunityPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { disclosureApi, disclosureOperateApi, commentApi } from '../services/api';\nimport { getImageUrl } from '../utils/urlUtils';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CommunityPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const [disclosures, setDisclosures] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [commentMap, setCommentMap] = useState({});\n  const [commentInput, setCommentInput] = useState({});\n  const [replyTo, setReplyTo] = useState({});\n  const [openComments, setOpenComments] = useState({});\n  const [commentLoading, setCommentLoading] = useState({});\n\n  // Japanese Labels\n  const labels = {\n    title: '„Åø„Çì„Å™„ÅÆÊäïÁ®ø',\n    loading: 'Ë™≠„ÅøËæº„Åø‰∏≠...',\n    empty: 'ÊäïÁ®ø„Åå„Åæ„Å†„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇÊúÄÂàù„ÅÆÊäïÁ®øËÄÖ„Å´„Å™„Çä„Åæ„Åó„Çá„ÅÜÔºÅ',\n    viewProduct: 'ÂïÜÂìÅ„ÇíË¶ã„Çã',\n    like: '„ÅÑ„ÅÑ„Å≠',\n    save: '‰øùÂ≠ò',\n    comment: '„Ç≥„É°„É≥„Éà',\n    loadingComments: '„Ç≥„É°„É≥„ÉàË™≠„ÅøËæº„Åø‰∏≠...',\n    reply: 'Ëøî‰ø°',\n    delete: 'ÂâäÈô§',\n    replyingTo: 'Ëøî‰ø°ÂÖà',\n    cancel: 'ÂèñÊ∂à',\n    writeComment: '„Ç≥„É°„É≥„Éà„ÇíÂÖ•Âäõ...',\n    send: 'ÈÄÅ‰ø°',\n    anonymous: 'ÂåøÂêç',\n    deleteConfirm: 'Êú¨ÂΩì„Å´„Åì„ÅÆ„Ç≥„É°„É≥„Éà„ÇíÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü'\n  };\n  useEffect(() => {\n    loadDisclosures();\n  }, []);\n  const loadDisclosures = async () => {\n    try {\n      setLoading(true);\n      const res = await disclosureApi.getPublicDisclosure(1, 100);\n      setDisclosures(res.data.data || []);\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const ensureLogin = () => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      navigate('/login');\n      return false;\n    }\n    return true;\n  };\n  const loadComments = async disclosureId => {\n    try {\n      setCommentLoading(prev => ({\n        ...prev,\n        [disclosureId]: true\n      }));\n      const res = await commentApi.list(disclosureId);\n      const list = res.data.data || [];\n      setCommentMap(prev => ({\n        ...prev,\n        [disclosureId]: list\n      }));\n    } catch (e) {\n      console.error(e);\n    } finally {\n      setCommentLoading(prev => ({\n        ...prev,\n        [disclosureId]: false\n      }));\n    }\n  };\n  const toggleComments = disclosureId => {\n    const isOpen = openComments[disclosureId];\n    const nextOpen = !isOpen;\n    setOpenComments(prev => ({\n      ...prev,\n      [disclosureId]: nextOpen\n    }));\n    if (nextOpen && !commentMap[disclosureId]) {\n      loadComments(disclosureId);\n    }\n  };\n  const handleSubmitComment = async disclosureId => {\n    if (!ensureLogin()) return;\n    const text = (commentInput[disclosureId] || '').trim();\n    if (!text) {\n      return;\n    }\n    const replyTarget = replyTo[disclosureId];\n    try {\n      await commentApi.add({\n        disclosureId,\n        content: text,\n        parentId: replyTarget ? replyTarget.id : undefined\n      });\n      setCommentInput(prev => ({\n        ...prev,\n        [disclosureId]: ''\n      }));\n      setReplyTo(prev => ({\n        ...prev,\n        [disclosureId]: null\n      }));\n      loadComments(disclosureId);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n  const handleDeleteComment = async (disclosureId, commentId) => {\n    if (!ensureLogin()) return;\n    if (!window.confirm(labels.deleteConfirm)) {\n      return;\n    }\n    try {\n      await commentApi.del(commentId);\n      loadComments(disclosureId);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n  const handleReply = (disclosureId, comment) => {\n    if (!ensureLogin()) return;\n    setReplyTo(prev => ({\n      ...prev,\n      [disclosureId]: comment\n    }));\n    setOpenComments(prev => ({\n      ...prev,\n      [disclosureId]: true\n    }));\n  };\n  const handleLike = async id => {\n    if (!ensureLogin()) return;\n    await disclosureOperateApi.like(id);\n  };\n  const handleCollect = async id => {\n    if (!ensureLogin()) return;\n    await disclosureOperateApi.collect(id);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"community-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"page-title\",\n      children: labels.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-state\",\n      children: labels.loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }, this) : disclosures.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"empty-state\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-icon\",\n        children: \"\\uD83D\\uDCAC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: labels.empty\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"community-masonry\",\n      children: disclosures.map(item => {\n        var _replyTo$item$disclos;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"community-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-media\",\n            children: [item.imgUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: getImageUrl(item.imgUrl.split(',')[0]),\n              alt: item.title,\n              onError: e => e.target.src = 'https://placehold.co/400x300'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"https://placehold.co/400x300\",\n              alt: \"No Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 19\n            }, this), item.imgUrl && item.imgUrl.split(',').length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-image-count\",\n              children: [\"+\", item.imgUrl.split(',').length - 1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-price-tag\",\n              children: [\"\\xA5\", item.disclosurePrice.toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"card-title\",\n              children: item.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text\",\n              children: item.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-meta\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"meta-left\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"meta-date\",\n                  children: new Date(item.createTime).toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"meta-actions\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-icon\",\n                  onClick: () => handleLike(item.disclosureId),\n                  title: labels.like,\n                  children: \"\\u2764\\uFE0F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-icon\",\n                  onClick: () => handleCollect(item.disclosureId),\n                  title: labels.save,\n                  children: \"\\u2B50\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-icon\",\n                  onClick: () => toggleComments(item.disclosureId),\n                  title: labels.comment,\n                  children: \"\\uD83D\\uDCAC\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: item.link,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              className: \"btn-visit\",\n              children: labels.viewProduct\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `comments-section ${openComments[item.disclosureId] ? 'open' : ''}`,\n              children: commentLoading[item.disclosureId] ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"loading-comments\",\n                children: labels.loadingComments\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"comments-list\",\n                  children: (commentMap[item.disclosureId] || []).map(c => {\n                    const commentsForDisclosure = commentMap[item.disclosureId] || [];\n                    const parent = c.parentId ? commentsForDisclosure.find(p => p.id === c.parentId) : undefined;\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"comment-bubble\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"comment-header\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"comment-user\",\n                          children: c.nickName || labels.anonymous\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 232,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"comment-time\",\n                          children: new Date(c.createTime).toLocaleDateString()\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 233,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 231,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"comment-content\",\n                        children: [parent && /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"reply-tag\",\n                          children: [\"@\", parent.nickName || labels.anonymous]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 236,\n                          columnNumber: 44\n                        }, this), c.content]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 235,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"comment-actions\",\n                        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => handleReply(item.disclosureId, c),\n                          children: labels.reply\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 240,\n                          columnNumber: 33\n                        }, this), c.owner && /*#__PURE__*/_jsxDEV(\"button\", {\n                          onClick: () => handleDeleteComment(item.disclosureId, c.id),\n                          className: \"delete-btn\",\n                          children: labels.delete\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 241,\n                          columnNumber: 45\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 239,\n                        columnNumber: 31\n                      }, this)]\n                    }, c.id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 230,\n                      columnNumber: 29\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"comment-input-area\",\n                  children: [replyTo[item.disclosureId] && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"replying-to\",\n                    children: [labels.replyingTo, \" \", (_replyTo$item$disclos = replyTo[item.disclosureId]) === null || _replyTo$item$disclos === void 0 ? void 0 : _replyTo$item$disclos.nickName, /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => setReplyTo(prev => ({\n                        ...prev,\n                        [item.disclosureId]: null\n                      })),\n                      children: \"\\xD7\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 252,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"input-group\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      value: commentInput[item.disclosureId] || '',\n                      onChange: e => setCommentInput(prev => ({\n                        ...prev,\n                        [item.disclosureId]: e.target.value\n                      })),\n                      placeholder: labels.writeComment,\n                      onKeyDown: e => e.key === 'Enter' && handleSubmitComment(item.disclosureId)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 256,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => handleSubmitComment(item.disclosureId),\n                      children: labels.send\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 263,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 255,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this)]\n        }, item.disclosureId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 159,\n    columnNumber: 5\n  }, this);\n};\n_s(CommunityPage, \"JyPaTL4R/gLHek/jprMorXCY1Co=\", false, function () {\n  return [useNavigate];\n});\n_c = CommunityPage;\nexport default CommunityPage;\nvar _c;\n$RefreshReg$(_c, \"CommunityPage\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","disclosureApi","disclosureOperateApi","commentApi","getImageUrl","jsxDEV","_jsxDEV","Fragment","_Fragment","CommunityPage","_s","navigate","disclosures","setDisclosures","loading","setLoading","commentMap","setCommentMap","commentInput","setCommentInput","replyTo","setReplyTo","openComments","setOpenComments","commentLoading","setCommentLoading","labels","title","empty","viewProduct","like","save","comment","loadingComments","reply","delete","replyingTo","cancel","writeComment","send","anonymous","deleteConfirm","loadDisclosures","res","getPublicDisclosure","data","err","console","error","ensureLogin","token","localStorage","getItem","loadComments","disclosureId","prev","list","e","toggleComments","isOpen","nextOpen","handleSubmitComment","text","trim","replyTarget","add","content","parentId","id","undefined","handleDeleteComment","commentId","window","confirm","del","handleReply","handleLike","handleCollect","collect","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","item","_replyTo$item$disclos","imgUrl","src","split","alt","onError","target","disclosurePrice","toLocaleString","Date","createTime","toLocaleDateString","onClick","href","link","rel","c","commentsForDisclosure","parent","find","p","nickName","owner","type","value","onChange","placeholder","onKeyDown","key","_c","$RefreshReg$"],"sources":["C:/Users/3jz/Desktop/HJZDM/frontend/hjzdm-frontend/src/pages/CommunityPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { disclosureApi, disclosureOperateApi, commentApi } from '../services/api';\nimport { getImageUrl } from '../utils/urlUtils';\n\ninterface Disclosure {\n  disclosureId: number;\n  title: string;\n  content: string;\n  link: string;\n  disclosurePrice: number;\n  imgUrl?: string;\n  createTime: string;\n  authorName?: string;\n}\n\ninterface Comment {\n  id: number;\n  parentId?: number;\n  disclosureId: number;\n  content: string;\n  createTime: string;\n  owner?: boolean;\n  avatarUrl?: string;\n  nickName?: string;\n  hasLike?: boolean;\n  status: number;\n  publisher?: boolean;\n}\n\nconst CommunityPage: React.FC = () => {\n  const navigate = useNavigate();\n  const [disclosures, setDisclosures] = useState<Disclosure[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [commentMap, setCommentMap] = useState<Record<number, Comment[]>>({});\n  const [commentInput, setCommentInput] = useState<Record<number, string>>({});\n  const [replyTo, setReplyTo] = useState<Record<number, Comment | null>>({});\n  const [openComments, setOpenComments] = useState<Record<number, boolean>>({});\n  const [commentLoading, setCommentLoading] = useState<Record<number, boolean>>({});\n\n  // Japanese Labels\n  const labels = {\n    title: '„Åø„Çì„Å™„ÅÆÊäïÁ®ø',\n    loading: 'Ë™≠„ÅøËæº„Åø‰∏≠...',\n    empty: 'ÊäïÁ®ø„Åå„Åæ„Å†„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇÊúÄÂàù„ÅÆÊäïÁ®øËÄÖ„Å´„Å™„Çä„Åæ„Åó„Çá„ÅÜÔºÅ',\n    viewProduct: 'ÂïÜÂìÅ„ÇíË¶ã„Çã',\n    like: '„ÅÑ„ÅÑ„Å≠',\n    save: '‰øùÂ≠ò',\n    comment: '„Ç≥„É°„É≥„Éà',\n    loadingComments: '„Ç≥„É°„É≥„ÉàË™≠„ÅøËæº„Åø‰∏≠...',\n    reply: 'Ëøî‰ø°',\n    delete: 'ÂâäÈô§',\n    replyingTo: 'Ëøî‰ø°ÂÖà',\n    cancel: 'ÂèñÊ∂à',\n    writeComment: '„Ç≥„É°„É≥„Éà„ÇíÂÖ•Âäõ...',\n    send: 'ÈÄÅ‰ø°',\n    anonymous: 'ÂåøÂêç',\n    deleteConfirm: 'Êú¨ÂΩì„Å´„Åì„ÅÆ„Ç≥„É°„É≥„Éà„ÇíÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü'\n  };\n\n  useEffect(() => {\n    loadDisclosures();\n  }, []);\n\n  const loadDisclosures = async () => {\n    try {\n      setLoading(true);\n      const res = await disclosureApi.getPublicDisclosure(1, 100);\n      setDisclosures(res.data.data || []);\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const ensureLogin = () => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      navigate('/login');\n      return false;\n    }\n    return true;\n  };\n\n  const loadComments = async (disclosureId: number) => {\n    try {\n      setCommentLoading(prev => ({ ...prev, [disclosureId]: true }));\n      const res = await commentApi.list(disclosureId);\n      const list: Comment[] = res.data.data || [];\n      setCommentMap(prev => ({ ...prev, [disclosureId]: list }));\n    } catch (e) {\n      console.error(e);\n    } finally {\n      setCommentLoading(prev => ({ ...prev, [disclosureId]: false }));\n    }\n  };\n\n  const toggleComments = (disclosureId: number) => {\n    const isOpen = openComments[disclosureId];\n    const nextOpen = !isOpen;\n    setOpenComments(prev => ({ ...prev, [disclosureId]: nextOpen }));\n    if (nextOpen && !commentMap[disclosureId]) {\n      loadComments(disclosureId);\n    }\n  };\n\n  const handleSubmitComment = async (disclosureId: number) => {\n    if (!ensureLogin()) return;\n    const text = (commentInput[disclosureId] || '').trim();\n    if (!text) {\n      return;\n    }\n    const replyTarget = replyTo[disclosureId];\n    try {\n      await commentApi.add({\n        disclosureId,\n        content: text,\n        parentId: replyTarget ? replyTarget.id : undefined\n      });\n      setCommentInput(prev => ({ ...prev, [disclosureId]: '' }));\n      setReplyTo(prev => ({ ...prev, [disclosureId]: null }));\n      loadComments(disclosureId);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  const handleDeleteComment = async (disclosureId: number, commentId: number) => {\n    if (!ensureLogin()) return;\n    if (!window.confirm(labels.deleteConfirm)) {\n      return;\n    }\n    try {\n      await commentApi.del(commentId);\n      loadComments(disclosureId);\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  const handleReply = (disclosureId: number, comment: Comment) => {\n    if (!ensureLogin()) return;\n    setReplyTo(prev => ({ ...prev, [disclosureId]: comment }));\n    setOpenComments(prev => ({ ...prev, [disclosureId]: true }));\n  };\n\n  const handleLike = async (id: number) => {\n    if (!ensureLogin()) return;\n    await disclosureOperateApi.like(id);\n  };\n\n  const handleCollect = async (id: number) => {\n    if (!ensureLogin()) return;\n    await disclosureOperateApi.collect(id);\n  };\n\n  return (\n    <div className=\"community-page\">\n      <h2 className=\"page-title\">{labels.title}</h2>\n      \n      {loading ? (\n        <div className=\"loading-state\">{labels.loading}</div>\n      ) : disclosures.length === 0 ? (\n        <div className=\"empty-state\">\n          <div className=\"empty-icon\">üí¨</div>\n          <p>{labels.empty}</p>\n        </div>\n      ) : (\n        <div className=\"community-masonry\">\n          {disclosures.map((item) => (\n            <div key={item.disclosureId} className=\"community-card\">\n              <div className=\"card-media\">\n                {item.imgUrl ? (\n                  <img \n                    src={getImageUrl(item.imgUrl.split(',')[0])} \n                    alt={item.title} \n                    onError={(e) => (e.target as HTMLImageElement).src = 'https://placehold.co/400x300'}\n                  />\n                ) : (\n                  <img \n                    src=\"https://placehold.co/400x300\" \n                    alt=\"No Image\" \n                  />\n                )}\n                {item.imgUrl && item.imgUrl.split(',').length > 1 && (\n                  <div className=\"card-image-count\">\n                    +{item.imgUrl.split(',').length - 1}\n                  </div>\n                )}\n                <div className=\"card-price-tag\">¬•{item.disclosurePrice.toLocaleString()}</div>\n              </div>\n              \n              <div className=\"card-body\">\n                <h3 className=\"card-title\">{item.title}</h3>\n                <p className=\"card-text\">{item.content}</p>\n                \n                <div className=\"card-meta\">\n                  <div className=\"meta-left\">\n                    <span className=\"meta-date\">{new Date(item.createTime).toLocaleDateString()}</span>\n                  </div>\n                  <div className=\"meta-actions\">\n                    <button className=\"btn-icon\" onClick={() => handleLike(item.disclosureId)} title={labels.like}>\n                      ‚ù§Ô∏è\n                    </button>\n                    <button className=\"btn-icon\" onClick={() => handleCollect(item.disclosureId)} title={labels.save}>\n                      ‚≠ê\n                    </button>\n                    <button className=\"btn-icon\" onClick={() => toggleComments(item.disclosureId)} title={labels.comment}>\n                      üí¨\n                    </button>\n                  </div>\n                </div>\n\n                <a href={item.link} target=\"_blank\" rel=\"noopener noreferrer\" className=\"btn-visit\">\n                  {labels.viewProduct}\n                </a>\n\n                {/* Comments Section */}\n                <div className={`comments-section ${openComments[item.disclosureId] ? 'open' : ''}`}>\n                  {commentLoading[item.disclosureId] ? (\n                    <div className=\"loading-comments\">{labels.loadingComments}</div>\n                  ) : (\n                    <>\n                      <div className=\"comments-list\">\n                        {(commentMap[item.disclosureId] || []).map((c) => {\n                           const commentsForDisclosure = commentMap[item.disclosureId] || [];\n                           const parent = c.parentId ? commentsForDisclosure.find(p => p.id === c.parentId) : undefined;\n                           return (\n                            <div key={c.id} className=\"comment-bubble\">\n                              <div className=\"comment-header\">\n                                <span className=\"comment-user\">{c.nickName || labels.anonymous}</span>\n                                <span className=\"comment-time\">{new Date(c.createTime).toLocaleDateString()}</span>\n                              </div>\n                              <div className=\"comment-content\">\n                                {parent && <span className=\"reply-tag\">@{parent.nickName || labels.anonymous}</span>}\n                                {c.content}\n                              </div>\n                              <div className=\"comment-actions\">\n                                <button onClick={() => handleReply(item.disclosureId, c)}>{labels.reply}</button>\n                                {c.owner && <button onClick={() => handleDeleteComment(item.disclosureId, c.id)} className=\"delete-btn\">{labels.delete}</button>}\n                              </div>\n                            </div>\n                           );\n                        })}\n                      </div>\n                      \n                      <div className=\"comment-input-area\">\n                        {replyTo[item.disclosureId] && (\n                          <div className=\"replying-to\">\n                            {labels.replyingTo} {replyTo[item.disclosureId]?.nickName}\n                            <button onClick={() => setReplyTo(prev => ({ ...prev, [item.disclosureId]: null }))}>√ó</button>\n                          </div>\n                        )}\n                        <div className=\"input-group\">\n                          <input\n                            type=\"text\"\n                            value={commentInput[item.disclosureId] || ''}\n                            onChange={e => setCommentInput(prev => ({ ...prev, [item.disclosureId]: e.target.value }))}\n                            placeholder={labels.writeComment}\n                            onKeyDown={(e) => e.key === 'Enter' && handleSubmitComment(item.disclosureId)}\n                          />\n                          <button onClick={() => handleSubmitComment(item.disclosureId)}>{labels.send}</button>\n                        </div>\n                      </div>\n                    </>\n                  )}\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CommunityPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}