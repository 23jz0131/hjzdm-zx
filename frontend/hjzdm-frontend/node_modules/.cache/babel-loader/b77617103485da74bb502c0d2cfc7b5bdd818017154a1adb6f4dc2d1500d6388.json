{"ast":null,"code":"import React from'react';import{Link,useLocation,useNavigate}from'react-router-dom';import'./UserSidebar.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserSidebar=()=>{const location=useLocation();const navigate=useNavigate();const currentPath=location.pathname;const isAdmin=(()=>{const token=localStorage.getItem('token');if(!token)return false;try{const payload=JSON.parse(atob(token.split('.')[1]));return(payload===null||payload===void 0?void 0:payload.userId)===1;}catch(_unused){return false;}})();const menuItems=[{path:'/profile',label:'ãƒžã‚¤ãƒšãƒ¼ã‚¸',icon:'ðŸ‘¤'},{path:'/my-collection',label:'ãƒžã‚¤ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³',icon:'â¤ï¸'},{path:'/browse-history',label:'é–²è¦§å±¥æ­´',icon:'ðŸ•’'},{path:'/comparison-history',label:'æ¯”è¼ƒå±¥æ­´',icon:'âš–ï¸'},{path:'/my-tip',label:'ãƒžã‚¤ãƒ’ãƒ³ãƒˆ',icon:'ðŸ“¢'},...(isAdmin?[{path:'/admin/disclosures',label:'ç®¡ç†è€…ï¼šæŠ•ç¨¿å¯©æŸ»',icon:'ðŸ›¡ï¸'}]:[])];const handleLogout=()=>{localStorage.removeItem('token');navigate('/');};return/*#__PURE__*/_jsx(\"div\",{className:\"user-sidebar\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-menu\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"sidebar-title\",children:\"\\u30DE\\u30A4\\u30E1\\u30CB\\u30E5\\u30FC\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[menuItems.map(item=>/*#__PURE__*/_jsx(\"li\",{className:currentPath===item.path?'active':'',children:/*#__PURE__*/_jsxs(Link,{to:item.path,children:[/*#__PURE__*/_jsx(\"span\",{className:\"menu-icon\",children:item.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"menu-label\",children:item.label})]})},item.path)),/*#__PURE__*/_jsx(\"li\",{className:\"logout-item\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:\"sidebar-logout-btn\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"menu-icon\",children:\"\\uD83D\\uDEAA\"}),/*#__PURE__*/_jsx(\"span\",{className:\"menu-label\",children:\"\\u30ED\\u30B0\\u30A2\\u30A6\\u30C8\"})]})})]})]})});};export default UserSidebar;","map":{"version":3,"names":["React","Link","useLocation","useNavigate","jsx","_jsx","jsxs","_jsxs","UserSidebar","location","navigate","currentPath","pathname","isAdmin","token","localStorage","getItem","payload","JSON","parse","atob","split","userId","_unused","menuItems","path","label","icon","handleLogout","removeItem","className","children","map","item","to","onClick"],"sources":["C:/Users/3jz/Desktop/HJZDM/frontend/hjzdm-frontend/src/components/UserSidebar.tsx"],"sourcesContent":["import React from 'react';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport './UserSidebar.css';\n\nconst UserSidebar: React.FC = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const currentPath = location.pathname;\n\n  const isAdmin = (() => {\n    const token = localStorage.getItem('token');\n    if (!token) return false;\n    try {\n      const payload = JSON.parse(atob(token.split('.')[1]));\n      return payload?.userId === 1;\n    } catch {\n      return false;\n    }\n  })();\n\n  const menuItems = [\n    { path: '/profile', label: 'ãƒžã‚¤ãƒšãƒ¼ã‚¸', icon: 'ðŸ‘¤' },\n    { path: '/my-collection', label: 'ãƒžã‚¤ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³', icon: 'â¤ï¸' },\n    { path: '/browse-history', label: 'é–²è¦§å±¥æ­´', icon: 'ðŸ•’' },\n    { path: '/comparison-history', label: 'æ¯”è¼ƒå±¥æ­´', icon: 'âš–ï¸' },\n    { path: '/my-tip', label: 'ãƒžã‚¤ãƒ’ãƒ³ãƒˆ', icon: 'ðŸ“¢' },\n    ...(isAdmin ? [{ path: '/admin/disclosures', label: 'ç®¡ç†è€…ï¼šæŠ•ç¨¿å¯©æŸ»', icon: 'ðŸ›¡ï¸' }] : [])\n  ];\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    navigate('/');\n  };\n\n  return (\n    <div className=\"user-sidebar\">\n      <div className=\"sidebar-menu\">\n        <h3 className=\"sidebar-title\">ãƒžã‚¤ãƒ¡ãƒ‹ãƒ¥ãƒ¼</h3>\n        <ul>\n          {menuItems.map((item) => (\n            <li key={item.path} className={currentPath === item.path ? 'active' : ''}>\n              <Link to={item.path}>\n                <span className=\"menu-icon\">{item.icon}</span>\n                <span className=\"menu-label\">{item.label}</span>\n              </Link>\n            </li>\n          ))}\n          <li className=\"logout-item\">\n            <button onClick={handleLogout} className=\"sidebar-logout-btn\">\n              <span className=\"menu-icon\">ðŸšª</span>\n              <span className=\"menu-label\">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</span>\n            </button>\n          </li>\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nexport default UserSidebar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}