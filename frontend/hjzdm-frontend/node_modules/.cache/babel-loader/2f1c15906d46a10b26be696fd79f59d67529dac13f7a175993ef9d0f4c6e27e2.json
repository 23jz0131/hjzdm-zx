{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\3jz\\\\Desktop\\\\HJZDM\\\\frontend\\\\hjzdm-frontend\\\\src\\\\pages\\\\Home.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport './Home.css';\nimport { goodsApi } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const navigate = useNavigate();\n\n  // Categories (Kakaku style list)\n  const categories = [{\n    key: 'smartphone',\n    name: 'Smartphones / SIM',\n    image: 'https://placehold.co/20x20',\n    query: 'スマートフォン'\n  }, {\n    key: 'laptop',\n    name: 'PCs / Tablets',\n    image: 'https://placehold.co/20x20',\n    query: 'パソコン'\n  }, {\n    key: 'camera',\n    name: 'Cameras',\n    image: 'https://placehold.co/20x20',\n    query: 'カメラ'\n  }, {\n    key: 'appliance',\n    name: 'Home Appliances',\n    image: 'https://placehold.co/20x20',\n    query: '家電'\n  }, {\n    key: 'audio',\n    name: 'Audio / Headphones',\n    image: 'https://placehold.co/20x20',\n    query: 'イヤホン'\n  }, {\n    key: 'fashion',\n    name: 'Fashion / Watches',\n    image: 'https://placehold.co/20x20',\n    query: 'ファッション'\n  }, {\n    key: 'beauty',\n    name: 'Beauty / Health',\n    image: 'https://placehold.co/20x20',\n    query: '美容'\n  }, {\n    key: 'game',\n    name: 'Games / Toys',\n    image: 'https://placehold.co/20x20',\n    query: 'ゲーム'\n  }, {\n    key: 'outdoor',\n    name: 'Sports / Outdoor',\n    image: 'https://placehold.co/20x20',\n    query: 'スポーツ'\n  }, {\n    key: 'car',\n    name: 'Cars / Bikes',\n    image: 'https://placehold.co/20x20',\n    query: '車'\n  }];\n  const hotTags = ['iPhone 15', 'MacBook Air', 'Sony WH-1000XM5', 'Nintendo Switch', 'RTX 4070', 'iPad Air'];\n  useEffect(() => {\n    fetchRecommendedProducts();\n  }, []);\n  const fetchRecommendedProducts = async () => {\n    setLoading(true);\n    try {\n      // 优先使用真实平台数据：对热门关键词执行比价搜索并汇总最低价商品\n      const querySeeds = ['iPhone 15', 'MacBook Air', 'Nintendo Switch', 'Sony WH-1000XM5', 'iPad Air'];\n      const collected = [];\n      for (const q of querySeeds) {\n        try {\n          const res = await goodsApi.compareGoods(q);\n          if (res.data && res.data.code === 200 && Array.isArray(res.data.data)) {\n            // 展开每个分组的最低价商品\n            res.data.data.forEach(group => {\n              const list = Array.isArray(group.goodsList) ? group.goodsList : [];\n              if (list.length > 0) {\n                // 选择最低价条目\n                const cheapest = list.reduce((min, cur) => {\n                  const mp = typeof cur.goodsPrice === 'number' ? cur.goodsPrice : Number(cur.goodsPrice) || 0;\n                  const minp = typeof min.goodsPrice === 'number' ? min.goodsPrice : Number(min.goodsPrice) || 0;\n                  return mp > 0 && (minp === 0 || mp < minp) ? cur : min;\n                }, list[0]);\n                if (cheapest && cheapest.goodsName && cheapest.goodsPrice && cheapest.goodsLink) {\n                  collected.push({\n                    id: cheapest.goodsId || Math.floor(Math.random() * 1e9),\n                    name: cheapest.goodsName,\n                    price: cheapest.goodsPrice,\n                    imageUrl: typeof cheapest.imgUrl === 'string' ? cheapest.imgUrl : '',\n                    platform: getPlatformName(cheapest.mallType),\n                    originalPrice: cheapest.goodsPrice ? Math.floor(cheapest.goodsPrice * 1.1) : undefined,\n                    link: cheapest.goodsLink\n                  });\n                }\n              }\n            });\n          }\n        } catch (e) {\n          // 单个关键词失败时继续其他关键词\n          console.warn('compareGoods failed for', q, e);\n        }\n        if (collected.length >= 10) break;\n      }\n\n      // 如果比价数据不足，回退到单平台（乐天）搜索\n      if (collected.length < 5) {\n        try {\n          const fallbackRes = await goodsApi.searchGoods('iphone');\n          const items = fallbackRes.data && fallbackRes.data.data ? fallbackRes.data.data : [];\n          items.forEach(item => {\n            collected.push({\n              id: item.goodsId,\n              name: item.goodsName,\n              price: item.goodsPrice,\n              imageUrl: typeof item.imgUrl === 'string' ? item.imgUrl : '',\n              platform: getPlatformName(item.mallType),\n              originalPrice: item.goodsPrice ? Math.floor(item.goodsPrice * 1.1) : undefined,\n              link: item.goodsLink\n            });\n          });\n        } catch (e) {\n          console.warn('searchGoods fallback failed', e);\n        }\n      }\n\n      // 去重（按名称），并限制前 10\n      const uniqueByName = {};\n      collected.forEach(p => {\n        if (!uniqueByName[p.name]) {\n          uniqueByName[p.name] = p;\n        } else {\n          // 保留价格更低的\n          if (p.price > 0 && (uniqueByName[p.name].price === 0 || p.price < uniqueByName[p.name].price)) {\n            uniqueByName[p.name] = p;\n          }\n        }\n      });\n      const finalList = Object.values(uniqueByName).slice(0, 10);\n      setProducts(finalList);\n    } catch (err) {\n      console.error('Failed to load products:', err);\n      // Fallback data\n      setProducts(Array(5).fill(0).map((_, i) => ({\n        id: i,\n        name: 'Sample Product ' + (i + 1),\n        price: 10000 + i * 500,\n        imageUrl: '',\n        platform: 'Demo',\n        originalPrice: 12000\n      })));\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSearch = e => {\n    e.preventDefault();\n    if (searchQuery.trim()) {\n      navigate(`/compare?query=${encodeURIComponent(searchQuery)}`);\n    }\n  };\n  const getPlatformName = mallType => {\n    switch (mallType) {\n      case 10:\n        return '楽天';\n      case 20:\n        return 'Yahoo!ショッピング';\n      case 30:\n        return 'タオバオ';\n      case 40:\n        return 'Amazon';\n      default:\n        return 'その他';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"home-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n        className: \"home-sidebar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"sidebar-header\",\n            children: \"\\u30AB\\u30C6\\u30B4\\u30EA\\u304B\\u3089\\u63A2\\u3059\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"sidebar-menu\",\n            children: categories.map(c => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"sidebar-menu-item\",\n                onClick: () => navigate(`/compare?query=${encodeURIComponent(c.query)}`),\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: c.image,\n                  alt: \"\",\n                  onError: e => e.target.style.display = 'none'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 21\n                }, this), c.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 19\n              }, this)\n            }, c.key, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"sidebar-header\",\n            children: \"\\u30B5\\u30FC\\u30D3\\u30B9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"sidebar-menu\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/compare\",\n                className: \"sidebar-menu-item\",\n                children: \"\\u4FA1\\u683C\\u6BD4\\u8F03\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/browse-history\",\n                className: \"sidebar-menu-item\",\n                children: \"\\u95B2\\u89A7\\u5C65\\u6B74\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/my-collection\",\n                className: \"sidebar-menu-item\",\n                children: \"\\u30DE\\u30A4\\u30B3\\u30EC\\u30AF\\u30B7\\u30E7\\u30F3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"home-main\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"home-search-section\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSearch,\n            style: {\n              display: 'flex',\n              width: '100%',\n              gap: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: searchQuery,\n              onChange: e => setSearchQuery(e.target.value),\n              placeholder: \"\\u5546\\u54C1\\u540D\\u3001\\u578B\\u756A\\u3001\\u30AD\\u30FC\\u30EF\\u30FC\\u30C9\\u3092\\u5165\\u529B...\",\n              className: \"home-search-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"home-search-btn\",\n              children: \"\\u691C\\u7D22\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hot-tags\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u6CE8\\u76EE\\u30AD\\u30FC\\u30EF\\u30FC\\u30C9: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), hotTags.map(tag => /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            onClick: e => {\n              e.preventDefault();\n              navigate(`/compare?query=${encodeURIComponent(tag)}`);\n            },\n            children: tag\n          }, tag, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"section-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"section-title\",\n              children: \"\\u4EBA\\u6C17\\u5546\\u54C1\\u30E9\\u30F3\\u30AD\\u30F3\\u30B0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/compare\",\n              style: {\n                fontSize: '12px',\n                color: '#0033cc'\n              },\n              children: \"\\u3059\\u3079\\u3066\\u898B\\u308B >>\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ranking-list\",\n            children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: '20px',\n                textAlign: 'center',\n                color: '#666'\n              },\n              children: \"\\u30E9\\u30F3\\u30AD\\u30F3\\u30B0\\u8AAD\\u307F\\u8FBC\\u307F\\u4E2D...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 17\n            }, this) : products.map((product, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ranking-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `rank-num ${index < 3 ? 'top-3' : ''}`,\n                children: index + 1\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rank-img\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: product.imageUrl || 'https://placehold.co/80x80',\n                  alt: product.name,\n                  onError: e => e.target.src = 'https://placehold.co/80x80?text=NoImg'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rank-info\",\n                children: [product.link ? /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: product.link,\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\",\n                  className: \"rank-title\",\n                  children: product.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/compare?query=${encodeURIComponent(product.name)}`,\n                  className: \"rank-title\",\n                  children: product.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rank-meta\",\n                  children: [product.platform, \" | \\u8A55\\u4FA1: \\u2605\\u2605\\u2605\\u2605\\u2606 (\", (Math.random() * 100).toFixed(0), \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rank-price\",\n                  children: [\"\\xA5\", product.price.toLocaleString(), product.originalPrice && /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"rank-price-sub\",\n                    children: [\"(\", Math.round((1 - product.price / product.originalPrice) * 100), \"% OFF)\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 21\n              }, this)]\n            }, product.id || index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"BL/vsDVEj7e4ymSgo6yVgI4ro+o=\", false, function () {\n  return [useNavigate];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","goodsApi","jsxDEV","_jsxDEV","Home","_s","products","setProducts","loading","setLoading","searchQuery","setSearchQuery","navigate","categories","key","name","image","query","hotTags","fetchRecommendedProducts","querySeeds","collected","q","res","compareGoods","data","code","Array","isArray","forEach","group","list","goodsList","length","cheapest","reduce","min","cur","mp","goodsPrice","Number","minp","goodsName","goodsLink","push","id","goodsId","Math","floor","random","price","imageUrl","imgUrl","platform","getPlatformName","mallType","originalPrice","undefined","link","e","console","warn","fallbackRes","searchGoods","items","item","uniqueByName","p","finalList","Object","values","slice","err","error","fill","map","_","i","handleSearch","preventDefault","trim","encodeURIComponent","className","children","fileName","_jsxFileName","lineNumber","columnNumber","c","onClick","src","alt","onError","target","style","display","to","onSubmit","width","gap","type","value","onChange","placeholder","tag","href","marginTop","fontSize","color","padding","textAlign","product","index","rel","toFixed","toLocaleString","round","_c","$RefreshReg$"],"sources":["C:/Users/3jz/Desktop/HJZDM/frontend/hjzdm-frontend/src/pages/Home.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport './Home.css';\r\nimport { goodsApi } from '../services/api';\r\n\r\ninterface Product {\r\n  id: number;\r\n  name: string;\r\n  price: number;\r\n  imageUrl: string;\r\n  platform: string;\r\n  originalPrice?: number;\r\n  link?: string;\r\n}\r\n\r\nconst Home: React.FC = () => {\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  // Categories (Kakaku style list)\r\n  const categories = [\r\n    { key: 'smartphone', name: 'Smartphones / SIM', image: 'https://placehold.co/20x20', query: 'スマートフォン' },\r\n    { key: 'laptop', name: 'PCs / Tablets', image: 'https://placehold.co/20x20', query: 'パソコン' },\r\n    { key: 'camera', name: 'Cameras', image: 'https://placehold.co/20x20', query: 'カメラ' },\r\n    { key: 'appliance', name: 'Home Appliances', image: 'https://placehold.co/20x20', query: '家電' },\r\n    { key: 'audio', name: 'Audio / Headphones', image: 'https://placehold.co/20x20', query: 'イヤホン' },\r\n    { key: 'fashion', name: 'Fashion / Watches', image: 'https://placehold.co/20x20', query: 'ファッション' },\r\n    { key: 'beauty', name: 'Beauty / Health', image: 'https://placehold.co/20x20', query: '美容' },\r\n    { key: 'game', name: 'Games / Toys', image: 'https://placehold.co/20x20', query: 'ゲーム' },\r\n    { key: 'outdoor', name: 'Sports / Outdoor', image: 'https://placehold.co/20x20', query: 'スポーツ' },\r\n    { key: 'car', name: 'Cars / Bikes', image: 'https://placehold.co/20x20', query: '車' }\r\n  ];\r\n\r\n  const hotTags = ['iPhone 15', 'MacBook Air', 'Sony WH-1000XM5', 'Nintendo Switch', 'RTX 4070', 'iPad Air'];\r\n\r\n  useEffect(() => {\r\n    fetchRecommendedProducts();\r\n  }, []);\r\n\r\n  const fetchRecommendedProducts = async () => {\r\n    setLoading(true);\r\n    try {\r\n      // 优先使用真实平台数据：对热门关键词执行比价搜索并汇总最低价商品\r\n      const querySeeds = ['iPhone 15', 'MacBook Air', 'Nintendo Switch', 'Sony WH-1000XM5', 'iPad Air'];\r\n      const collected: Product[] = [];\r\n\r\n      for (const q of querySeeds) {\r\n        try {\r\n          const res = await goodsApi.compareGoods(q);\r\n          if (res.data && res.data.code === 200 && Array.isArray(res.data.data)) {\r\n            // 展开每个分组的最低价商品\r\n            res.data.data.forEach((group: {goodsList: {goodsName: string, goodsPrice: number, goodsLink: string, imgUrl: string, mallType: number}[]}) => {\r\n              const list = Array.isArray(group.goodsList) ? group.goodsList : [];\r\n              if (list.length > 0) {\r\n                // 选择最低价条目\r\n                const cheapest = list.reduce((min: {goodsPrice: number}, cur: {goodsPrice: number}) => {\r\n                  const mp = typeof cur.goodsPrice === 'number' ? cur.goodsPrice : Number(cur.goodsPrice) || 0;\r\n                  const minp = typeof min.goodsPrice === 'number' ? min.goodsPrice : Number(min.goodsPrice) || 0;\r\n                  return mp > 0 && (minp === 0 || mp < minp) ? cur : min;\r\n                }, list[0]);\r\n                if (cheapest && cheapest.goodsName && cheapest.goodsPrice && cheapest.goodsLink) {\r\n                  collected.push({\r\n                    id: cheapest.goodsId || Math.floor(Math.random() * 1e9),\r\n                    name: cheapest.goodsName,\r\n                    price: cheapest.goodsPrice,\r\n                    imageUrl: typeof cheapest.imgUrl === 'string' ? cheapest.imgUrl : '',\r\n                    platform: getPlatformName(cheapest.mallType),\r\n                    originalPrice: cheapest.goodsPrice ? Math.floor(cheapest.goodsPrice * 1.1) : undefined,\r\n                    link: cheapest.goodsLink\r\n                  });\r\n                }\r\n              }\r\n            });\r\n          }\r\n        } catch (e) {\r\n          // 单个关键词失败时继续其他关键词\r\n          console.warn('compareGoods failed for', q, e);\r\n        }\r\n        if (collected.length >= 10) break;\r\n      }\r\n\r\n      // 如果比价数据不足，回退到单平台（乐天）搜索\r\n      if (collected.length < 5) {\r\n        try {\r\n          const fallbackRes = await goodsApi.searchGoods('iphone');\r\n          const items = (fallbackRes.data && fallbackRes.data.data) ? fallbackRes.data.data : [];\r\n          items.forEach((item: {goodsName: string, goodsPrice: number, goodsLink: string, imgUrl: string, mallType: number}) => {\r\n            collected.push({\r\n              id: item.goodsId,\r\n              name: item.goodsName,\r\n              price: item.goodsPrice,\r\n              imageUrl: typeof item.imgUrl === 'string' ? item.imgUrl : '',\r\n              platform: getPlatformName(item.mallType),\r\n              originalPrice: item.goodsPrice ? Math.floor(item.goodsPrice * 1.1) : undefined,\r\n              link: item.goodsLink\r\n            });\r\n          });\r\n        } catch (e) {\r\n          console.warn('searchGoods fallback failed', e);\r\n        }\r\n      }\r\n\r\n      // 去重（按名称），并限制前 10\r\n      const uniqueByName: Record<string, Product> = {};\r\n      collected.forEach(p => {\r\n        if (!uniqueByName[p.name]) {\r\n          uniqueByName[p.name] = p;\r\n        } else {\r\n          // 保留价格更低的\r\n          if (p.price > 0 && (uniqueByName[p.name].price === 0 || p.price < uniqueByName[p.name].price)) {\r\n            uniqueByName[p.name] = p;\r\n          }\r\n        }\r\n      });\r\n      const finalList = Object.values(uniqueByName).slice(0, 10);\r\n      setProducts(finalList);\r\n    } catch (err) {\r\n      console.error('Failed to load products:', err);\r\n      // Fallback data\r\n      setProducts(Array(5).fill(0).map((_, i) => ({\r\n        id: i,\r\n        name: 'Sample Product ' + (i+1),\r\n        price: 10000 + i*500,\r\n        imageUrl: '',\r\n        platform: 'Demo',\r\n        originalPrice: 12000\r\n      })));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSearch = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (searchQuery.trim()) {\r\n      navigate(`/compare?query=${encodeURIComponent(searchQuery)}`);\r\n    }\r\n  };\r\n\r\n  const getPlatformName = (mallType: number): string => {\r\n    switch (mallType) {\r\n      case 10: return '楽天';\r\n      case 20: return 'Yahoo!ショッピング';\r\n      case 30: return 'タオバオ';\r\n      case 40: return 'Amazon';\r\n      default: return 'その他';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      <div className=\"home-container\">\r\n        {/* Left Sidebar: Categories */}\r\n        <aside className=\"home-sidebar\">\r\n          <div className=\"sidebar-box\">\r\n            <h3 className=\"sidebar-header\">カテゴリから探す</h3>\r\n            <ul className=\"sidebar-menu\">\r\n              {categories.map((c) => (\r\n                <li key={c.key}>\r\n                  <div \r\n                    className=\"sidebar-menu-item\"\r\n                    onClick={() => navigate(`/compare?query=${encodeURIComponent(c.query)}`)}\r\n                  >\r\n                    {/* Placeholder icon logic */}\r\n                    <img \r\n                      src={c.image} \r\n                      alt=\"\" \r\n                      onError={(e) => (e.target as HTMLImageElement).style.display = 'none'}\r\n                    />\r\n                    {c.name}\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n\r\n          <div className=\"sidebar-box\">\r\n            <h3 className=\"sidebar-header\">サービス</h3>\r\n            <ul className=\"sidebar-menu\">\r\n              <li><Link to=\"/compare\" className=\"sidebar-menu-item\">価格比較</Link></li>\r\n              <li><Link to=\"/browse-history\" className=\"sidebar-menu-item\">閲覧履歴</Link></li>\r\n              <li><Link to=\"/my-collection\" className=\"sidebar-menu-item\">マイコレクション</Link></li>\r\n            </ul>\r\n          </div>\r\n        </aside>\r\n\r\n        {/* Main Content */}\r\n        <main className=\"home-main\">\r\n          {/* Search Bar */}\r\n          <div className=\"home-search-section\">\r\n            <form onSubmit={handleSearch} style={{ display: 'flex', width: '100%', gap: '10px' }}>\r\n              <input\r\n                type=\"text\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n                placeholder=\"商品名、型番、キーワードを入力...\"\r\n                className=\"home-search-input\"\r\n              />\r\n              <button type=\"submit\" className=\"home-search-btn\">検索</button>\r\n            </form>\r\n          </div>\r\n\r\n          {/* Hot Keywords */}\r\n          <div className=\"hot-tags\">\r\n            <strong>注目キーワード: </strong>\r\n            {hotTags.map(tag => (\r\n              <a \r\n                key={tag} \r\n                href=\"#\" \r\n                onClick={(e) => { e.preventDefault(); navigate(`/compare?query=${encodeURIComponent(tag)}`); }}\r\n              >\r\n                {tag}\r\n              </a>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Ranking / Featured List */}\r\n          <div style={{ marginTop: '20px' }}>\r\n            <div className=\"section-header\">\r\n              <h3 className=\"section-title\">人気商品ランキング</h3>\r\n              <Link to=\"/compare\" style={{ fontSize: '12px', color: '#0033cc' }}>すべて見る &gt;&gt;</Link>\r\n            </div>\r\n\r\n            <div className=\"ranking-list\">\r\n              {loading ? (\r\n                <div style={{ padding: '20px', textAlign: 'center', color: '#666' }}>ランキング読み込み中...</div>\r\n              ) : (\r\n                products.map((product, index) => (\r\n                  <div key={product.id || index} className=\"ranking-row\">\r\n                    <div className={`rank-num ${index < 3 ? 'top-3' : ''}`}>{index + 1}</div>\r\n                    <div className=\"rank-img\">\r\n                      <img \r\n                        src={product.imageUrl || 'https://placehold.co/80x80'} \r\n                        alt={product.name}\r\n                        onError={(e) => (e.target as HTMLImageElement).src = 'https://placehold.co/80x80?text=NoImg'}\r\n                      />\r\n                    </div>\r\n                    <div className=\"rank-info\">\r\n                      {product.link ? (\r\n                        <a \r\n                          href={product.link} \r\n                          target=\"_blank\" \r\n                          rel=\"noopener noreferrer\" \r\n                          className=\"rank-title\"\r\n                        >\r\n                          {product.name}\r\n                        </a>\r\n                      ) : (\r\n                        <Link to={`/compare?query=${encodeURIComponent(product.name)}`} className=\"rank-title\">\r\n                          {product.name}\r\n                        </Link>\r\n                      )}\r\n                      <div className=\"rank-meta\">\r\n                        {product.platform} | 評価: ★★★★☆ ({(Math.random() * 100).toFixed(0)})\r\n                      </div>\r\n                      <div className=\"rank-price\">\r\n                        ¥{product.price.toLocaleString()}\r\n                        {product.originalPrice && (\r\n                          <span className=\"rank-price-sub\">\r\n                            ({Math.round((1 - product.price / product.originalPrice) * 100)}% OFF)\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              )}\r\n            </div>\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}