{"ast":null,"code":"import _objectSpread from\"C:/Users/3jz/Desktop/HJZDM/frontend/hjzdm-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import UserSidebar from'../components/UserSidebar';import'./MyTipPage.css';import{disclosureApi,commonApi}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MyTipPage=()=>{const[disclosures,setDisclosures]=useState([]);const[loading,setLoading]=useState(true);const[showForm,setShowForm]=useState(false);// Form state\nconst[formData,setFormData]=useState({title:'',content:'',link:'',price:'',imgUrl:''});useEffect(()=>{loadDisclosures();},[]);const loadDisclosures=async()=>{try{setLoading(true);const res=await disclosureApi.getMyDisclosure(1,100);setDisclosures(res.data.data||[]);}catch(err){console.error(err);}finally{setLoading(false);}};const handleSubmit=async e=>{e.preventDefault();try{await disclosureApi.add({title:formData.title,content:formData.content,link:formData.link,disclosurePrice:Number(formData.price),imgUrl:formData.imgUrl});alert('投稿しました！審査をお待ちください。');// Submitted! Please wait for review.\nsetShowForm(false);setFormData({title:'',content:'',link:'',price:'',imgUrl:''});loadDisclosures();}catch(err){alert('投稿に失敗しました。');// Failed to submit.\nconsole.error(err);}};const getStatusText=status=>{switch(status){case 0:return'審査中';case 1:return'承認済';case 2:return'却下';default:return'不明';}};const getStatusClass=status=>{switch(status){case 0:return'pending';case 1:return'approved';case 2:return'rejected';default:return'';}};const handleDelete=async(e,id)=>{e.preventDefault();e.stopPropagation();if(!window.confirm('本当に削除しますか？この操作は取り消せません。')){return;}try{await disclosureApi.delete(id);loadDisclosures();}catch(err){console.error(err);alert('削除に失敗しました。');}};const handleFileChange=async files=>{if(!files||files.length===0)return;const file=files[0];if(!file.type.startsWith('image/')){alert('画像ファイルを選択してください');return;}try{const res=await commonApi.upload(file);if(res.data&&res.data.code===200){// 假设后端地址是 http://localhost:9090 (本地开发)\n// 生产环境应使用相对路径或配置的域名\nconst backendUrl='http://localhost:9090';const fullUrl=backendUrl+res.data.data;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{imgUrl:fullUrl}));}else{alert('アップロード失敗');}}catch(e){console.error(e);alert('アップロードエラー');}};const handleDrop=e=>{e.preventDefault();handleFileChange(e.dataTransfer.files);};const handleDragOver=e=>{e.preventDefault();};return/*#__PURE__*/_jsxs(\"div\",{className:\"my-tip-page-wrapper\",style:{display:'flex',maxWidth:'1200px',margin:'20px auto',gap:'20px',padding:'0 15px'},children:[/*#__PURE__*/_jsx(UserSidebar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-tip-page\",style:{flex:1,padding:'20px',margin:0,maxWidth:'none',background:'#fff'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u30DE\\u30A4\\u30D2\\u30F3\\u30C8 (\\u6295\\u7A3F\\u7BA1\\u7406)\"}),/*#__PURE__*/_jsx(\"button\",{className:\"submit-button\",onClick:()=>setShowForm(!showForm),children:showForm?'キャンセル':'新規投稿'})]}),showForm&&/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"tip-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u5546\\u54C1\\u540D / \\u30BF\\u30A4\\u30C8\\u30EB\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:formData.title,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{title:e.target.value})),placeholder:\"\\u4F8B: iPhone 15 Pro 256GB\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u4FA1\\u683C (\\u5186)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",required:true,value:formData.price,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{price:e.target.value})),placeholder:\"\\u4F8B: 150000\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u5546\\u54C1\\u30EA\\u30F3\\u30AF (URL)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",required:true,value:formData.link,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{link:e.target.value})),placeholder:\"https://...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u753B\\u50CF\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"image-uploader\",onDrop:handleDrop,onDragOver:handleDragOver,style:{border:'2px dashed #ccc',borderRadius:'8px',padding:'20px',textAlign:'center',cursor:'pointer',background:'#fafafa',marginBottom:'10px'},onClick:()=>{var _document$getElementB;return(_document$getElementB=document.getElementById('file-input'))===null||_document$getElementB===void 0?void 0:_document$getElementB.click();},children:[formData.imgUrl?/*#__PURE__*/_jsx(\"img\",{src:formData.imgUrl,alt:\"Preview\",style:{maxHeight:'300px',maxWidth:'100%',width:'auto',height:'auto',objectFit:'contain',display:'block',margin:'0 auto'}}):/*#__PURE__*/_jsx(\"p\",{style:{color:'#999',margin:0},children:\"\\u753B\\u50CF\\u3092\\u30C9\\u30E9\\u30C3\\u30B0\\uFF06\\u30C9\\u30ED\\u30C3\\u30D7\\u3001\\u307E\\u305F\\u306F\\u30AF\\u30EA\\u30C3\\u30AF\\u3057\\u3066\\u30A2\\u30C3\\u30D7\\u30ED\\u30FC\\u30C9\"}),/*#__PURE__*/_jsx(\"input\",{id:\"file-input\",type:\"file\",accept:\"image/*\",style:{display:'none'},onChange:e=>handleFileChange(e.target.files)})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.imgUrl,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{imgUrl:e.target.value})),placeholder:\"\\u307E\\u305F\\u306F\\u753B\\u50CFURL\\u3092\\u76F4\\u63A5\\u5165\\u529B\",style:{width:'100%',padding:'8px',border:'1px solid #ddd',borderRadius:'4px',boxSizing:'border-box'}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u8AAC\\u660E / \\u30B3\\u30E1\\u30F3\\u30C8\"}),/*#__PURE__*/_jsx(\"textarea\",{required:true,value:formData.content,onChange:e=>setFormData(_objectSpread(_objectSpread({},formData),{},{content:e.target.value})),placeholder:\"\\u304A\\u5F97\\u306A\\u60C5\\u5831\\u3084\\u8A73\\u7D30\\u3092\\u8A18\\u5165\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044...\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-btn\",children:\"\\u6295\\u7A3F\\u3059\\u308B\"})]}),loading?/*#__PURE__*/_jsx(\"div\",{children:\"\\u8AAD\\u307F\\u8FBC\\u307F\\u4E2D...\"}):disclosures.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"no-tips\",children:\"\\u6295\\u7A3F\\u5C65\\u6B74\\u304C\\u3042\\u308A\\u307E\\u305B\\u3093\"}):/*#__PURE__*/_jsx(\"div\",{className:\"tip-list\",children:disclosures.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"tip-item\",style:{border:'1px solid #eee',padding:'15px',marginBottom:'15px',borderRadius:'8px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tip-header\",style:{display:'flex',justifyContent:'space-between',marginBottom:'10px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:0},children:item.title||'無題'}),/*#__PURE__*/_jsx(\"span\",{className:\"status status-\".concat(getStatusClass(item.status)),style:{padding:'2px 8px',borderRadius:'4px',background:'#eee',fontSize:'12px'},children:getStatusText(item.status)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'15px'},children:[item.imgUrl&&/*#__PURE__*/_jsx(\"img\",{src:item.imgUrl,alt:item.title,style:{width:'80px',height:'80px',objectFit:'cover',borderRadius:'4px'}}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"div\",{className:\"tip-content\",style:{marginBottom:'5px'},children:item.content}),/*#__PURE__*/_jsxs(\"div\",{className:\"tip-price\",style:{color:'#ff5000',fontWeight:'bold'},children:[\"\\xA5\",item.disclosurePrice]}),/*#__PURE__*/_jsx(\"div\",{className:\"tip-link\",children:/*#__PURE__*/_jsx(\"a\",{href:item.link,target:\"_blank\",rel:\"noopener noreferrer\",style:{color:'#0066c0',fontSize:'12px'},children:\"\\u5546\\u54C1\\u30DA\\u30FC\\u30B8\\u3078\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tip-footer\",style:{marginTop:'10px',fontSize:'12px',color:'#999',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"span\",{className:\"time\",children:new Date(item.createTime).toLocaleString()}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>handleDelete(e,item.disclosureId),style:{color:'#999',border:'none',background:'none',cursor:'pointer',fontSize:'12px',textDecoration:'underline'},onMouseOver:e=>e.target.style.color='red',onMouseOut:e=>e.target.style.color='#999',children:\"\\u524A\\u9664\"})]})]},item.disclosureId))})]})]});};export default MyTipPage;","map":{"version":3,"names":["React","useState","useEffect","UserSidebar","disclosureApi","commonApi","jsx","_jsx","jsxs","_jsxs","MyTipPage","disclosures","setDisclosures","loading","setLoading","showForm","setShowForm","formData","setFormData","title","content","link","price","imgUrl","loadDisclosures","res","getMyDisclosure","data","err","console","error","handleSubmit","e","preventDefault","add","disclosurePrice","Number","alert","getStatusText","status","getStatusClass","handleDelete","id","stopPropagation","window","confirm","delete","handleFileChange","files","length","file","type","startsWith","upload","code","backendUrl","fullUrl","prev","_objectSpread","handleDrop","dataTransfer","handleDragOver","className","style","display","maxWidth","margin","gap","padding","children","flex","background","justifyContent","alignItems","marginBottom","onClick","onSubmit","required","value","onChange","target","placeholder","onDrop","onDragOver","border","borderRadius","textAlign","cursor","_document$getElementB","document","getElementById","click","src","alt","maxHeight","width","height","objectFit","color","accept","boxSizing","map","item","concat","fontSize","fontWeight","href","rel","marginTop","Date","createTime","toLocaleString","disclosureId","textDecoration","onMouseOver","onMouseOut"],"sources":["C:/Users/3jz/Desktop/HJZDM/frontend/hjzdm-frontend/src/pages/MyTipPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport UserSidebar from '../components/UserSidebar';\nimport './MyTipPage.css';\nimport { disclosureApi, commonApi } from '../services/api';\n\ninterface Disclosure {\n  disclosureId: number;\n  title: string;\n  content: string;\n  link: string;\n  disclosurePrice: number;\n  imgUrl?: string;\n  createTime: string;\n  status: number; // 0: Pending, 1: Approved, 2: Rejected\n}\n\nconst MyTipPage: React.FC = () => {\n  const [disclosures, setDisclosures] = useState<Disclosure[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [showForm, setShowForm] = useState(false);\n  \n  // Form state\n  const [formData, setFormData] = useState({\n    title: '',\n    content: '',\n    link: '',\n    price: '',\n    imgUrl: ''\n  });\n\n  useEffect(() => {\n    loadDisclosures();\n  }, []);\n\n  const loadDisclosures = async () => {\n    try {\n      setLoading(true);\n      const res = await disclosureApi.getMyDisclosure(1, 100);\n      setDisclosures(res.data.data || []);\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      await disclosureApi.add({\n        title: formData.title,\n        content: formData.content,\n        link: formData.link,\n        disclosurePrice: Number(formData.price),\n        imgUrl: formData.imgUrl\n      });\n      alert('投稿しました！審査をお待ちください。'); // Submitted! Please wait for review.\n      setShowForm(false);\n      setFormData({ title: '', content: '', link: '', price: '', imgUrl: '' });\n      loadDisclosures();\n    } catch (err) {\n      alert('投稿に失敗しました。'); // Failed to submit.\n      console.error(err);\n    }\n  };\n\n  const getStatusText = (status: number) => {\n    switch (status) {\n      case 0: return '審査中';\n      case 1: return '承認済';\n      case 2: return '却下';\n      default: return '不明';\n    }\n  };\n\n  const getStatusClass = (status: number) => {\n    switch (status) {\n      case 0: return 'pending';\n      case 1: return 'approved';\n      case 2: return 'rejected';\n      default: return '';\n    }\n  };\n\n  const handleDelete = async (e: React.MouseEvent, id: number) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    if (!window.confirm('本当に削除しますか？この操作は取り消せません。')) {\n      return;\n    }\n    try {\n      await disclosureApi.delete(id);\n      loadDisclosures();\n    } catch (err) {\n      console.error(err);\n      alert('削除に失敗しました。');\n    }\n  };\n\n  const handleFileChange = async (files: FileList | null) => {\n    if (!files || files.length === 0) return;\n    const file = files[0];\n    \n    if (!file.type.startsWith('image/')) {\n        alert('画像ファイルを選択してください');\n        return;\n    }\n\n    try {\n        const res = await commonApi.upload(file);\n        if (res.data && res.data.code === 200) {\n            // 假设后端地址是 http://localhost:9090 (本地开发)\n            // 生产环境应使用相对路径或配置的域名\n            const backendUrl = 'http://localhost:9090'; \n            const fullUrl = backendUrl + res.data.data;\n            setFormData(prev => ({ ...prev, imgUrl: fullUrl }));\n        } else {\n            alert('アップロード失敗');\n        }\n    } catch (e) {\n        console.error(e);\n        alert('アップロードエラー');\n    }\n  };\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault();\n    handleFileChange(e.dataTransfer.files);\n  };\n\n  const handleDragOver = (e: React.DragEvent) => {\n    e.preventDefault();\n  };\n\n  return (\n    <div className=\"my-tip-page-wrapper\" style={{ display: 'flex', maxWidth: '1200px', margin: '20px auto', gap: '20px', padding: '0 15px' }}>\n      <UserSidebar />\n      <div className=\"my-tip-page\" style={{ flex: 1, padding: '20px', margin: 0, maxWidth: 'none', background: '#fff' }}>\n        <div className=\"header\" style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\n          <h2>マイヒント (投稿管理)</h2>\n          <button className=\"submit-button\" onClick={() => setShowForm(!showForm)}>\n            {showForm ? 'キャンセル' : '新規投稿'}\n          </button>\n        </div>\n\n        {showForm && (\n          <form onSubmit={handleSubmit} className=\"tip-form\">\n            <div className=\"form-group\">\n              <label>商品名 / タイトル</label>\n              <input \n                type=\"text\" \n                required \n                value={formData.title} \n                onChange={e => setFormData({...formData, title: e.target.value})}\n                placeholder=\"例: iPhone 15 Pro 256GB\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>価格 (円)</label>\n              <input \n                type=\"number\" \n                required \n                value={formData.price} \n                onChange={e => setFormData({...formData, price: e.target.value})}\n                placeholder=\"例: 150000\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>商品リンク (URL)</label>\n              <input \n                type=\"url\" \n                required \n                value={formData.link} \n                onChange={e => setFormData({...formData, link: e.target.value})}\n                placeholder=\"https://...\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>画像</label>\n              <div \n                className=\"image-uploader\"\n                onDrop={handleDrop}\n                onDragOver={handleDragOver}\n                style={{ \n                  border: '2px dashed #ccc', \n                  borderRadius: '8px', \n                  padding: '20px', \n                  textAlign: 'center',\n                  cursor: 'pointer',\n                  background: '#fafafa',\n                  marginBottom: '10px'\n                }}\n                onClick={() => document.getElementById('file-input')?.click()}\n              >\n                {formData.imgUrl ? (\n                    <img src={formData.imgUrl} alt=\"Preview\" style={{ maxHeight: '300px', maxWidth: '100%', width: 'auto', height: 'auto', objectFit: 'contain', display: 'block', margin: '0 auto' }} />\n                ) : (\n                    <p style={{ color: '#999', margin: 0 }}>画像をドラッグ＆ドロップ、またはクリックしてアップロード</p>\n                )}\n                <input \n                    id=\"file-input\"\n                    type=\"file\" \n                    accept=\"image/*\" \n                    style={{ display: 'none' }} \n                    onChange={(e) => handleFileChange(e.target.files)}\n                />\n              </div>\n              <input \n                type=\"text\" \n                value={formData.imgUrl} \n                onChange={e => setFormData({...formData, imgUrl: e.target.value})}\n                placeholder=\"または画像URLを直接入力\"\n                style={{ width: '100%', padding: '8px', border: '1px solid #ddd', borderRadius: '4px', boxSizing: 'border-box' }}\n              />\n            </div>\n            <div className=\"form-group\">\n              <label>説明 / コメント</label>\n              <textarea \n                required \n                value={formData.content} \n                onChange={e => setFormData({...formData, content: e.target.value})}\n                placeholder=\"お得な情報や詳細を記入してください...\"\n              />\n            </div>\n            <button type=\"submit\" className=\"submit-btn\">\n              投稿する\n            </button>\n          </form>\n        )}\n        \n        {loading ? (\n          <div>読み込み中...</div>\n        ) : disclosures.length === 0 ? (\n          <div className=\"no-tips\">投稿履歴がありません</div>\n        ) : (\n          <div className=\"tip-list\">\n            {disclosures.map((item) => (\n              <div key={item.disclosureId} className=\"tip-item\" style={{ border: '1px solid #eee', padding: '15px', marginBottom: '15px', borderRadius: '8px' }}>\n                <div className=\"tip-header\" style={{ display: 'flex', justifyContent: 'space-between', marginBottom: '10px' }}>\n                  <h3 style={{ margin: 0 }}>{item.title || '無題'}</h3>\n                  <span className={`status status-${getStatusClass(item.status)}`} style={{ padding: '2px 8px', borderRadius: '4px', background: '#eee', fontSize: '12px' }}>\n                    {getStatusText(item.status)}\n                  </span>\n                </div>\n                <div style={{ display: 'flex', gap: '15px' }}>\n                  {item.imgUrl && (\n                    <img src={item.imgUrl} alt={item.title} style={{ width: '80px', height: '80px', objectFit: 'cover', borderRadius: '4px' }} />\n                  )}\n                  <div style={{ flex: 1 }}>\n                    <div className=\"tip-content\" style={{ marginBottom: '5px' }}>{item.content}</div>\n                    <div className=\"tip-price\" style={{ color: '#ff5000', fontWeight: 'bold' }}>¥{item.disclosurePrice}</div>\n                    <div className=\"tip-link\">\n                      <a href={item.link} target=\"_blank\" rel=\"noopener noreferrer\" style={{ color: '#0066c0', fontSize: '12px' }}>商品ページへ</a>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"tip-footer\" style={{ marginTop: '10px', fontSize: '12px', color: '#999', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                  <span className=\"time\">{new Date(item.createTime).toLocaleString()}</span>\n                  <button \n                    onClick={(e) => handleDelete(e, item.disclosureId)} \n                    style={{ \n                      color: '#999', \n                      border: 'none', \n                      background: 'none', \n                      cursor: 'pointer',\n                      fontSize: '12px',\n                      textDecoration: 'underline'\n                    }}\n                    onMouseOver={(e) => (e.target as HTMLElement).style.color = 'red'}\n                    onMouseOut={(e) => (e.target as HTMLElement).style.color = '#999'}\n                  >\n                    削除\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default MyTipPage;"],"mappings":"uIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CACnD,MAAO,iBAAiB,CACxB,OAASC,aAAa,CAAEC,SAAS,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAa3D,KAAM,CAAAC,SAAmB,CAAGA,CAAA,GAAM,CAChC,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGX,QAAQ,CAAe,EAAE,CAAC,CAChE,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACc,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CAE/C;AACA,KAAM,CAACgB,QAAQ,CAAEC,WAAW,CAAC,CAAGjB,QAAQ,CAAC,CACvCkB,KAAK,CAAE,EAAE,CACTC,OAAO,CAAE,EAAE,CACXC,IAAI,CAAE,EAAE,CACRC,KAAK,CAAE,EAAE,CACTC,MAAM,CAAE,EACV,CAAC,CAAC,CAEFrB,SAAS,CAAC,IAAM,CACdsB,eAAe,CAAC,CAAC,CACnB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAI,CACFV,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAW,GAAG,CAAG,KAAM,CAAArB,aAAa,CAACsB,eAAe,CAAC,CAAC,CAAE,GAAG,CAAC,CACvDd,cAAc,CAACa,GAAG,CAACE,IAAI,CAACA,IAAI,EAAI,EAAE,CAAC,CACrC,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACpB,CAAC,OAAS,CACRd,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAiB,YAAY,CAAG,KAAO,CAAAC,CAAkB,EAAK,CACjDA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CACF,KAAM,CAAA7B,aAAa,CAAC8B,GAAG,CAAC,CACtBf,KAAK,CAAEF,QAAQ,CAACE,KAAK,CACrBC,OAAO,CAAEH,QAAQ,CAACG,OAAO,CACzBC,IAAI,CAAEJ,QAAQ,CAACI,IAAI,CACnBc,eAAe,CAAEC,MAAM,CAACnB,QAAQ,CAACK,KAAK,CAAC,CACvCC,MAAM,CAAEN,QAAQ,CAACM,MACnB,CAAC,CAAC,CACFc,KAAK,CAAC,oBAAoB,CAAC,CAAE;AAC7BrB,WAAW,CAAC,KAAK,CAAC,CAClBE,WAAW,CAAC,CAAEC,KAAK,CAAE,EAAE,CAAEC,OAAO,CAAE,EAAE,CAAEC,IAAI,CAAE,EAAE,CAAEC,KAAK,CAAE,EAAE,CAAEC,MAAM,CAAE,EAAG,CAAC,CAAC,CACxEC,eAAe,CAAC,CAAC,CACnB,CAAE,MAAOI,GAAG,CAAE,CACZS,KAAK,CAAC,YAAY,CAAC,CAAE;AACrBR,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACpB,CACF,CAAC,CAED,KAAM,CAAAU,aAAa,CAAIC,MAAc,EAAK,CACxC,OAAQA,MAAM,EACZ,IAAK,EAAC,CAAE,MAAO,KAAK,CACpB,IAAK,EAAC,CAAE,MAAO,KAAK,CACpB,IAAK,EAAC,CAAE,MAAO,IAAI,CACnB,QAAS,MAAO,IAAI,CACtB,CACF,CAAC,CAED,KAAM,CAAAC,cAAc,CAAID,MAAc,EAAK,CACzC,OAAQA,MAAM,EACZ,IAAK,EAAC,CAAE,MAAO,SAAS,CACxB,IAAK,EAAC,CAAE,MAAO,UAAU,CACzB,IAAK,EAAC,CAAE,MAAO,UAAU,CACzB,QAAS,MAAO,EAAE,CACpB,CACF,CAAC,CAED,KAAM,CAAAE,YAAY,CAAG,KAAAA,CAAOT,CAAmB,CAAEU,EAAU,GAAK,CAC9DV,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBD,CAAC,CAACW,eAAe,CAAC,CAAC,CAEnB,GAAI,CAACC,MAAM,CAACC,OAAO,CAAC,yBAAyB,CAAC,CAAE,CAC9C,OACF,CACA,GAAI,CACF,KAAM,CAAAzC,aAAa,CAAC0C,MAAM,CAACJ,EAAE,CAAC,CAC9BlB,eAAe,CAAC,CAAC,CACnB,CAAE,MAAOI,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAClBS,KAAK,CAAC,YAAY,CAAC,CACrB,CACF,CAAC,CAED,KAAM,CAAAU,gBAAgB,CAAG,KAAO,CAAAC,KAAsB,EAAK,CACzD,GAAI,CAACA,KAAK,EAAIA,KAAK,CAACC,MAAM,GAAK,CAAC,CAAE,OAClC,KAAM,CAAAC,IAAI,CAAGF,KAAK,CAAC,CAAC,CAAC,CAErB,GAAI,CAACE,IAAI,CAACC,IAAI,CAACC,UAAU,CAAC,QAAQ,CAAC,CAAE,CACjCf,KAAK,CAAC,iBAAiB,CAAC,CACxB,OACJ,CAEA,GAAI,CACA,KAAM,CAAAZ,GAAG,CAAG,KAAM,CAAApB,SAAS,CAACgD,MAAM,CAACH,IAAI,CAAC,CACxC,GAAIzB,GAAG,CAACE,IAAI,EAAIF,GAAG,CAACE,IAAI,CAAC2B,IAAI,GAAK,GAAG,CAAE,CACnC;AACA;AACA,KAAM,CAAAC,UAAU,CAAG,uBAAuB,CAC1C,KAAM,CAAAC,OAAO,CAAGD,UAAU,CAAG9B,GAAG,CAACE,IAAI,CAACA,IAAI,CAC1CT,WAAW,CAACuC,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAUD,IAAI,MAAElC,MAAM,CAAEiC,OAAO,EAAG,CAAC,CACvD,CAAC,IAAM,CACHnB,KAAK,CAAC,UAAU,CAAC,CACrB,CACJ,CAAE,MAAOL,CAAC,CAAE,CACRH,OAAO,CAACC,KAAK,CAACE,CAAC,CAAC,CAChBK,KAAK,CAAC,WAAW,CAAC,CACtB,CACF,CAAC,CAED,KAAM,CAAAsB,UAAU,CAAI3B,CAAkB,EAAK,CACzCA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBc,gBAAgB,CAACf,CAAC,CAAC4B,YAAY,CAACZ,KAAK,CAAC,CACxC,CAAC,CAED,KAAM,CAAAa,cAAc,CAAI7B,CAAkB,EAAK,CAC7CA,CAAC,CAACC,cAAc,CAAC,CAAC,CACpB,CAAC,CAED,mBACExB,KAAA,QAAKqD,SAAS,CAAC,qBAAqB,CAACC,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,QAAQ,CAAE,QAAQ,CAAEC,MAAM,CAAE,WAAW,CAAEC,GAAG,CAAE,MAAM,CAAEC,OAAO,CAAE,QAAS,CAAE,CAAAC,QAAA,eACvI9D,IAAA,CAACJ,WAAW,GAAE,CAAC,cACfM,KAAA,QAAKqD,SAAS,CAAC,aAAa,CAACC,KAAK,CAAE,CAAEO,IAAI,CAAE,CAAC,CAAEF,OAAO,CAAE,MAAM,CAAEF,MAAM,CAAE,CAAC,CAAED,QAAQ,CAAE,MAAM,CAAEM,UAAU,CAAE,MAAO,CAAE,CAAAF,QAAA,eAChH5D,KAAA,QAAKqD,SAAS,CAAC,QAAQ,CAACC,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEQ,cAAc,CAAE,eAAe,CAAEC,UAAU,CAAE,QAAQ,CAAEC,YAAY,CAAE,MAAO,CAAE,CAAAL,QAAA,eAC9H9D,IAAA,OAAA8D,QAAA,CAAI,2DAAY,CAAI,CAAC,cACrB9D,IAAA,WAAQuD,SAAS,CAAC,eAAe,CAACa,OAAO,CAAEA,CAAA,GAAM3D,WAAW,CAAC,CAACD,QAAQ,CAAE,CAAAsD,QAAA,CACrEtD,QAAQ,CAAG,OAAO,CAAG,MAAM,CACtB,CAAC,EACN,CAAC,CAELA,QAAQ,eACPN,KAAA,SAAMmE,QAAQ,CAAE7C,YAAa,CAAC+B,SAAS,CAAC,UAAU,CAAAO,QAAA,eAChD5D,KAAA,QAAKqD,SAAS,CAAC,YAAY,CAAAO,QAAA,eACzB9D,IAAA,UAAA8D,QAAA,CAAO,+CAAU,CAAO,CAAC,cACzB9D,IAAA,UACE4C,IAAI,CAAC,MAAM,CACX0B,QAAQ,MACRC,KAAK,CAAE7D,QAAQ,CAACE,KAAM,CACtB4D,QAAQ,CAAE/C,CAAC,EAAId,WAAW,CAAAwC,aAAA,CAAAA,aAAA,IAAKzC,QAAQ,MAAEE,KAAK,CAAEa,CAAC,CAACgD,MAAM,CAACF,KAAK,EAAC,CAAE,CACjEG,WAAW,CAAC,6BAAwB,CACrC,CAAC,EACC,CAAC,cACNxE,KAAA,QAAKqD,SAAS,CAAC,YAAY,CAAAO,QAAA,eACzB9D,IAAA,UAAA8D,QAAA,CAAO,uBAAM,CAAO,CAAC,cACrB9D,IAAA,UACE4C,IAAI,CAAC,QAAQ,CACb0B,QAAQ,MACRC,KAAK,CAAE7D,QAAQ,CAACK,KAAM,CACtByD,QAAQ,CAAE/C,CAAC,EAAId,WAAW,CAAAwC,aAAA,CAAAA,aAAA,IAAKzC,QAAQ,MAAEK,KAAK,CAAEU,CAAC,CAACgD,MAAM,CAACF,KAAK,EAAC,CAAE,CACjEG,WAAW,CAAC,gBAAW,CACxB,CAAC,EACC,CAAC,cACNxE,KAAA,QAAKqD,SAAS,CAAC,YAAY,CAAAO,QAAA,eACzB9D,IAAA,UAAA8D,QAAA,CAAO,sCAAW,CAAO,CAAC,cAC1B9D,IAAA,UACE4C,IAAI,CAAC,KAAK,CACV0B,QAAQ,MACRC,KAAK,CAAE7D,QAAQ,CAACI,IAAK,CACrB0D,QAAQ,CAAE/C,CAAC,EAAId,WAAW,CAAAwC,aAAA,CAAAA,aAAA,IAAKzC,QAAQ,MAAEI,IAAI,CAAEW,CAAC,CAACgD,MAAM,CAACF,KAAK,EAAC,CAAE,CAChEG,WAAW,CAAC,aAAa,CAC1B,CAAC,EACC,CAAC,cACNxE,KAAA,QAAKqD,SAAS,CAAC,YAAY,CAAAO,QAAA,eACzB9D,IAAA,UAAA8D,QAAA,CAAO,cAAE,CAAO,CAAC,cACjB5D,KAAA,QACEqD,SAAS,CAAC,gBAAgB,CAC1BoB,MAAM,CAAEvB,UAAW,CACnBwB,UAAU,CAAEtB,cAAe,CAC3BE,KAAK,CAAE,CACLqB,MAAM,CAAE,iBAAiB,CACzBC,YAAY,CAAE,KAAK,CACnBjB,OAAO,CAAE,MAAM,CACfkB,SAAS,CAAE,QAAQ,CACnBC,MAAM,CAAE,SAAS,CACjBhB,UAAU,CAAE,SAAS,CACrBG,YAAY,CAAE,MAChB,CAAE,CACFC,OAAO,CAAEA,CAAA,QAAAa,qBAAA,QAAAA,qBAAA,CAAMC,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,UAAAF,qBAAA,iBAArCA,qBAAA,CAAuCG,KAAK,CAAC,CAAC,EAAC,CAAAtB,QAAA,EAE7DpD,QAAQ,CAACM,MAAM,cACZhB,IAAA,QAAKqF,GAAG,CAAE3E,QAAQ,CAACM,MAAO,CAACsE,GAAG,CAAC,SAAS,CAAC9B,KAAK,CAAE,CAAE+B,SAAS,CAAE,OAAO,CAAE7B,QAAQ,CAAE,MAAM,CAAE8B,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CAAEC,SAAS,CAAE,SAAS,CAAEjC,OAAO,CAAE,OAAO,CAAEE,MAAM,CAAE,QAAS,CAAE,CAAE,CAAC,cAErL3D,IAAA,MAAGwD,KAAK,CAAE,CAAEmC,KAAK,CAAE,MAAM,CAAEhC,MAAM,CAAE,CAAE,CAAE,CAAAG,QAAA,CAAC,0KAA4B,CAAG,CAC1E,cACD9D,IAAA,UACImC,EAAE,CAAC,YAAY,CACfS,IAAI,CAAC,MAAM,CACXgD,MAAM,CAAC,SAAS,CAChBpC,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAO,CAAE,CAC3Be,QAAQ,CAAG/C,CAAC,EAAKe,gBAAgB,CAACf,CAAC,CAACgD,MAAM,CAAChC,KAAK,CAAE,CACrD,CAAC,EACC,CAAC,cACNzC,IAAA,UACE4C,IAAI,CAAC,MAAM,CACX2B,KAAK,CAAE7D,QAAQ,CAACM,MAAO,CACvBwD,QAAQ,CAAE/C,CAAC,EAAId,WAAW,CAAAwC,aAAA,CAAAA,aAAA,IAAKzC,QAAQ,MAAEM,MAAM,CAAES,CAAC,CAACgD,MAAM,CAACF,KAAK,EAAC,CAAE,CAClEG,WAAW,CAAC,iEAAe,CAC3BlB,KAAK,CAAE,CAAEgC,KAAK,CAAE,MAAM,CAAE3B,OAAO,CAAE,KAAK,CAAEgB,MAAM,CAAE,gBAAgB,CAAEC,YAAY,CAAE,KAAK,CAAEe,SAAS,CAAE,YAAa,CAAE,CAClH,CAAC,EACC,CAAC,cACN3F,KAAA,QAAKqD,SAAS,CAAC,YAAY,CAAAO,QAAA,eACzB9D,IAAA,UAAA8D,QAAA,CAAO,yCAAS,CAAO,CAAC,cACxB9D,IAAA,aACEsE,QAAQ,MACRC,KAAK,CAAE7D,QAAQ,CAACG,OAAQ,CACxB2D,QAAQ,CAAE/C,CAAC,EAAId,WAAW,CAAAwC,aAAA,CAAAA,aAAA,IAAKzC,QAAQ,MAAEG,OAAO,CAAEY,CAAC,CAACgD,MAAM,CAACF,KAAK,EAAC,CAAE,CACnEG,WAAW,CAAC,2GAAsB,CACnC,CAAC,EACC,CAAC,cACN1E,IAAA,WAAQ4C,IAAI,CAAC,QAAQ,CAACW,SAAS,CAAC,YAAY,CAAAO,QAAA,CAAC,0BAE7C,CAAQ,CAAC,EACL,CACP,CAEAxD,OAAO,cACNN,IAAA,QAAA8D,QAAA,CAAK,mCAAQ,CAAK,CAAC,CACjB1D,WAAW,CAACsC,MAAM,GAAK,CAAC,cAC1B1C,IAAA,QAAKuD,SAAS,CAAC,SAAS,CAAAO,QAAA,CAAC,8DAAU,CAAK,CAAC,cAEzC9D,IAAA,QAAKuD,SAAS,CAAC,UAAU,CAAAO,QAAA,CACtB1D,WAAW,CAAC0F,GAAG,CAAEC,IAAI,eACpB7F,KAAA,QAA6BqD,SAAS,CAAC,UAAU,CAACC,KAAK,CAAE,CAAEqB,MAAM,CAAE,gBAAgB,CAAEhB,OAAO,CAAE,MAAM,CAAEM,YAAY,CAAE,MAAM,CAAEW,YAAY,CAAE,KAAM,CAAE,CAAAhB,QAAA,eAChJ5D,KAAA,QAAKqD,SAAS,CAAC,YAAY,CAACC,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEQ,cAAc,CAAE,eAAe,CAAEE,YAAY,CAAE,MAAO,CAAE,CAAAL,QAAA,eAC5G9D,IAAA,OAAIwD,KAAK,CAAE,CAAEG,MAAM,CAAE,CAAE,CAAE,CAAAG,QAAA,CAAEiC,IAAI,CAACnF,KAAK,EAAI,IAAI,CAAK,CAAC,cACnDZ,IAAA,SAAMuD,SAAS,kBAAAyC,MAAA,CAAmB/D,cAAc,CAAC8D,IAAI,CAAC/D,MAAM,CAAC,CAAG,CAACwB,KAAK,CAAE,CAAEK,OAAO,CAAE,SAAS,CAAEiB,YAAY,CAAE,KAAK,CAAEd,UAAU,CAAE,MAAM,CAAEiC,QAAQ,CAAE,MAAO,CAAE,CAAAnC,QAAA,CACvJ/B,aAAa,CAACgE,IAAI,CAAC/D,MAAM,CAAC,CACvB,CAAC,EACJ,CAAC,cACN9B,KAAA,QAAKsD,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEG,GAAG,CAAE,MAAO,CAAE,CAAAE,QAAA,EAC1CiC,IAAI,CAAC/E,MAAM,eACVhB,IAAA,QAAKqF,GAAG,CAAEU,IAAI,CAAC/E,MAAO,CAACsE,GAAG,CAAES,IAAI,CAACnF,KAAM,CAAC4C,KAAK,CAAE,CAAEgC,KAAK,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CAAEC,SAAS,CAAE,OAAO,CAAEZ,YAAY,CAAE,KAAM,CAAE,CAAE,CAC7H,cACD5E,KAAA,QAAKsD,KAAK,CAAE,CAAEO,IAAI,CAAE,CAAE,CAAE,CAAAD,QAAA,eACtB9D,IAAA,QAAKuD,SAAS,CAAC,aAAa,CAACC,KAAK,CAAE,CAAEW,YAAY,CAAE,KAAM,CAAE,CAAAL,QAAA,CAAEiC,IAAI,CAAClF,OAAO,CAAM,CAAC,cACjFX,KAAA,QAAKqD,SAAS,CAAC,WAAW,CAACC,KAAK,CAAE,CAAEmC,KAAK,CAAE,SAAS,CAAEO,UAAU,CAAE,MAAO,CAAE,CAAApC,QAAA,EAAC,MAAC,CAACiC,IAAI,CAACnE,eAAe,EAAM,CAAC,cACzG5B,IAAA,QAAKuD,SAAS,CAAC,UAAU,CAAAO,QAAA,cACvB9D,IAAA,MAAGmG,IAAI,CAAEJ,IAAI,CAACjF,IAAK,CAAC2D,MAAM,CAAC,QAAQ,CAAC2B,GAAG,CAAC,qBAAqB,CAAC5C,KAAK,CAAE,CAAEmC,KAAK,CAAE,SAAS,CAAEM,QAAQ,CAAE,MAAO,CAAE,CAAAnC,QAAA,CAAC,sCAAM,CAAG,CAAC,CACpH,CAAC,EACH,CAAC,EACH,CAAC,cACN5D,KAAA,QAAKqD,SAAS,CAAC,YAAY,CAACC,KAAK,CAAE,CAAE6C,SAAS,CAAE,MAAM,CAAEJ,QAAQ,CAAE,MAAM,CAAEN,KAAK,CAAE,MAAM,CAAElC,OAAO,CAAE,MAAM,CAAEQ,cAAc,CAAE,eAAe,CAAEC,UAAU,CAAE,QAAS,CAAE,CAAAJ,QAAA,eAChK9D,IAAA,SAAMuD,SAAS,CAAC,MAAM,CAAAO,QAAA,CAAE,GAAI,CAAAwC,IAAI,CAACP,IAAI,CAACQ,UAAU,CAAC,CAACC,cAAc,CAAC,CAAC,CAAO,CAAC,cAC1ExG,IAAA,WACEoE,OAAO,CAAG3C,CAAC,EAAKS,YAAY,CAACT,CAAC,CAAEsE,IAAI,CAACU,YAAY,CAAE,CACnDjD,KAAK,CAAE,CACLmC,KAAK,CAAE,MAAM,CACbd,MAAM,CAAE,MAAM,CACdb,UAAU,CAAE,MAAM,CAClBgB,MAAM,CAAE,SAAS,CACjBiB,QAAQ,CAAE,MAAM,CAChBS,cAAc,CAAE,WAClB,CAAE,CACFC,WAAW,CAAGlF,CAAC,EAAMA,CAAC,CAACgD,MAAM,CAAiBjB,KAAK,CAACmC,KAAK,CAAG,KAAM,CAClEiB,UAAU,CAAGnF,CAAC,EAAMA,CAAC,CAACgD,MAAM,CAAiBjB,KAAK,CAACmC,KAAK,CAAG,MAAO,CAAA7B,QAAA,CACnE,cAED,CAAQ,CAAC,EACN,CAAC,GApCEiC,IAAI,CAACU,YAqCV,CACN,CAAC,CACC,CACN,EACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAtG,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}