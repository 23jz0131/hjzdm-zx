{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\3jz\\\\Desktop\\\\HJZDM\\\\frontend\\\\hjzdm-frontend\\\\src\\\\pages\\\\CommunityPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { disclosureApi, disclosureOperateApi, commentApi } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CommunityPage = () => {\n  _s();\n  const navigate = useNavigate();\n  const [disclosures, setDisclosures] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [commentMap, setCommentMap] = useState({});\n  const [commentInput, setCommentInput] = useState({});\n  const [replyTo, setReplyTo] = useState({});\n  const [openComments, setOpenComments] = useState({});\n  const [commentLoading, setCommentLoading] = useState({});\n  useEffect(() => {\n    loadDisclosures();\n  }, []);\n  const loadDisclosures = async () => {\n    try {\n      setLoading(true);\n      const res = await disclosureApi.getPublicDisclosure(1, 100);\n      setDisclosures(res.data.data || []);\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const ensureLogin = () => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      navigate('/login');\n      return false;\n    }\n    return true;\n  };\n  const loadComments = async disclosureId => {\n    try {\n      setCommentLoading(prev => ({\n        ...prev,\n        [disclosureId]: true\n      }));\n      const res = await commentApi.list(disclosureId);\n      if (res.data.code !== 200) {\n        console.error('コメントの読み込みに失敗しました:', res.data.msg);\n        setCommentMap(prev => ({\n          ...prev,\n          [disclosureId]: []\n        }));\n        return;\n      }\n      const list = res.data.data || [];\n      setCommentMap(prev => ({\n        ...prev,\n        [disclosureId]: list\n      }));\n    } catch (e) {\n      var _e$response, _e$response$data;\n      console.error(e);\n      setCommentMap(prev => ({\n        ...prev,\n        [disclosureId]: []\n      }));\n      if ((_e$response = e.response) !== null && _e$response !== void 0 && (_e$response$data = _e$response.data) !== null && _e$response$data !== void 0 && _e$response$data.msg) {\n        console.error('コメントの読み込みに失敗しました:', e.response.data.msg);\n      }\n    } finally {\n      setCommentLoading(prev => ({\n        ...prev,\n        [disclosureId]: false\n      }));\n    }\n  };\n  const toggleComments = disclosureId => {\n    const isOpen = openComments[disclosureId];\n    const nextOpen = !isOpen;\n    setOpenComments(prev => ({\n      ...prev,\n      [disclosureId]: nextOpen\n    }));\n    if (nextOpen && !commentMap[disclosureId]) {\n      loadComments(disclosureId);\n    }\n  };\n  const handleSubmitComment = async disclosureId => {\n    if (!ensureLogin()) return;\n    const text = (commentInput[disclosureId] || '').trim();\n    if (!text) {\n      alert('コメントを入力してください');\n      return;\n    }\n    if (text.length > 500) {\n      alert('コメントは500文字以内で入力してください');\n      return;\n    }\n    const replyTarget = replyTo[disclosureId];\n    try {\n      const res = await commentApi.add({\n        disclosureId,\n        content: text,\n        parentId: replyTarget ? replyTarget.id : undefined\n      });\n      if (res.data.code === 200) {\n        setCommentInput(prev => ({\n          ...prev,\n          [disclosureId]: ''\n        }));\n        setReplyTo(prev => ({\n          ...prev,\n          [disclosureId]: null\n        }));\n        // 强制重新加载评论列表\n        await loadComments(disclosureId);\n      } else {\n        alert(res.data.msg || 'コメントの投稿に失敗しました');\n      }\n    } catch (e) {\n      var _e$response2, _e$response2$data;\n      console.error(e);\n      if ((_e$response2 = e.response) !== null && _e$response2 !== void 0 && (_e$response2$data = _e$response2.data) !== null && _e$response2$data !== void 0 && _e$response2$data.msg) {\n        alert(e.response.data.msg);\n      } else {\n        alert('コメントの投稿に失敗しました');\n      }\n    }\n  };\n  const handleDeleteComment = async (disclosureId, commentId) => {\n    if (!ensureLogin()) return;\n    if (!window.confirm('本当にこのコメントを削除しますか？')) {\n      return;\n    }\n    try {\n      const res = await commentApi.del(commentId);\n      if (res.data.code !== 200) {\n        alert(res.data.msg || 'コメントの削除に失敗しました');\n      }\n      // 重新加载评论列表\n      loadComments(disclosureId);\n    } catch (e) {\n      var _e$response3, _e$response3$data;\n      console.error(e);\n      if ((_e$response3 = e.response) !== null && _e$response3 !== void 0 && (_e$response3$data = _e$response3.data) !== null && _e$response3$data !== void 0 && _e$response3$data.msg) {\n        alert(e.response.data.msg);\n      } else {\n        alert('コメントの削除に失敗しました');\n      }\n    }\n  };\n  const handleReply = (disclosureId, comment) => {\n    if (!ensureLogin()) return;\n    setReplyTo(prev => ({\n      ...prev,\n      [disclosureId]: comment\n    }));\n    setOpenComments(prev => ({\n      ...prev,\n      [disclosureId]: true\n    }));\n  };\n  const handleLike = async id => {\n    if (!ensureLogin()) return;\n    await disclosureOperateApi.like(id);\n  };\n  const handleCollect = async id => {\n    if (!ensureLogin()) return;\n    await disclosureOperateApi.collect(id);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"community-page-wrapper\",\n    style: {\n      maxWidth: '1200px',\n      margin: '20px auto',\n      padding: '0 15px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        marginBottom: '20px'\n      },\n      children: \"\\u307F\\u3093\\u306A\\u306E\\u6295\\u7A3F (\\u627F\\u8A8D\\u6E08\\u307F)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\u8AAD\\u307F\\u8FBC\\u307F\\u4E2D...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }, this) : disclosures.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-tips\",\n      children: \"\\u6295\\u7A3F\\u304C\\u307E\\u3060\\u3042\\u308A\\u307E\\u305B\\u3093\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"community-grid\",\n      style: {\n        display: 'grid',\n        gridTemplateColumns: 'repeat(auto-fill, minmax(280px, 1fr))',\n        gap: '20px'\n      },\n      children: disclosures.map(item => {\n        var _replyTo$item$disclos, _replyTo$item$disclos2;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"community-card\",\n          style: {\n            border: '1px solid #eee',\n            borderRadius: '8px',\n            overflow: 'hidden',\n            background: '#fff',\n            boxShadow: '0 2px 4px rgba(0,0,0,0.05)'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-image\",\n            style: {\n              height: '200px',\n              background: '#f5f5f5',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              overflow: 'hidden'\n            },\n            children: item.imgUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: item.imgUrl.includes(',') ? item.imgUrl.split(',')[0] : item.imgUrl,\n              alt: item.title,\n              style: {\n                width: '100%',\n                height: '100%',\n                objectFit: 'contain'\n              },\n              onError: e => {\n                console.error('Image load failed:', e.target.src);\n                e.target.style.display = 'none';\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: '#ccc'\n              },\n              children: \"No Image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-content\",\n            style: {\n              padding: '15px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                margin: '0 0 10px',\n                fontSize: '16px',\n                lineHeight: '1.4',\n                height: '44px',\n                overflow: 'hidden'\n              },\n              children: item.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: '#ff5000',\n                fontWeight: 'bold',\n                fontSize: '18px',\n                marginBottom: '10px'\n              },\n              children: [\"\\xA5\", item.disclosurePrice]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontSize: '13px',\n                color: '#666',\n                marginBottom: '15px',\n                height: '60px',\n                overflow: 'hidden'\n              },\n              children: item.content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: '12px',\n                  color: '#999'\n                },\n                children: new Date(item.createTime).toLocaleDateString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: item.link,\n                target: \"_blank\",\n                rel: \"noopener noreferrer\",\n                style: {\n                  background: '#ff5000',\n                  color: '#fff',\n                  padding: '5px 15px',\n                  borderRadius: '15px',\n                  textDecoration: 'none',\n                  fontSize: '13px'\n                },\n                children: \"\\u8A73\\u7D30\\u3078\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  gap: '8px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleLike(item.disclosureId),\n                  style: {\n                    border: '1px solid #ddd',\n                    background: '#fff',\n                    padding: '5px 10px',\n                    cursor: 'pointer'\n                  },\n                  children: \"\\u70B9\\u8D5E\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleCollect(item.disclosureId),\n                  style: {\n                    border: '1px solid #ddd',\n                    background: '#fff',\n                    padding: '5px 10px',\n                    cursor: 'pointer'\n                  },\n                  children: \"\\u6536\\u85CF\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => toggleComments(item.disclosureId),\n                  style: {\n                    border: '1px solid #ddd',\n                    background: '#fff',\n                    padding: '5px 10px',\n                    cursor: 'pointer'\n                  },\n                  children: openComments[item.disclosureId] ? '隠す' : 'コメント'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 17\n            }, this), openComments[item.disclosureId] && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '12px',\n                borderTop: '1px solid #f0f0f0',\n                paddingTop: '10px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginBottom: '8px',\n                  fontSize: '13px',\n                  fontWeight: 'bold'\n                },\n                children: \"\\u30B3\\u30E1\\u30F3\\u30C8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 21\n              }, this), commentLoading[item.disclosureId] ? /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '12px',\n                  color: '#999'\n                },\n                children: \"\\u8AAD\\u307F\\u8FBC\\u307F\\u4E2D...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 23\n              }, this) : (commentMap[item.disclosureId] || []).length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '12px',\n                  color: '#999',\n                  padding: '8px 0'\n                },\n                children: \"\\u30B3\\u30E1\\u30F3\\u30C8\\u306F\\u307E\\u3060\\u3042\\u308A\\u307E\\u305B\\u3093\\u3002\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  flexDirection: 'column',\n                  gap: '8px'\n                },\n                children: (commentMap[item.disclosureId] || []).map(c => {\n                  const commentsForDisclosure = commentMap[item.disclosureId] || [];\n                  const parent = c.parentId ? commentsForDisclosure.find(p => p.id === c.parentId) : undefined;\n                  const isReply = !!parent;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'flex',\n                      flexDirection: 'column',\n                      padding: '6px 8px',\n                      background: '#fafafa',\n                      borderRadius: '4px'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        display: 'flex',\n                        alignItems: 'center',\n                        marginBottom: '4px',\n                        fontSize: '12px'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          fontWeight: 600,\n                          marginRight: '6px'\n                        },\n                        children: [c.publisher ? '投稿者 ' : '', c.nickName || '匿名']\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 243,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          color: '#999',\n                          fontSize: '11px'\n                        },\n                        children: new Date(c.createTime).toLocaleString()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 247,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 242,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        fontSize: '13px',\n                        marginBottom: '4px'\n                      },\n                      children: [isReply && parent ? /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          color: '#666',\n                          marginRight: '4px'\n                        },\n                        children: [\"\\u8FD4\\u4FE1 @\", parent.nickName || '匿名', \":\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 253,\n                        columnNumber: 35\n                      }, this) : null, /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: c.content\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 257,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 251,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      style: {\n                        display: 'flex',\n                        gap: '8px',\n                        fontSize: '12px',\n                        color: '#0066c0'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        onClick: () => handleReply(item.disclosureId, c),\n                        style: {\n                          border: 'none',\n                          background: 'none',\n                          padding: 0,\n                          cursor: 'pointer'\n                        },\n                        children: \"\\u8FD4\\u4FE1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 260,\n                        columnNumber: 33\n                      }, this), c.owner && /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        onClick: () => handleDeleteComment(item.disclosureId, c.id),\n                        style: {\n                          border: 'none',\n                          background: 'none',\n                          padding: 0,\n                          cursor: 'pointer',\n                          color: '#d00'\n                        },\n                        children: \"\\u524A\\u9664\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 268,\n                        columnNumber: 35\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 259,\n                      columnNumber: 31\n                    }, this)]\n                  }, c.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 232,\n                    columnNumber: 29\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: '8px'\n                },\n                children: [replyTo[item.disclosureId] && /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '12px',\n                    marginBottom: '4px',\n                    color: '#666'\n                  },\n                  children: [\"\\u8FD4\\u4FE1\\u5148: \", ((_replyTo$item$disclos = replyTo[item.disclosureId]) === null || _replyTo$item$disclos === void 0 ? void 0 : _replyTo$item$disclos.nickName) || '匿名', ' ', /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => setReplyTo(prev => ({\n                      ...prev,\n                      [item.disclosureId]: null\n                    })),\n                    style: {\n                      border: 'none',\n                      background: 'none',\n                      padding: 0,\n                      marginLeft: '4px',\n                      cursor: 'pointer',\n                      color: '#999'\n                    },\n                    children: \"\\u53D6\\u6D88\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  value: commentInput[item.disclosureId] || '',\n                  onChange: e => setCommentInput(prev => ({\n                    ...prev,\n                    [item.disclosureId]: e.target.value\n                  })),\n                  placeholder: replyTo[item.disclosureId] ? `返信 @${((_replyTo$item$disclos2 = replyTo[item.disclosureId]) === null || _replyTo$item$disclos2 === void 0 ? void 0 : _replyTo$item$disclos2.nickName) || '匿名'}...` : \"コメントを入力してください...\",\n                  style: {\n                    width: '100%',\n                    minHeight: '60px',\n                    padding: '6px 8px',\n                    fontSize: '13px',\n                    boxSizing: 'border-box',\n                    borderRadius: '4px',\n                    border: '1px solid #ddd'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    textAlign: 'right',\n                    marginTop: '4px'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => handleSubmitComment(item.disclosureId),\n                    style: {\n                      background: '#ff5000',\n                      color: '#fff',\n                      border: 'none',\n                      padding: '5px 12px',\n                      borderRadius: '4px',\n                      cursor: 'pointer',\n                      fontSize: '13px'\n                    },\n                    children: \"\\u6295\\u7A3F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 302,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }, this)]\n        }, item.disclosureId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 5\n  }, this);\n};\n_s(CommunityPage, \"JyPaTL4R/gLHek/jprMorXCY1Co=\", false, function () {\n  return [useNavigate];\n});\n_c = CommunityPage;\nexport default CommunityPage;\nvar _c;\n$RefreshReg$(_c, \"CommunityPage\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","disclosureApi","disclosureOperateApi","commentApi","jsxDEV","_jsxDEV","CommunityPage","_s","navigate","disclosures","setDisclosures","loading","setLoading","commentMap","setCommentMap","commentInput","setCommentInput","replyTo","setReplyTo","openComments","setOpenComments","commentLoading","setCommentLoading","loadDisclosures","res","getPublicDisclosure","data","err","console","error","ensureLogin","token","localStorage","getItem","loadComments","disclosureId","prev","list","code","msg","e","_e$response","_e$response$data","response","toggleComments","isOpen","nextOpen","handleSubmitComment","text","trim","alert","length","replyTarget","add","content","parentId","id","undefined","_e$response2","_e$response2$data","handleDeleteComment","commentId","window","confirm","del","_e$response3","_e$response3$data","handleReply","comment","handleLike","like","handleCollect","collect","className","style","maxWidth","margin","padding","children","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","display","gridTemplateColumns","gap","map","item","_replyTo$item$disclos","_replyTo$item$disclos2","border","borderRadius","overflow","background","boxShadow","height","alignItems","justifyContent","imgUrl","src","includes","split","alt","title","width","objectFit","onError","target","color","fontSize","lineHeight","fontWeight","disclosurePrice","Date","createTime","toLocaleDateString","href","link","rel","textDecoration","onClick","cursor","marginTop","borderTop","paddingTop","flexDirection","c","commentsForDisclosure","parent","find","p","isReply","marginRight","publisher","nickName","toLocaleString","type","owner","marginLeft","value","onChange","placeholder","minHeight","boxSizing","textAlign","_c","$RefreshReg$"],"sources":["C:/Users/3jz/Desktop/HJZDM/frontend/hjzdm-frontend/src/pages/CommunityPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { disclosureApi, disclosureOperateApi, commentApi } from '../services/api';\r\n\r\ninterface Disclosure {\r\n  disclosureId: number;\r\n  title: string;\r\n  content: string;\r\n  link: string;\r\n  disclosurePrice: number;\r\n  imgUrl?: string;\r\n  createTime: string;\r\n  authorName?: string;\r\n}\r\n\r\ninterface Comment {\r\n  id: number;\r\n  parentId?: number;\r\n  disclosureId: number;\r\n  content: string;\r\n  createTime: string;\r\n  owner?: boolean;\r\n  avatarUrl?: string;\r\n  nickName?: string;\r\n  hasLike?: boolean;\r\n  status: number;\r\n  publisher?: boolean;\r\n}\r\n\r\nconst CommunityPage: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const [disclosures, setDisclosures] = useState<Disclosure[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [commentMap, setCommentMap] = useState<Record<number, Comment[]>>({});\r\n  const [commentInput, setCommentInput] = useState<Record<number, string>>({});\r\n  const [replyTo, setReplyTo] = useState<Record<number, Comment | null>>({});\r\n  const [openComments, setOpenComments] = useState<Record<number, boolean>>({});\r\n  const [commentLoading, setCommentLoading] = useState<Record<number, boolean>>({});\r\n\r\n  useEffect(() => {\r\n    loadDisclosures();\r\n  }, []);\r\n\r\n  const loadDisclosures = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await disclosureApi.getPublicDisclosure(1, 100);\r\n      setDisclosures(res.data.data || []);\r\n    } catch (err) {\r\n      console.error(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const ensureLogin = () => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      navigate('/login');\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const loadComments = async (disclosureId: number) => {\r\n    try {\r\n      setCommentLoading(prev => ({ ...prev, [disclosureId]: true }));\r\n      const res = await commentApi.list(disclosureId);\r\n      if (res.data.code !== 200) {\r\n        console.error('コメントの読み込みに失敗しました:', res.data.msg);\r\n        setCommentMap(prev => ({ ...prev, [disclosureId]: [] }));\r\n        return;\r\n      }\r\n      const list: Comment[] = res.data.data || [];\r\n      setCommentMap(prev => ({ ...prev, [disclosureId]: list }));\r\n    } catch (e: any) {\r\n      console.error(e);\r\n      setCommentMap(prev => ({ ...prev, [disclosureId]: [] }));\r\n      if (e.response?.data?.msg) {\r\n        console.error('コメントの読み込みに失敗しました:', e.response.data.msg);\r\n      }\r\n    } finally {\r\n      setCommentLoading(prev => ({ ...prev, [disclosureId]: false }));\r\n    }\r\n  };\r\n\r\n  const toggleComments = (disclosureId: number) => {\r\n    const isOpen = openComments[disclosureId];\r\n    const nextOpen = !isOpen;\r\n    setOpenComments(prev => ({ ...prev, [disclosureId]: nextOpen }));\r\n    if (nextOpen && !commentMap[disclosureId]) {\r\n      loadComments(disclosureId);\r\n    }\r\n  };\r\n\r\n  const handleSubmitComment = async (disclosureId: number) => {\r\n    if (!ensureLogin()) return;\r\n    const text = (commentInput[disclosureId] || '').trim();\r\n    if (!text) {\r\n      alert('コメントを入力してください');\r\n      return;\r\n    }\r\n    if (text.length > 500) {\r\n      alert('コメントは500文字以内で入力してください');\r\n      return;\r\n    }\r\n    const replyTarget = replyTo[disclosureId];\r\n    try {\r\n      const res = await commentApi.add({\r\n        disclosureId,\r\n        content: text,\r\n        parentId: replyTarget ? replyTarget.id : undefined\r\n      });\r\n      \r\n      if (res.data.code === 200) {\r\n        setCommentInput(prev => ({ ...prev, [disclosureId]: '' }));\r\n        setReplyTo(prev => ({ ...prev, [disclosureId]: null }));\r\n        // 强制重新加载评论列表\r\n        await loadComments(disclosureId);\r\n      } else {\r\n        alert(res.data.msg || 'コメントの投稿に失敗しました');\r\n      }\r\n    } catch (e: any) {\r\n      console.error(e);\r\n      if (e.response?.data?.msg) {\r\n        alert(e.response.data.msg);\r\n      } else {\r\n        alert('コメントの投稿に失敗しました');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleDeleteComment = async (disclosureId: number, commentId: number) => {\r\n    if (!ensureLogin()) return;\r\n    if (!window.confirm('本当にこのコメントを削除しますか？')) {\r\n      return;\r\n    }\r\n    try {\r\n      const res = await commentApi.del(commentId);\r\n      if (res.data.code !== 200) {\r\n        alert(res.data.msg || 'コメントの削除に失敗しました');\r\n      }\r\n      // 重新加载评论列表\r\n      loadComments(disclosureId);\r\n    } catch (e: any) {\r\n      console.error(e);\r\n      if (e.response?.data?.msg) {\r\n        alert(e.response.data.msg);\r\n      } else {\r\n        alert('コメントの削除に失敗しました');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleReply = (disclosureId: number, comment: Comment) => {\r\n    if (!ensureLogin()) return;\r\n    setReplyTo(prev => ({ ...prev, [disclosureId]: comment }));\r\n    setOpenComments(prev => ({ ...prev, [disclosureId]: true }));\r\n  };\r\n\r\n  const handleLike = async (id: number) => {\r\n    if (!ensureLogin()) return;\r\n    await disclosureOperateApi.like(id);\r\n  };\r\n\r\n  const handleCollect = async (id: number) => {\r\n    if (!ensureLogin()) return;\r\n    await disclosureOperateApi.collect(id);\r\n  };\r\n\r\n  return (\r\n    <div className=\"community-page-wrapper\" style={{ maxWidth: '1200px', margin: '20px auto', padding: '0 15px' }}>\r\n      <h2 style={{ marginBottom: '20px' }}>みんなの投稿 (承認済み)</h2>\r\n      \r\n      {loading ? (\r\n        <div>読み込み中...</div>\r\n      ) : disclosures.length === 0 ? (\r\n        <div className=\"no-tips\">投稿がまだありません</div>\r\n      ) : (\r\n        <div className=\"community-grid\" style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(280px, 1fr))', gap: '20px' }}>\r\n          {disclosures.map((item) => (\r\n            <div key={item.disclosureId} className=\"community-card\" style={{ border: '1px solid #eee', borderRadius: '8px', overflow: 'hidden', background: '#fff', boxShadow: '0 2px 4px rgba(0,0,0,0.05)' }}>\r\n              <div className=\"card-image\" style={{ height: '200px', background: '#f5f5f5', display: 'flex', alignItems: 'center', justifyContent: 'center', overflow: 'hidden' }}>\r\n                {item.imgUrl ? (\r\n                  <img \r\n                    src={item.imgUrl.includes(',') ? item.imgUrl.split(',')[0] : item.imgUrl}\r\n                    alt={item.title} \r\n                    style={{ width: '100%', height: '100%', objectFit: 'contain' }} \r\n                    onError={(e) => {\r\n                      console.error('Image load failed:', (e.target as HTMLImageElement).src);\r\n                      (e.target as HTMLImageElement).style.display = 'none';\r\n                    }}\r\n                  />\r\n                ) : (\r\n                  <span style={{ color: '#ccc' }}>No Image</span>\r\n                )}\r\n              </div>\r\n              <div className=\"card-content\" style={{ padding: '15px' }}>\r\n                <h3 style={{ margin: '0 0 10px', fontSize: '16px', lineHeight: '1.4', height: '44px', overflow: 'hidden' }}>{item.title}</h3>\r\n                <div style={{ color: '#ff5000', fontWeight: 'bold', fontSize: '18px', marginBottom: '10px' }}>¥{item.disclosurePrice}</div>\r\n                <p style={{ fontSize: '13px', color: '#666', marginBottom: '15px', height: '60px', overflow: 'hidden' }}>{item.content}</p>\r\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                  <span style={{ fontSize: '12px', color: '#999' }}>{new Date(item.createTime).toLocaleDateString()}</span>\r\n                  <a href={item.link} target=\"_blank\" rel=\"noopener noreferrer\" style={{ background: '#ff5000', color: '#fff', padding: '5px 15px', borderRadius: '15px', textDecoration: 'none', fontSize: '13px' }}>\r\n                    詳細へ\r\n                  </a>\r\n                  <div style={{ display: 'flex', gap: '8px' }}>\r\n                    <button onClick={() => handleLike(item.disclosureId)} style={{ border: '1px solid #ddd', background: '#fff', padding: '5px 10px', cursor: 'pointer' }}>点赞</button>\r\n                    <button onClick={() => handleCollect(item.disclosureId)} style={{ border: '1px solid #ddd', background: '#fff', padding: '5px 10px', cursor: 'pointer' }}>收藏</button>\r\n                    <button\r\n                      onClick={() => toggleComments(item.disclosureId)}\r\n                      style={{ border: '1px solid #ddd', background: '#fff', padding: '5px 10px', cursor: 'pointer' }}\r\n                    >\r\n                      {openComments[item.disclosureId] ? '隠す' : 'コメント'}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                {openComments[item.disclosureId] && (\r\n                  <div style={{ marginTop: '12px', borderTop: '1px solid #f0f0f0', paddingTop: '10px' }}>\r\n                    <div style={{ marginBottom: '8px', fontSize: '13px', fontWeight: 'bold' }}>コメント</div>\r\n                    {commentLoading[item.disclosureId] ? (\r\n                      <div style={{ fontSize: '12px', color: '#999' }}>読み込み中...</div>\r\n                    ) : (commentMap[item.disclosureId] || []).length === 0 ? (\r\n                      <div style={{ fontSize: '12px', color: '#999', padding: '8px 0' }}>コメントはまだありません。</div>\r\n                    ) : (\r\n                      <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>\r\n                        {(commentMap[item.disclosureId] || []).map((c) => {\r\n                          const commentsForDisclosure = commentMap[item.disclosureId] || [];\r\n                          const parent = c.parentId ? commentsForDisclosure.find(p => p.id === c.parentId) : undefined;\r\n                          const isReply = !!parent;\r\n                          return (\r\n                            <div\r\n                              key={c.id}\r\n                              style={{\r\n                                display: 'flex',\r\n                                flexDirection: 'column',\r\n                                padding: '6px 8px',\r\n                                background: '#fafafa',\r\n                                borderRadius: '4px'\r\n                              }}\r\n                            >\r\n                              <div style={{ display: 'flex', alignItems: 'center', marginBottom: '4px', fontSize: '12px' }}>\r\n                                <span style={{ fontWeight: 600, marginRight: '6px' }}>\r\n                                  {c.publisher ? '投稿者 ' : ''}\r\n                                  {c.nickName || '匿名'}\r\n                                </span>\r\n                                <span style={{ color: '#999', fontSize: '11px' }}>\r\n                                  {new Date(c.createTime).toLocaleString()}\r\n                                </span>\r\n                              </div>\r\n                              <div style={{ fontSize: '13px', marginBottom: '4px' }}>\r\n                                {isReply && parent ? (\r\n                                  <span style={{ color: '#666', marginRight: '4px' }}>\r\n                                    返信 @{parent.nickName || '匿名'}:\r\n                                  </span>\r\n                                ) : null}\r\n                                <span>{c.content}</span>\r\n                              </div>\r\n                              <div style={{ display: 'flex', gap: '8px', fontSize: '12px', color: '#0066c0' }}>\r\n                                <button\r\n                                  type=\"button\"\r\n                                  onClick={() => handleReply(item.disclosureId, c)}\r\n                                  style={{ border: 'none', background: 'none', padding: 0, cursor: 'pointer' }}\r\n                                >\r\n                                  返信\r\n                                </button>\r\n                                {c.owner && (\r\n                                  <button\r\n                                    type=\"button\"\r\n                                    onClick={() => handleDeleteComment(item.disclosureId, c.id)}\r\n                                    style={{ border: 'none', background: 'none', padding: 0, cursor: 'pointer', color: '#d00' }}\r\n                                  >\r\n                                    削除\r\n                                  </button>\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    )}\r\n                    <div style={{ marginTop: '8px' }}>\r\n                      {replyTo[item.disclosureId] && (\r\n                        <div style={{ fontSize: '12px', marginBottom: '4px', color: '#666' }}>\r\n                          返信先: {replyTo[item.disclosureId]?.nickName || '匿名'}{' '}\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={() => setReplyTo(prev => ({ ...prev, [item.disclosureId]: null }))}\r\n                            style={{ border: 'none', background: 'none', padding: 0, marginLeft: '4px', cursor: 'pointer', color: '#999' }}\r\n                          >\r\n                            取消\r\n                          </button>\r\n                        </div>\r\n                      )}\r\n                      <textarea\r\n                        value={commentInput[item.disclosureId] || ''}\r\n                        onChange={e => setCommentInput(prev => ({ ...prev, [item.disclosureId]: e.target.value }))}\r\n                        placeholder={replyTo[item.disclosureId] ? `返信 @${replyTo[item.disclosureId]?.nickName || '匿名'}...` : \"コメントを入力してください...\"}\r\n                        style={{ width: '100%', minHeight: '60px', padding: '6px 8px', fontSize: '13px', boxSizing: 'border-box', borderRadius: '4px', border: '1px solid #ddd' }}\r\n                      />\r\n                      <div style={{ textAlign: 'right', marginTop: '4px' }}>\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => handleSubmitComment(item.disclosureId)}\r\n                          style={{ background: '#ff5000', color: '#fff', border: 'none', padding: '5px 12px', borderRadius: '4px', cursor: 'pointer', fontSize: '13px' }}\r\n                        >\r\n                          投稿\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommunityPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}