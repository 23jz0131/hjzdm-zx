{"ast":null,"code":"import _objectSpread from\"C:/Users/3jz/Desktop/HJZDM/frontend/hjzdm-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{disclosureApi,disclosureOperateApi,commentApi}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CommunityPage=()=>{const navigate=useNavigate();const[disclosures,setDisclosures]=useState([]);const[loading,setLoading]=useState(true);const[commentMap,setCommentMap]=useState({});const[commentInput,setCommentInput]=useState({});const[replyTo,setReplyTo]=useState({});const[openComments,setOpenComments]=useState({});const[commentLoading,setCommentLoading]=useState({});useEffect(()=>{loadDisclosures();},[]);const loadDisclosures=async()=>{try{setLoading(true);const res=await disclosureApi.getPublicDisclosure(1,100);setDisclosures(res.data.data||[]);}catch(err){console.error(err);}finally{setLoading(false);}};const ensureLogin=()=>{const token=localStorage.getItem('token');if(!token){navigate('/login');return false;}return true;};const loadComments=async disclosureId=>{try{setCommentLoading(prev=>_objectSpread(_objectSpread({},prev),{},{[disclosureId]:true}));const res=await commentApi.list(disclosureId);if(res.data.code!==200){console.error('コメントの読み込みに失敗しました:',res.data.msg);setCommentMap(prev=>_objectSpread(_objectSpread({},prev),{},{[disclosureId]:[]}));return;}const list=res.data.data||[];setCommentMap(prev=>_objectSpread(_objectSpread({},prev),{},{[disclosureId]:list}));}catch(e){var _e$response,_e$response$data;console.error(e);setCommentMap(prev=>_objectSpread(_objectSpread({},prev),{},{[disclosureId]:[]}));if((_e$response=e.response)!==null&&_e$response!==void 0&&(_e$response$data=_e$response.data)!==null&&_e$response$data!==void 0&&_e$response$data.msg){console.error('コメントの読み込みに失敗しました:',e.response.data.msg);}}finally{setCommentLoading(prev=>_objectSpread(_objectSpread({},prev),{},{[disclosureId]:false}));}};const toggleComments=disclosureId=>{const isOpen=openComments[disclosureId];const nextOpen=!isOpen;setOpenComments(prev=>_objectSpread(_objectSpread({},prev),{},{[disclosureId]:nextOpen}));if(nextOpen&&!commentMap[disclosureId]){loadComments(disclosureId);}};const handleSubmitComment=async disclosureId=>{if(!ensureLogin())return;const text=(commentInput[disclosureId]||'').trim();if(!text){alert('コメントを入力してください');return;}if(text.length>500){alert('コメントは500文字以内で入力してください');return;}const replyTarget=replyTo[disclosureId];try{const res=await commentApi.add({disclosureId,content:text,parentId:replyTarget?replyTarget.id:undefined});if(res.data.code===200){setCommentInput(prev=>_objectSpread(_objectSpread({},prev),{},{[disclosureId]:''}));setReplyTo(prev=>_objectSpread(_objectSpread({},prev),{},{[disclosureId]:null}));// 强制重新加载评论列表\nawait loadComments(disclosureId);}else{alert(res.data.msg||'コメントの投稿に失敗しました');}}catch(e){var _e$response2,_e$response2$data;console.error(e);if((_e$response2=e.response)!==null&&_e$response2!==void 0&&(_e$response2$data=_e$response2.data)!==null&&_e$response2$data!==void 0&&_e$response2$data.msg){alert(e.response.data.msg);}else{alert('コメントの投稿に失敗しました');}}};const handleDeleteComment=async(disclosureId,commentId)=>{if(!ensureLogin())return;if(!window.confirm('本当にこのコメントを削除しますか？')){return;}try{const res=await commentApi.del(commentId);if(res.data.code!==200){alert(res.data.msg||'コメントの削除に失敗しました');}// 重新加载评论列表\nloadComments(disclosureId);}catch(e){var _e$response3,_e$response3$data;console.error(e);if((_e$response3=e.response)!==null&&_e$response3!==void 0&&(_e$response3$data=_e$response3.data)!==null&&_e$response3$data!==void 0&&_e$response3$data.msg){alert(e.response.data.msg);}else{alert('コメントの削除に失敗しました');}}};const handleReply=(disclosureId,comment)=>{if(!ensureLogin())return;setReplyTo(prev=>_objectSpread(_objectSpread({},prev),{},{[disclosureId]:comment}));setOpenComments(prev=>_objectSpread(_objectSpread({},prev),{},{[disclosureId]:true}));};const handleLike=async id=>{if(!ensureLogin())return;await disclosureOperateApi.like(id);};const handleCollect=async id=>{if(!ensureLogin())return;await disclosureOperateApi.collect(id);};return/*#__PURE__*/_jsxs(\"div\",{className:\"community-page-wrapper\",style:{maxWidth:'1200px',margin:'20px auto',padding:'0 15px'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{marginBottom:'20px'},children:\"\\u307F\\u3093\\u306A\\u306E\\u6295\\u7A3F (\\u627F\\u8A8D\\u6E08\\u307F)\"}),loading?/*#__PURE__*/_jsx(\"div\",{children:\"\\u8AAD\\u307F\\u8FBC\\u307F\\u4E2D...\"}):disclosures.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"no-tips\",children:\"\\u6295\\u7A3F\\u304C\\u307E\\u3060\\u3042\\u308A\\u307E\\u305B\\u3093\"}):/*#__PURE__*/_jsx(\"div\",{className:\"community-grid\",style:{display:'grid',gridTemplateColumns:'repeat(auto-fill, minmax(280px, 1fr))',gap:'20px'},children:disclosures.map(item=>{var _replyTo$item$disclos,_replyTo$item$disclos2;return/*#__PURE__*/_jsxs(\"div\",{className:\"community-card\",style:{border:'1px solid #eee',borderRadius:'8px',overflow:'hidden',background:'#fff',boxShadow:'0 2px 4px rgba(0,0,0,0.05)'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-image\",style:{height:'200px',background:'#f5f5f5',display:'flex',alignItems:'center',justifyContent:'center',overflow:'hidden'},children:item.imgUrl?/*#__PURE__*/_jsx(\"img\",{src:item.imgUrl.includes(',')?item.imgUrl.split(',')[0]:item.imgUrl,alt:item.title,style:{width:'100%',height:'100%',objectFit:'contain'},onError:e=>{console.error('Image load failed:',e.target.src);e.target.style.display='none';}}):/*#__PURE__*/_jsx(\"span\",{style:{color:'#ccc'},children:\"No Image\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-content\",style:{padding:'15px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 10px',fontSize:'16px',lineHeight:'1.4',height:'44px',overflow:'hidden'},children:item.title}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#ff5000',fontWeight:'bold',fontSize:'18px',marginBottom:'10px'},children:[\"\\xA5\",item.disclosurePrice]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'13px',color:'#666',marginBottom:'15px',height:'60px',overflow:'hidden'},children:item.content}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'12px',color:'#999'},children:new Date(item.createTime).toLocaleDateString()}),/*#__PURE__*/_jsx(\"a\",{href:item.link,target:\"_blank\",rel:\"noopener noreferrer\",style:{background:'#ff5000',color:'#fff',padding:'5px 15px',borderRadius:'15px',textDecoration:'none',fontSize:'13px'},children:\"\\u8A73\\u7D30\\u3078\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleLike(item.disclosureId),style:{border:'1px solid #ddd',background:'#fff',padding:'5px 10px',cursor:'pointer'},children:\"\\u70B9\\u8D5E\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleCollect(item.disclosureId),style:{border:'1px solid #ddd',background:'#fff',padding:'5px 10px',cursor:'pointer'},children:\"\\u6536\\u85CF\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>toggleComments(item.disclosureId),style:{border:'1px solid #ddd',background:'#fff',padding:'5px 10px',cursor:'pointer'},children:openComments[item.disclosureId]?'隠す':'コメント'})]})]}),openComments[item.disclosureId]&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'12px',borderTop:'1px solid #f0f0f0',paddingTop:'10px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'8px',fontSize:'13px',fontWeight:'bold'},children:\"\\u30B3\\u30E1\\u30F3\\u30C8\"}),commentLoading[item.disclosureId]?/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#999'},children:\"\\u8AAD\\u307F\\u8FBC\\u307F\\u4E2D...\"}):(commentMap[item.disclosureId]||[]).length===0?/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#999',padding:'8px 0'},children:\"\\u30B3\\u30E1\\u30F3\\u30C8\\u306F\\u307E\\u3060\\u3042\\u308A\\u307E\\u305B\\u3093\\u3002\"}):/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'8px'},children:(commentMap[item.disclosureId]||[]).map(c=>{const commentsForDisclosure=commentMap[item.disclosureId]||[];const parent=c.parentId?commentsForDisclosure.find(p=>p.id===c.parentId):undefined;const isReply=!!parent;return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',padding:'6px 8px',background:'#fafafa',borderRadius:'4px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',marginBottom:'4px',fontSize:'12px'},children:[/*#__PURE__*/_jsxs(\"span\",{style:{fontWeight:600,marginRight:'6px'},children:[c.publisher?'投稿者 ':'',c.nickName||'匿名']}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#999',fontSize:'11px'},children:new Date(c.createTime).toLocaleString()})]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'13px',marginBottom:'4px'},children:[isReply&&parent?/*#__PURE__*/_jsxs(\"span\",{style:{color:'#666',marginRight:'4px'},children:[\"\\u8FD4\\u4FE1 @\",parent.nickName||'匿名',\":\"]}):null,/*#__PURE__*/_jsx(\"span\",{children:c.content})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',fontSize:'12px',color:'#0066c0'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleReply(item.disclosureId,c),style:{border:'none',background:'none',padding:0,cursor:'pointer'},children:\"\\u8FD4\\u4FE1\"}),c.owner&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleDeleteComment(item.disclosureId,c.id),style:{border:'none',background:'none',padding:0,cursor:'pointer',color:'#d00'},children:\"\\u524A\\u9664\"})]})]},c.id);})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'8px'},children:[replyTo[item.disclosureId]&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',marginBottom:'4px',color:'#666'},children:[\"\\u8FD4\\u4FE1\\u5148: \",((_replyTo$item$disclos=replyTo[item.disclosureId])===null||_replyTo$item$disclos===void 0?void 0:_replyTo$item$disclos.nickName)||'匿名',' ',/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setReplyTo(prev=>_objectSpread(_objectSpread({},prev),{},{[item.disclosureId]:null})),style:{border:'none',background:'none',padding:0,marginLeft:'4px',cursor:'pointer',color:'#999'},children:\"\\u53D6\\u6D88\"})]}),/*#__PURE__*/_jsx(\"textarea\",{value:commentInput[item.disclosureId]||'',onChange:e=>setCommentInput(prev=>_objectSpread(_objectSpread({},prev),{},{[item.disclosureId]:e.target.value})),placeholder:replyTo[item.disclosureId]?\"\\u8FD4\\u4FE1 @\".concat(((_replyTo$item$disclos2=replyTo[item.disclosureId])===null||_replyTo$item$disclos2===void 0?void 0:_replyTo$item$disclos2.nickName)||'匿名',\"...\"):\"コメントを入力してください...\",style:{width:'100%',minHeight:'60px',padding:'6px 8px',fontSize:'13px',boxSizing:'border-box',borderRadius:'4px',border:'1px solid #ddd'}}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'right',marginTop:'4px'},children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>handleSubmitComment(item.disclosureId),style:{background:'#ff5000',color:'#fff',border:'none',padding:'5px 12px',borderRadius:'4px',cursor:'pointer',fontSize:'13px'},children:\"\\u6295\\u7A3F\"})})]})]})]})]},item.disclosureId);})})]});};export default CommunityPage;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","disclosureApi","disclosureOperateApi","commentApi","jsx","_jsx","jsxs","_jsxs","CommunityPage","navigate","disclosures","setDisclosures","loading","setLoading","commentMap","setCommentMap","commentInput","setCommentInput","replyTo","setReplyTo","openComments","setOpenComments","commentLoading","setCommentLoading","loadDisclosures","res","getPublicDisclosure","data","err","console","error","ensureLogin","token","localStorage","getItem","loadComments","disclosureId","prev","_objectSpread","list","code","msg","e","_e$response","_e$response$data","response","toggleComments","isOpen","nextOpen","handleSubmitComment","text","trim","alert","length","replyTarget","add","content","parentId","id","undefined","_e$response2","_e$response2$data","handleDeleteComment","commentId","window","confirm","del","_e$response3","_e$response3$data","handleReply","comment","handleLike","like","handleCollect","collect","className","style","maxWidth","margin","padding","children","marginBottom","display","gridTemplateColumns","gap","map","item","_replyTo$item$disclos","_replyTo$item$disclos2","border","borderRadius","overflow","background","boxShadow","height","alignItems","justifyContent","imgUrl","src","includes","split","alt","title","width","objectFit","onError","target","color","fontSize","lineHeight","fontWeight","disclosurePrice","Date","createTime","toLocaleDateString","href","link","rel","textDecoration","onClick","cursor","marginTop","borderTop","paddingTop","flexDirection","c","commentsForDisclosure","parent","find","p","isReply","marginRight","publisher","nickName","toLocaleString","type","owner","marginLeft","value","onChange","placeholder","concat","minHeight","boxSizing","textAlign"],"sources":["C:/Users/3jz/Desktop/HJZDM/frontend/hjzdm-frontend/src/pages/CommunityPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { disclosureApi, disclosureOperateApi, commentApi } from '../services/api';\r\n\r\ninterface Disclosure {\r\n  disclosureId: number;\r\n  title: string;\r\n  content: string;\r\n  link: string;\r\n  disclosurePrice: number;\r\n  imgUrl?: string;\r\n  createTime: string;\r\n  authorName?: string;\r\n}\r\n\r\ninterface Comment {\r\n  id: number;\r\n  parentId?: number;\r\n  disclosureId: number;\r\n  content: string;\r\n  createTime: string;\r\n  owner?: boolean;\r\n  avatarUrl?: string;\r\n  nickName?: string;\r\n  hasLike?: boolean;\r\n  status: number;\r\n  publisher?: boolean;\r\n}\r\n\r\nconst CommunityPage: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const [disclosures, setDisclosures] = useState<Disclosure[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [commentMap, setCommentMap] = useState<Record<number, Comment[]>>({});\r\n  const [commentInput, setCommentInput] = useState<Record<number, string>>({});\r\n  const [replyTo, setReplyTo] = useState<Record<number, Comment | null>>({});\r\n  const [openComments, setOpenComments] = useState<Record<number, boolean>>({});\r\n  const [commentLoading, setCommentLoading] = useState<Record<number, boolean>>({});\r\n\r\n  useEffect(() => {\r\n    loadDisclosures();\r\n  }, []);\r\n\r\n  const loadDisclosures = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await disclosureApi.getPublicDisclosure(1, 100);\r\n      setDisclosures(res.data.data || []);\r\n    } catch (err) {\r\n      console.error(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const ensureLogin = () => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      navigate('/login');\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const loadComments = async (disclosureId: number) => {\r\n    try {\r\n      setCommentLoading(prev => ({ ...prev, [disclosureId]: true }));\r\n      const res = await commentApi.list(disclosureId);\r\n      if (res.data.code !== 200) {\r\n        console.error('コメントの読み込みに失敗しました:', res.data.msg);\r\n        setCommentMap(prev => ({ ...prev, [disclosureId]: [] }));\r\n        return;\r\n      }\r\n      const list: Comment[] = res.data.data || [];\r\n      setCommentMap(prev => ({ ...prev, [disclosureId]: list }));\r\n    } catch (e: any) {\r\n      console.error(e);\r\n      setCommentMap(prev => ({ ...prev, [disclosureId]: [] }));\r\n      if (e.response?.data?.msg) {\r\n        console.error('コメントの読み込みに失敗しました:', e.response.data.msg);\r\n      }\r\n    } finally {\r\n      setCommentLoading(prev => ({ ...prev, [disclosureId]: false }));\r\n    }\r\n  };\r\n\r\n  const toggleComments = (disclosureId: number) => {\r\n    const isOpen = openComments[disclosureId];\r\n    const nextOpen = !isOpen;\r\n    setOpenComments(prev => ({ ...prev, [disclosureId]: nextOpen }));\r\n    if (nextOpen && !commentMap[disclosureId]) {\r\n      loadComments(disclosureId);\r\n    }\r\n  };\r\n\r\n  const handleSubmitComment = async (disclosureId: number) => {\r\n    if (!ensureLogin()) return;\r\n    const text = (commentInput[disclosureId] || '').trim();\r\n    if (!text) {\r\n      alert('コメントを入力してください');\r\n      return;\r\n    }\r\n    if (text.length > 500) {\r\n      alert('コメントは500文字以内で入力してください');\r\n      return;\r\n    }\r\n    const replyTarget = replyTo[disclosureId];\r\n    try {\r\n      const res = await commentApi.add({\r\n        disclosureId,\r\n        content: text,\r\n        parentId: replyTarget ? replyTarget.id : undefined\r\n      });\r\n      \r\n      if (res.data.code === 200) {\r\n        setCommentInput(prev => ({ ...prev, [disclosureId]: '' }));\r\n        setReplyTo(prev => ({ ...prev, [disclosureId]: null }));\r\n        // 强制重新加载评论列表\r\n        await loadComments(disclosureId);\r\n      } else {\r\n        alert(res.data.msg || 'コメントの投稿に失敗しました');\r\n      }\r\n    } catch (e: any) {\r\n      console.error(e);\r\n      if (e.response?.data?.msg) {\r\n        alert(e.response.data.msg);\r\n      } else {\r\n        alert('コメントの投稿に失敗しました');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleDeleteComment = async (disclosureId: number, commentId: number) => {\r\n    if (!ensureLogin()) return;\r\n    if (!window.confirm('本当にこのコメントを削除しますか？')) {\r\n      return;\r\n    }\r\n    try {\r\n      const res = await commentApi.del(commentId);\r\n      if (res.data.code !== 200) {\r\n        alert(res.data.msg || 'コメントの削除に失敗しました');\r\n      }\r\n      // 重新加载评论列表\r\n      loadComments(disclosureId);\r\n    } catch (e: any) {\r\n      console.error(e);\r\n      if (e.response?.data?.msg) {\r\n        alert(e.response.data.msg);\r\n      } else {\r\n        alert('コメントの削除に失敗しました');\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleReply = (disclosureId: number, comment: Comment) => {\r\n    if (!ensureLogin()) return;\r\n    setReplyTo(prev => ({ ...prev, [disclosureId]: comment }));\r\n    setOpenComments(prev => ({ ...prev, [disclosureId]: true }));\r\n  };\r\n\r\n  const handleLike = async (id: number) => {\r\n    if (!ensureLogin()) return;\r\n    await disclosureOperateApi.like(id);\r\n  };\r\n\r\n  const handleCollect = async (id: number) => {\r\n    if (!ensureLogin()) return;\r\n    await disclosureOperateApi.collect(id);\r\n  };\r\n\r\n  return (\r\n    <div className=\"community-page-wrapper\" style={{ maxWidth: '1200px', margin: '20px auto', padding: '0 15px' }}>\r\n      <h2 style={{ marginBottom: '20px' }}>みんなの投稿 (承認済み)</h2>\r\n      \r\n      {loading ? (\r\n        <div>読み込み中...</div>\r\n      ) : disclosures.length === 0 ? (\r\n        <div className=\"no-tips\">投稿がまだありません</div>\r\n      ) : (\r\n        <div className=\"community-grid\" style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(280px, 1fr))', gap: '20px' }}>\r\n          {disclosures.map((item) => (\r\n            <div key={item.disclosureId} className=\"community-card\" style={{ border: '1px solid #eee', borderRadius: '8px', overflow: 'hidden', background: '#fff', boxShadow: '0 2px 4px rgba(0,0,0,0.05)' }}>\r\n              <div className=\"card-image\" style={{ height: '200px', background: '#f5f5f5', display: 'flex', alignItems: 'center', justifyContent: 'center', overflow: 'hidden' }}>\r\n                {item.imgUrl ? (\r\n                  <img \r\n                    src={item.imgUrl.includes(',') ? item.imgUrl.split(',')[0] : item.imgUrl}\r\n                    alt={item.title} \r\n                    style={{ width: '100%', height: '100%', objectFit: 'contain' }} \r\n                    onError={(e) => {\r\n                      console.error('Image load failed:', (e.target as HTMLImageElement).src);\r\n                      (e.target as HTMLImageElement).style.display = 'none';\r\n                    }}\r\n                  />\r\n                ) : (\r\n                  <span style={{ color: '#ccc' }}>No Image</span>\r\n                )}\r\n              </div>\r\n              <div className=\"card-content\" style={{ padding: '15px' }}>\r\n                <h3 style={{ margin: '0 0 10px', fontSize: '16px', lineHeight: '1.4', height: '44px', overflow: 'hidden' }}>{item.title}</h3>\r\n                <div style={{ color: '#ff5000', fontWeight: 'bold', fontSize: '18px', marginBottom: '10px' }}>¥{item.disclosurePrice}</div>\r\n                <p style={{ fontSize: '13px', color: '#666', marginBottom: '15px', height: '60px', overflow: 'hidden' }}>{item.content}</p>\r\n                <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                  <span style={{ fontSize: '12px', color: '#999' }}>{new Date(item.createTime).toLocaleDateString()}</span>\r\n                  <a href={item.link} target=\"_blank\" rel=\"noopener noreferrer\" style={{ background: '#ff5000', color: '#fff', padding: '5px 15px', borderRadius: '15px', textDecoration: 'none', fontSize: '13px' }}>\r\n                    詳細へ\r\n                  </a>\r\n                  <div style={{ display: 'flex', gap: '8px' }}>\r\n                    <button onClick={() => handleLike(item.disclosureId)} style={{ border: '1px solid #ddd', background: '#fff', padding: '5px 10px', cursor: 'pointer' }}>点赞</button>\r\n                    <button onClick={() => handleCollect(item.disclosureId)} style={{ border: '1px solid #ddd', background: '#fff', padding: '5px 10px', cursor: 'pointer' }}>收藏</button>\r\n                    <button\r\n                      onClick={() => toggleComments(item.disclosureId)}\r\n                      style={{ border: '1px solid #ddd', background: '#fff', padding: '5px 10px', cursor: 'pointer' }}\r\n                    >\r\n                      {openComments[item.disclosureId] ? '隠す' : 'コメント'}\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                {openComments[item.disclosureId] && (\r\n                  <div style={{ marginTop: '12px', borderTop: '1px solid #f0f0f0', paddingTop: '10px' }}>\r\n                    <div style={{ marginBottom: '8px', fontSize: '13px', fontWeight: 'bold' }}>コメント</div>\r\n                    {commentLoading[item.disclosureId] ? (\r\n                      <div style={{ fontSize: '12px', color: '#999' }}>読み込み中...</div>\r\n                    ) : (commentMap[item.disclosureId] || []).length === 0 ? (\r\n                      <div style={{ fontSize: '12px', color: '#999', padding: '8px 0' }}>コメントはまだありません。</div>\r\n                    ) : (\r\n                      <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>\r\n                        {(commentMap[item.disclosureId] || []).map((c) => {\r\n                          const commentsForDisclosure = commentMap[item.disclosureId] || [];\r\n                          const parent = c.parentId ? commentsForDisclosure.find(p => p.id === c.parentId) : undefined;\r\n                          const isReply = !!parent;\r\n                          return (\r\n                            <div\r\n                              key={c.id}\r\n                              style={{\r\n                                display: 'flex',\r\n                                flexDirection: 'column',\r\n                                padding: '6px 8px',\r\n                                background: '#fafafa',\r\n                                borderRadius: '4px'\r\n                              }}\r\n                            >\r\n                              <div style={{ display: 'flex', alignItems: 'center', marginBottom: '4px', fontSize: '12px' }}>\r\n                                <span style={{ fontWeight: 600, marginRight: '6px' }}>\r\n                                  {c.publisher ? '投稿者 ' : ''}\r\n                                  {c.nickName || '匿名'}\r\n                                </span>\r\n                                <span style={{ color: '#999', fontSize: '11px' }}>\r\n                                  {new Date(c.createTime).toLocaleString()}\r\n                                </span>\r\n                              </div>\r\n                              <div style={{ fontSize: '13px', marginBottom: '4px' }}>\r\n                                {isReply && parent ? (\r\n                                  <span style={{ color: '#666', marginRight: '4px' }}>\r\n                                    返信 @{parent.nickName || '匿名'}:\r\n                                  </span>\r\n                                ) : null}\r\n                                <span>{c.content}</span>\r\n                              </div>\r\n                              <div style={{ display: 'flex', gap: '8px', fontSize: '12px', color: '#0066c0' }}>\r\n                                <button\r\n                                  type=\"button\"\r\n                                  onClick={() => handleReply(item.disclosureId, c)}\r\n                                  style={{ border: 'none', background: 'none', padding: 0, cursor: 'pointer' }}\r\n                                >\r\n                                  返信\r\n                                </button>\r\n                                {c.owner && (\r\n                                  <button\r\n                                    type=\"button\"\r\n                                    onClick={() => handleDeleteComment(item.disclosureId, c.id)}\r\n                                    style={{ border: 'none', background: 'none', padding: 0, cursor: 'pointer', color: '#d00' }}\r\n                                  >\r\n                                    削除\r\n                                  </button>\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                          );\r\n                        })}\r\n                      </div>\r\n                    )}\r\n                    <div style={{ marginTop: '8px' }}>\r\n                      {replyTo[item.disclosureId] && (\r\n                        <div style={{ fontSize: '12px', marginBottom: '4px', color: '#666' }}>\r\n                          返信先: {replyTo[item.disclosureId]?.nickName || '匿名'}{' '}\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={() => setReplyTo(prev => ({ ...prev, [item.disclosureId]: null }))}\r\n                            style={{ border: 'none', background: 'none', padding: 0, marginLeft: '4px', cursor: 'pointer', color: '#999' }}\r\n                          >\r\n                            取消\r\n                          </button>\r\n                        </div>\r\n                      )}\r\n                      <textarea\r\n                        value={commentInput[item.disclosureId] || ''}\r\n                        onChange={e => setCommentInput(prev => ({ ...prev, [item.disclosureId]: e.target.value }))}\r\n                        placeholder={replyTo[item.disclosureId] ? `返信 @${replyTo[item.disclosureId]?.nickName || '匿名'}...` : \"コメントを入力してください...\"}\r\n                        style={{ width: '100%', minHeight: '60px', padding: '6px 8px', fontSize: '13px', boxSizing: 'border-box', borderRadius: '4px', border: '1px solid #ddd' }}\r\n                      />\r\n                      <div style={{ textAlign: 'right', marginTop: '4px' }}>\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => handleSubmitComment(item.disclosureId)}\r\n                          style={{ background: '#ff5000', color: '#fff', border: 'none', padding: '5px 12px', borderRadius: '4px', cursor: 'pointer', fontSize: '13px' }}\r\n                        >\r\n                          投稿\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommunityPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}