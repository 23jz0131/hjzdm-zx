{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\3jz\\\\Desktop\\\\HJZDM\\\\frontend\\\\hjzdm-frontend\\\\src\\\\pages\\\\ComparePage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport './ComparePage.css';\nimport { goodsApi } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ComparePage = () => {\n  _s();\n  const [searchParams] = useSearchParams();\n  const [query, setQuery] = useState(searchParams.get('query') || '');\n  const [compareGroups, setCompareGroups] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [sortOption, setSortOption] = useState('price_asc');\n  const [selectedPlatforms, setSelectedPlatforms] = useState([]);\n  const [minPrice, setMinPrice] = useState('');\n  const [maxPrice, setMaxPrice] = useState('');\n  const [viewMode, setViewMode] = useState('grid');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [pageSize, setPageSize] = useState(20);\n  const [selectedKeys, setSelectedKeys] = useState([]);\n  const [selectedBrands, setSelectedBrands] = useState([]);\n  const [selectedSeries, setSelectedSeries] = useState([]);\n  const [selectedModels, setSelectedModels] = useState([]);\n  const [selectedStorage, setSelectedStorage] = useState([]);\n  const [selectedColors, setSelectedColors] = useState([]);\n  const [selectedSizes, setSelectedSizes] = useState([]);\n  const [selectedCategories, setSelectedCategories] = useState([]);\n  const [trendOpen, setTrendOpen] = useState(false);\n  const [trendLabels, setTrendLabels] = useState([]);\n  const [trendSeries, setTrendSeries] = useState([]);\n  const [trendTitle, setTrendTitle] = useState('');\n\n  // 仅在页面加载时，如果有URL参数，则执行搜索\n  useEffect(() => {\n    if (query.trim()) {\n      searchProducts(query);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const searchProducts = async searchQuery => {\n    if (!searchQuery.trim()) return; // 如果查询为空则不执行搜索\n\n    setLoading(true);\n    setError(null);\n    try {\n      console.log('Calling API: goodsApi.compareGoods with query:', searchQuery); // デバッグ用ログ\n\n      // 使用api.ts中定义的API服务\n      const response = await goodsApi.compareGoods(searchQuery);\n      console.log('API Response:', response.data); // デバッグ用ログ\n\n      let responseData = [];\n      if (response.data && response.data.data) {\n        responseData = Array.isArray(response.data.data) ? response.data.data : [response.data.data];\n      } else {\n        responseData = [];\n      }\n      console.log('Raw Response Data:', responseData); // デバッグ用ログ\n\n      // レスポンスデータを処理\n      let processedData = [];\n      if (responseData.length > 0) {\n        // APIが返すグループデータを適切に処理\n        processedData = responseData.map(group => {\n          // グループ内の商品リストを処理\n          const goodsList = Array.isArray(group.goodsList) ? group.goodsList : [];\n\n          // 最低価格とプラットフォームを特定\n          let lowestPrice = null;\n          let lowestPlatform = '不明';\n\n          // 最低価格を計算\n          if (goodsList.length > 0) {\n            const lowestProduct = goodsList.reduce((lowest, current) => current.goodsPrice < lowest.goodsPrice ? current : lowest, goodsList[0]);\n            lowestPrice = lowestProduct.goodsPrice;\n            lowestPlatform = getPlatformName(lowestProduct.mallType);\n          }\n          return {\n            goodsName: group.goodsName || '不明な商品',\n            goodsList: goodsList.map(product => ({\n              goodsId: product.goodsId,\n              goodsName: product.goodsName,\n              goodsPrice: product.goodsPrice,\n              goodsLink: product.goodsLink,\n              imgUrl: product.imgUrl,\n              mallType: product.mallType\n            })),\n            lowestPrice: lowestPrice,\n            lowestPlatform: lowestPlatform\n          };\n        });\n        console.log('Processed grouped data:', processedData); // デバッグ用ログ\n      }\n      console.log('Final processed data:', processedData); // デバッグ用ログ\n\n      setCompareGroups(processedData);\n      setLoading(false);\n    } catch (err) {\n      setError('検索に失敗しました。後ほど再試行してください');\n      setLoading(false);\n      console.error(err);\n    }\n  };\n  const handleSearch = e => {\n    e.preventDefault();\n    if (query.trim()) {\n      searchProducts(query);\n    }\n  };\n  const getPlatformName = mallType => {\n    switch (mallType) {\n      case 10:\n        return '楽天';\n      case 20:\n        return 'ヤフー';\n      case 30:\n        return 'タオバオ';\n      default:\n        return '不明なプラットフォーム';\n    }\n  };\n  const getPlatformColor = mallType => {\n    switch (mallType) {\n      case 10:\n        return '#bf0000';\n      // Rakuten Red\n      case 20:\n        return '#ff0033';\n      // Yahoo Red (adjusted)\n      case 30:\n        return '#ff5000';\n      // Taobao Orange\n      default:\n        return '#666';\n    }\n  };\n  const getPlatformBadgeClass = mallType => {\n    switch (mallType) {\n      case 10:\n        return 'platform-badge rakuten';\n      case 20:\n        return 'platform-badge yahoo';\n      case 30:\n        return 'platform-badge taobao';\n      default:\n        return 'platform-badge unknown';\n    }\n  };\n  const allProducts = compareGroups.flatMap(group => group.goodsList);\n  const knownBrands = ['Apple', 'Samsung', 'Sony', 'Xiaomi', 'Huawei', 'Lenovo', 'Dell', 'HP', 'ASUS', 'Acer', 'Nintendo', 'Microsoft', 'Canon', 'Nikon'];\n  const parseFacets = name => {\n    const n = name || '';\n    const brand = knownBrands.find(b => new RegExp(b, 'i').test(n)) || '';\n    const seriesMatch = n.match(/(iPhone|MacBook|iPad|Galaxy|ThinkPad|Surface|PlayStation|Switch|WH\\-\\d{4}XM\\d|RX\\s?\\d{3,}|EOS\\s?\\w+)/i);\n    const series = seriesMatch ? seriesMatch[1] : '';\n    const modelMatch = n.match(/([A-Za-z]{1,3}\\-?\\d{2,4}[A-Za-z]?|\\bPro Max\\b|\\bPro\\b|\\bUltra\\b|\\bPlus\\b|\\bAir\\b|\\bMini\\b)/i);\n    const model = modelMatch ? modelMatch[1] : '';\n    const storageMatch = n.match(/(\\b\\d{2,4}\\s?(GB|TB)\\b)/i);\n    const storage = storageMatch ? storageMatch[1].replace(/\\s+/g, '') : '';\n    const colorMatch = n.match(/\\b(Black|White|Silver|Blue|Red|Green|Gold|Pink|Gray|Space Gray|Midnight)\\b/i);\n    const color = colorMatch ? colorMatch[1] : '';\n    const sizeMatch = n.match(/(\\b\\d{1,2}(?:\\.\\d)?\\s?(?:吋|インチ|\"|英寸)\\b)/);\n    const size = sizeMatch ? sizeMatch[1] : '';\n    return {\n      brand,\n      series,\n      model,\n      storage,\n      color,\n      size\n    };\n  };\n  const facetIndex = allProducts.map(p => parseFacets(p.goodsName));\n  const brands = Array.from(new Set(facetIndex.map(f => f.brand).filter(Boolean)));\n  const series = Array.from(new Set(facetIndex.map(f => f.series).filter(Boolean)));\n  const models = Array.from(new Set(facetIndex.map(f => f.model).filter(Boolean)));\n  const storages = Array.from(new Set(facetIndex.map(f => f.storage).filter(Boolean)));\n  const colors = Array.from(new Set(facetIndex.map(f => f.color).filter(Boolean)));\n  const sizes = Array.from(new Set(facetIndex.map(f => f.size).filter(Boolean)));\n  const parseCategory = name => {\n    const n = (name || '').toLowerCase();\n    if (/手机壳|ケース|保护壳|カバー/.test(n)) return {\n      parent: '手机配件',\n      child: '手机壳'\n    };\n    if (/iphone|galaxy|xiaomi|huawei|pixel|xperia/.test(n)) return {\n      parent: '手机/通讯',\n      child: '智能手机'\n    };\n    if (/ipad|galaxy tab|surface|tablet/.test(n)) return {\n      parent: '电脑/平板',\n      child: '平板电脑'\n    };\n    if (/macbook|thinkpad|notebook|laptop/.test(n)) return {\n      parent: '电脑/平板',\n      child: '笔记本电脑'\n    };\n    if (/monitor|display|显示器/.test(n)) return {\n      parent: '电脑周边',\n      child: '显示器'\n    };\n    if (/mouse|keyboard|鼠标|键盘/.test(n)) return {\n      parent: '电脑周边',\n      child: '键鼠'\n    };\n    if (/airpods|buds|wh-|wf-|耳机/.test(n)) return {\n      parent: '影音家电',\n      child: '耳机'\n    };\n    if (/tv|bravia|regza|电视/.test(n)) return {\n      parent: '影音家电',\n      child: '电视机'\n    };\n    if (/camera|eos|alpha|相机/.test(n)) return {\n      parent: '相机/摄像',\n      child: '数码相机'\n    };\n    if (/lens|镜头/.test(n)) return {\n      parent: '相机/摄像',\n      child: '镜头'\n    };\n    if (/fridge|refrigerator|冰箱/.test(n)) return {\n      parent: '生活家电',\n      child: '冰箱'\n    };\n    if (/washing|washer|洗衣机/.test(n)) return {\n      parent: '生活家电',\n      child: '洗衣机'\n    };\n    return {\n      parent: '其他',\n      child: '其他'\n    };\n  };\n  const categoriesAll = Array.from(new Set(allProducts.map(p => {\n    const c = parseCategory(p.goodsName);\n    return `${c.parent}>${c.child}`;\n  }).filter(x => x !== '其他>其他')));\n\n  // Build hierarchy tree\n  const categoryTree = {};\n  categoriesAll.forEach(c => {\n    const [p, child] = c.split('>');\n    if (!categoryTree[p]) categoryTree[p] = [];\n    if (!categoryTree[p].includes(child)) categoryTree[p].push(child);\n  });\n  const filteredProducts = allProducts.filter(p => {\n    const platformOk = selectedPlatforms.length === 0 || selectedPlatforms.includes(p.mallType);\n    const minOk = minPrice === '' || !isNaN(Number(minPrice)) && p.goodsPrice >= Number(minPrice);\n    const maxOk = maxPrice === '' || !isNaN(Number(maxPrice)) && p.goodsPrice <= Number(maxPrice);\n    const f = parseFacets(p.goodsName);\n    const brandOk = selectedBrands.length === 0 || f.brand && selectedBrands.includes(f.brand);\n    const seriesOk = selectedSeries.length === 0 || f.series && selectedSeries.includes(f.series);\n    const modelOk = selectedModels.length === 0 || f.model && selectedModels.includes(f.model);\n    const storageOk = selectedStorage.length === 0 || f.storage && selectedStorage.includes(f.storage);\n    const colorOk = selectedColors.length === 0 || f.color && selectedColors.includes(f.color);\n    const sizeOk = selectedSizes.length === 0 || f.size && selectedSizes.includes(f.size);\n    const cat = parseCategory(p.goodsName);\n    const catStr = `${cat.parent}>${cat.child}`;\n    // Simplified category filter: check if any selected category string matches parent or full path\n    const categoryOk = selectedCategories.length === 0 || selectedCategories.some(sc => sc === cat.parent || sc === catStr);\n    return platformOk && minOk && maxOk && brandOk && seriesOk && modelOk && storageOk && colorOk && sizeOk && categoryOk;\n  });\n  const sortedProducts = [...filteredProducts].sort((a, b) => {\n    if (sortOption === 'price_asc') return a.goodsPrice - b.goodsPrice;\n    if (sortOption === 'price_desc') return b.goodsPrice - a.goodsPrice;\n    if (sortOption === 'platform') return a.mallType - b.mallType;\n    if (sortOption === 'name') return a.goodsName.localeCompare(b.goodsName);\n    return 0;\n  });\n  const togglePlatform = mt => {\n    setSelectedPlatforms(prev => prev.includes(mt) ? prev.filter(x => x !== mt) : [...prev, mt]);\n  };\n  const totalPages = Math.max(1, Math.ceil(sortedProducts.length / pageSize));\n  const currentPageProducts = sortedProducts.slice((currentPage - 1) * pageSize, currentPage * pageSize);\n  const goPrev = () => setCurrentPage(p => Math.max(1, p - 1));\n  const goNext = () => setCurrentPage(p => Math.min(totalPages, p + 1));\n  const onChangePageSize = size => {\n    setPageSize(size);\n    setCurrentPage(1);\n  };\n  const getSelectKey = p => {\n    if (p.goodsId) return `id:${p.goodsId}`;\n    const base = `${p.mallType}-${p.goodsLink || ''}-${p.goodsName}`;\n    return `k:${base}`;\n  };\n  const isSelected = key => selectedKeys.includes(key);\n  const toggleSelect = p => {\n    const key = getSelectKey(p);\n    setSelectedKeys(prev => prev.includes(key) ? prev.filter(x => x !== key) : [...prev, key]);\n  };\n  const getSellerFromLink = url => {\n    if (!url) return '不明な店铺';\n    try {\n      const u = new URL(url.startsWith('http') ? url : 'https://' + url.replace(/^\\/\\//, ''));\n      return u.hostname.replace(/^www\\./, '');\n    } catch {\n      return '不明な店铺';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"compare-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u5546\\u54C1\\u4FA1\\u683C\\u6BD4\\u8F03\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSearch,\n        className: \"search-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: query,\n          onChange: e => setQuery(e.target.value) // 仅更新状态，不触发搜索\n          ,\n          placeholder: \"\\u5546\\u54C1\\u540D\\u3092\\u5165\\u529B\\u3057\\u3066\\u4FA1\\u683C\\u6BD4\\u8F03...\",\n          className: \"search-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"search-button\",\n          children: \"\\u641C\\u7D22\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"\\u691C\\u7D22\\u4E2D...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 17\n    }, this), !loading && !error && allProducts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"compare-results\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u4FA1\\u683C\\u6BD4\\u8F03\\u7D50\\u679C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u6392\\u5E8F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: sortOption,\n            onChange: e => setSortOption(e.target.value),\n            className: \"sort-select\",\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"price_asc\",\n              children: \"\\u4EF7\\u683C\\u5347\\u5E8F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"price_desc\",\n              children: \"\\u4EF7\\u683C\\u964D\\u5E8F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"platform\",\n              children: \"\\u5E73\\u53F0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"name\",\n              children: \"\\u540D\\u79F0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 13\n        }, this), brands.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u54C1\\u724C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"platform-options\",\n            children: brands.map(b => /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: selectedBrands.includes(b) ? 'active' : '',\n              onClick: () => setSelectedBrands(prev => prev.includes(b) ? prev.filter(x => x !== b) : [...prev, b]),\n              children: b\n            }, b, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 15\n        }, this), series.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u7CFB\\u5217\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"platform-options\",\n            children: series.map(s => /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: selectedSeries.includes(s) ? 'active' : '',\n              onClick: () => setSelectedSeries(prev => prev.includes(s) ? prev.filter(x => x !== s) : [...prev, s]),\n              children: s\n            }, s, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 15\n        }, this), models.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u578B\\u53F7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"platform-options\",\n            children: models.map(m => /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: selectedModels.includes(m) ? 'active' : '',\n              onClick: () => setSelectedModels(prev => prev.includes(m) ? prev.filter(x => x !== m) : [...prev, m]),\n              children: m\n            }, m, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 15\n        }, this), categoriesAll.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u7C7B\\u522B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"platform-options\",\n            children: categoriesAll.map(c => /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: selectedCategories.includes(c) ? 'active' : '',\n              onClick: () => setSelectedCategories(prev => prev.includes(c) ? prev.filter(x => x !== c) : [...prev, c]),\n              children: c\n            }, c, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control-group platform-filters\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u5E73\\u53F0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"platform-options\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: selectedPlatforms.includes(10) ? 'active' : '',\n              onClick: () => togglePlatform(10),\n              children: \"\\u697D\\u5929\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: selectedPlatforms.includes(20) ? 'active' : '',\n              onClick: () => togglePlatform(20),\n              children: \"\\u30E4\\u30D5\\u30FC\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: selectedPlatforms.includes(30) ? 'active' : '',\n              onClick: () => togglePlatform(30),\n              children: \"\\u30BF\\u30AA\\u30D0\\u30AA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 13\n        }, this), (storages.length > 0 || colors.length > 0 || sizes.length > 0) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u89C4\\u683C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"platform-options\",\n            children: [storages.map(s => /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: selectedStorage.includes(s) ? 'active' : '',\n              onClick: () => setSelectedStorage(prev => prev.includes(s) ? prev.filter(x => x !== s) : [...prev, s]),\n              children: s\n            }, s, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 21\n            }, this)), colors.map(c => /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: selectedColors.includes(c) ? 'active' : '',\n              onClick: () => setSelectedColors(prev => prev.includes(c) ? prev.filter(x => x !== c) : [...prev, c]),\n              children: c\n            }, c, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 21\n            }, this)), sizes.map(siz => /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: selectedSizes.includes(siz) ? 'active' : '',\n              onClick: () => setSelectedSizes(prev => prev.includes(siz) ? prev.filter(x => x !== siz) : [...prev, siz]),\n              children: siz\n            }, siz, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control-group price-filter\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u4EF7\\u683C\\u533A\\u95F4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"price-inputs\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: \"0\",\n              placeholder: \"\\u6700\\u5C0F\",\n              value: minPrice,\n              onChange: e => setMinPrice(e.target.value.replace(/[^0-9]/g, ''))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: \"0\",\n              placeholder: \"\\u6700\\u5927\",\n              value: maxPrice,\n              onChange: e => setMaxPrice(e.target.value.replace(/[^0-9]/g, ''))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control-group view-toggle\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u89C6\\u56FE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"view-options\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: viewMode === 'grid' ? 'active' : '',\n              onClick: () => setViewMode('grid'),\n              children: \"\\u7F51\\u683C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: viewMode === 'list' ? 'active' : '',\n              onClick: () => setViewMode('list'),\n              children: \"\\u5217\\u8868\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"control-group pagination-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"\\u5206\\u9875\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pagination-inner\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: goPrev,\n              disabled: currentPage === 1,\n              children: \"\\u4E0A\\u4E00\\u9875\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"page-info\",\n              children: [currentPage, \" / \", totalPages]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: goNext,\n              disabled: currentPage === totalPages,\n              children: \"\\u4E0B\\u4E00\\u9875\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: pageSize,\n              onChange: e => onChangePageSize(Number(e.target.value)),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: 12,\n                children: \"12\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 20,\n                children: \"20\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 395,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: 40,\n                children: \"40\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 396,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 11\n      }, this), selectedKeys.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"compare-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-header\",\n          children: [\"\\u5DF2\\u9009\\u5BF9\\u6BD4\\uFF08\", selectedKeys.length, \"\\uFF09\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-body\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u540D\\u79F0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 409,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u4EF7\\u683C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u5E73\\u53F0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"\\u5E97\\u94FA\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: sortedProducts.filter(p => selectedKeys.includes(getSelectKey(p))).map((p, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: p.goodsName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [\"\\xA5\", p.goodsPrice.toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: getPlatformName(p.mallType)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: getSellerFromLink(p.goodsLink)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 421,\n                  columnNumber: 25\n                }, this)]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 417,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"compare-group\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `product-grid ${viewMode === 'list' ? 'list' : ''}`,\n          children: currentPageProducts.map((product, productIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `product-card ${viewMode === 'list' ? 'list' : ''}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"select-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"select-checkbox\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  checked: isSelected(getSelectKey(product)),\n                  onChange: () => toggleSelect(product)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u5BF9\\u6BD4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 439,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"seller-name\",\n                children: getSellerFromLink(product.goodsLink)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-image-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: product.imgUrl || 'https://via.placeholder.com/200x200?text=No+Image',\n                alt: product.goodsName,\n                onError: e => {\n                  e.target.src = 'https://via.placeholder.com/200x200?text=Image+Error';\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: getPlatformBadgeClass(product.mallType),\n                children: getPlatformName(product.mallType)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 452,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"product-card-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                title: product.goodsName,\n                children: product.goodsName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 23\n              }, this), function () {\n                const f = parseFacets(product.goodsName);\n                const parts = [f.brand, f.series, f.model, f.storage, f.color, f.size].filter(Boolean);\n                return parts.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"spec-line\",\n                  children: parts.join(' / ')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 462,\n                  columnNumber: 48\n                }, this) : null;\n              }(), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"price-section\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"currency\",\n                  children: \"\\xA5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 466,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"amount\",\n                  children: product.goodsPrice.toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 467,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  gap: 8\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                  href: product.goodsLink,\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\",\n                  className: `shop-button ${product.mallType === 10 ? 'btn-rakuten' : product.mallType === 20 ? 'btn-yahoo' : ''}`,\n                  children: \"\\u7ACB\\u5373\\u8D2D\\u4E70\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 471,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"trend-button\",\n                  onClick: () => {\n                    const title = product.goodsName;\n                    const labels = Array.from({\n                      length: 12\n                    }, (_, i) => {\n                      const d = new Date();\n                      d.setMonth(d.getMonth() - (11 - i));\n                      const m = (d.getMonth() + 1).toString().padStart(2, '0');\n                      return `${d.getFullYear()}-${m}`;\n                    });\n                    const base = Math.max(1, product.goodsPrice);\n                    let val = base * 1.0;\n                    const series = labels.map((_, i) => {\n                      const drift = 1 + Math.sin(i / 3) * 0.05;\n                      const noise = 1 + (Math.random() - 0.5) * 0.08;\n                      val = Math.max(1, val * drift * noise);\n                      return Math.round(val);\n                    });\n                    setTrendTitle(title);\n                    setTrendLabels(labels);\n                    setTrendSeries(series);\n                    setTrendOpen(true);\n                  },\n                  children: \"\\u4EF7\\u683C\\u8D70\\u52BF\\u56FE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 21\n            }, this)]\n          }, productIndex, true, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 11\n      }, this), trendOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"price-trend-modal\",\n        onClick: () => setTrendOpen(false),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          onClick: e => e.stopPropagation(),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"modal-title\",\n              children: trendTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"modal-close\",\n              onClick: () => setTrendOpen(false),\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 509,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"trend-chart\",\n              children: function () {\n                const width = 600;\n                const height = 280;\n                const padding = 32;\n                const xs = trendSeries.map((_, i) => padding + i * (width - 2 * padding) / (trendSeries.length - 1));\n                const minV = Math.min(...trendSeries);\n                const maxV = Math.max(...trendSeries);\n                const ys = trendSeries.map(v => height - padding - (v - minV) / Math.max(1, maxV - minV) * (height - 2 * padding));\n                const path = xs.map((x, i) => `${i === 0 ? 'M' : 'L'}${x},${ys[i]}`).join(' ');\n                const gridY = [0.25, 0.5, 0.75].map(r => height - padding - r * (height - 2 * padding));\n                return /*#__PURE__*/_jsxDEV(\"svg\", {\n                  width: width,\n                  height: height,\n                  role: \"img\",\n                  \"aria-label\": \"\\u4EF7\\u683C\\u8D8B\\u52BF\\u56FE\",\n                  children: [gridY.map((gy, i) => /*#__PURE__*/_jsxDEV(\"line\", {\n                    x1: padding,\n                    y1: gy,\n                    x2: width - padding,\n                    y2: gy,\n                    stroke: \"#eee\"\n                  }, i, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 528,\n                    columnNumber: 29\n                  }, this)), /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: path,\n                    fill: \"none\",\n                    stroke: \"#ff4400\",\n                    strokeWidth: 2\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 530,\n                    columnNumber: 27\n                  }, this), xs.map((x, i) => /*#__PURE__*/_jsxDEV(\"circle\", {\n                    cx: x,\n                    cy: ys[i],\n                    r: 3,\n                    fill: \"#ff4400\"\n                  }, i, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 532,\n                    columnNumber: 29\n                  }, this)), /*#__PURE__*/_jsxDEV(\"text\", {\n                    x: padding,\n                    y: height - 8,\n                    fontSize: 12,\n                    fill: \"#999\",\n                    children: trendLabels[0]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 534,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n                    x: width - padding - 60,\n                    y: height - 8,\n                    fontSize: 12,\n                    fill: \"#999\",\n                    children: trendLabels[trendLabels.length - 1]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 535,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 526,\n                  columnNumber: 25\n                }, this);\n              }()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 514,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 9\n    }, this), !loading && !error && compareGroups.length === 0 && query && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-results\",\n      children: \"\\u95A2\\u9023\\u5546\\u54C1\\u304C\\u898B\\u3064\\u304B\\u308A\\u307E\\u305B\\u3093\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 548,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 277,\n    columnNumber: 5\n  }, this);\n};\n_s(ComparePage, \"tdePCqu7Ho+VN/RakGptBn+dJ3U=\", false, function () {\n  return [useSearchParams];\n});\n_c = ComparePage;\nexport default ComparePage;\nvar _c;\n$RefreshReg$(_c, \"ComparePage\");","map":{"version":3,"names":["React","useState","useEffect","useSearchParams","goodsApi","jsxDEV","_jsxDEV","ComparePage","_s","searchParams","query","setQuery","get","compareGroups","setCompareGroups","loading","setLoading","error","setError","sortOption","setSortOption","selectedPlatforms","setSelectedPlatforms","minPrice","setMinPrice","maxPrice","setMaxPrice","viewMode","setViewMode","currentPage","setCurrentPage","pageSize","setPageSize","selectedKeys","setSelectedKeys","selectedBrands","setSelectedBrands","selectedSeries","setSelectedSeries","selectedModels","setSelectedModels","selectedStorage","setSelectedStorage","selectedColors","setSelectedColors","selectedSizes","setSelectedSizes","selectedCategories","setSelectedCategories","trendOpen","setTrendOpen","trendLabels","setTrendLabels","trendSeries","setTrendSeries","trendTitle","setTrendTitle","trim","searchProducts","searchQuery","console","log","response","compareGoods","data","responseData","Array","isArray","processedData","length","map","group","goodsList","lowestPrice","lowestPlatform","lowestProduct","reduce","lowest","current","goodsPrice","getPlatformName","mallType","goodsName","product","goodsId","goodsLink","imgUrl","err","handleSearch","e","preventDefault","getPlatformColor","getPlatformBadgeClass","allProducts","flatMap","knownBrands","parseFacets","name","n","brand","find","b","RegExp","test","seriesMatch","match","series","modelMatch","model","storageMatch","storage","replace","colorMatch","color","sizeMatch","size","facetIndex","p","brands","from","Set","f","filter","Boolean","models","storages","colors","sizes","parseCategory","toLowerCase","parent","child","categoriesAll","c","x","categoryTree","forEach","split","includes","push","filteredProducts","platformOk","minOk","isNaN","Number","maxOk","brandOk","seriesOk","modelOk","storageOk","colorOk","sizeOk","cat","catStr","categoryOk","some","sc","sortedProducts","sort","a","localeCompare","togglePlatform","mt","prev","totalPages","Math","max","ceil","currentPageProducts","slice","goPrev","goNext","min","onChangePageSize","getSelectKey","base","isSelected","key","toggleSelect","getSellerFromLink","url","u","URL","startsWith","hostname","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","placeholder","onClick","s","m","siz","disabled","i","toLocaleString","productIndex","checked","src","alt","onError","title","parts","join","style","display","gap","href","rel","labels","_","d","Date","setMonth","getMonth","toString","padStart","getFullYear","val","drift","sin","noise","random","round","stopPropagation","width","height","padding","xs","minV","maxV","ys","v","path","gridY","r","role","gy","x1","y1","x2","y2","stroke","fill","strokeWidth","cx","cy","y","fontSize","_c","$RefreshReg$"],"sources":["C:/Users/3jz/Desktop/HJZDM/frontend/hjzdm-frontend/src/pages/ComparePage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport './ComparePage.css';\nimport { goodsApi } from '../services/api';\n\ninterface Product {\n  goodsId?: number;\n  goodsName: string;\n  goodsPrice: number;\n  goodsLink: string;\n  imgUrl?: string;\n  mallType: number;\n}\n\ninterface CompareGroup {\n  goodsName: string;\n  goodsList: Product[];\n  lowestPrice: number | null;\n  lowestPlatform?: string;\n}\n\nconst ComparePage: React.FC = () => {\n  const [searchParams] = useSearchParams();\n  const [query, setQuery] = useState(searchParams.get('query') || '');\n  const [compareGroups, setCompareGroups] = useState<CompareGroup[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [sortOption, setSortOption] = useState('price_asc');\n  const [selectedPlatforms, setSelectedPlatforms] = useState<number[]>([]);\n  const [minPrice, setMinPrice] = useState('');\n  const [maxPrice, setMaxPrice] = useState('');\n  const [viewMode, setViewMode] = useState<'grid' | 'list'>('grid');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [pageSize, setPageSize] = useState(20);\n  const [selectedKeys, setSelectedKeys] = useState<string[]>([]);\n  const [selectedBrands, setSelectedBrands] = useState<string[]>([]);\n  const [selectedSeries, setSelectedSeries] = useState<string[]>([]);\n  const [selectedModels, setSelectedModels] = useState<string[]>([]);\n  const [selectedStorage, setSelectedStorage] = useState<string[]>([]);\n  const [selectedColors, setSelectedColors] = useState<string[]>([]);\n  const [selectedSizes, setSelectedSizes] = useState<string[]>([]);\n  const [selectedCategories, setSelectedCategories] = useState<string[]>([]);\n  const [trendOpen, setTrendOpen] = useState(false);\n  const [trendLabels, setTrendLabels] = useState<string[]>([]);\n  const [trendSeries, setTrendSeries] = useState<number[]>([]);\n  const [trendTitle, setTrendTitle] = useState('');\n\n  // 仅在页面加载时，如果有URL参数，则执行搜索\n  useEffect(() => {\n    if (query.trim()) {\n      searchProducts(query);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const searchProducts = async (searchQuery: string) => {\n    if (!searchQuery.trim()) return; // 如果查询为空则不执行搜索\n    \n    setLoading(true);\n    setError(null);\n    \n    try {\n      console.log('Calling API: goodsApi.compareGoods with query:', searchQuery); // デバッグ用ログ\n      \n      // 使用api.ts中定义的API服务\n      const response = await goodsApi.compareGoods(searchQuery);\n      \n      console.log('API Response:', response.data); // デバッグ用ログ\n      \n      let responseData = [];\n      if (response.data && response.data.data) {\n        responseData = Array.isArray(response.data.data) ? response.data.data : [response.data.data];\n      } else {\n        responseData = [];\n      }\n      \n      console.log('Raw Response Data:', responseData); // デバッグ用ログ\n      \n      // レスポンスデータを処理\n      let processedData = [];\n      \n      if (responseData.length > 0) {\n        // APIが返すグループデータを適切に処理\n        processedData = responseData.map((group: any) => {\n          // グループ内の商品リストを処理\n          const goodsList = Array.isArray(group.goodsList) ? group.goodsList : [];\n          \n          // 最低価格とプラットフォームを特定\n          let lowestPrice = null;\n          let lowestPlatform = '不明';\n          \n          // 最低価格を計算\n          if (goodsList.length > 0) {\n            const lowestProduct = goodsList.reduce((lowest: any, current: any) => \n              current.goodsPrice < lowest.goodsPrice ? current : lowest, goodsList[0]);\n            \n            lowestPrice = lowestProduct.goodsPrice;\n            lowestPlatform = getPlatformName(lowestProduct.mallType);\n          }\n          \n          return {\n            goodsName: group.goodsName || '不明な商品',\n            goodsList: goodsList.map((product: any) => ({\n              goodsId: product.goodsId,\n              goodsName: product.goodsName,\n              goodsPrice: product.goodsPrice,\n              goodsLink: product.goodsLink,\n              imgUrl: product.imgUrl,\n              mallType: product.mallType\n            })),\n            lowestPrice: lowestPrice,\n            lowestPlatform: lowestPlatform\n          };\n        });\n        \n        console.log('Processed grouped data:', processedData); // デバッグ用ログ\n      }\n      \n      console.log('Final processed data:', processedData); // デバッグ用ログ\n      \n      setCompareGroups(processedData);\n      setLoading(false);\n    } catch (err) {\n      setError('検索に失敗しました。後ほど再試行してください');\n      setLoading(false);\n      console.error(err);\n    }\n  };\n\n  const handleSearch = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (query.trim()) {\n      searchProducts(query);\n    }\n  };\n\n  const getPlatformName = (mallType: number): string => {\n    switch (mallType) {\n      case 10: return '楽天';\n      case 20: return 'ヤフー';\n      case 30: return 'タオバオ';\n      default: return '不明なプラットフォーム';\n    }\n  };\n\n  const getPlatformColor = (mallType: number): string => {\n    switch (mallType) {\n      case 10: return '#bf0000'; // Rakuten Red\n      case 20: return '#ff0033'; // Yahoo Red (adjusted)\n      case 30: return '#ff5000'; // Taobao Orange\n      default: return '#666';\n    }\n  };\n\n  const getPlatformBadgeClass = (mallType: number): string => {\n    switch (mallType) {\n      case 10: return 'platform-badge rakuten';\n      case 20: return 'platform-badge yahoo';\n      case 30: return 'platform-badge taobao';\n      default: return 'platform-badge unknown';\n    }\n  };\n\n  const allProducts: Product[] = compareGroups.flatMap(group => group.goodsList);\n  const knownBrands = ['Apple','Samsung','Sony','Xiaomi','Huawei','Lenovo','Dell','HP','ASUS','Acer','Nintendo','Microsoft','Canon','Nikon'];\n  const parseFacets = (name: string) => {\n    const n = name || '';\n    const brand = knownBrands.find(b => new RegExp(b, 'i').test(n)) || '';\n    const seriesMatch = n.match(/(iPhone|MacBook|iPad|Galaxy|ThinkPad|Surface|PlayStation|Switch|WH\\-\\d{4}XM\\d|RX\\s?\\d{3,}|EOS\\s?\\w+)/i);\n    const series = seriesMatch ? seriesMatch[1] : '';\n    const modelMatch = n.match(/([A-Za-z]{1,3}\\-?\\d{2,4}[A-Za-z]?|\\bPro Max\\b|\\bPro\\b|\\bUltra\\b|\\bPlus\\b|\\bAir\\b|\\bMini\\b)/i);\n    const model = modelMatch ? modelMatch[1] : '';\n    const storageMatch = n.match(/(\\b\\d{2,4}\\s?(GB|TB)\\b)/i);\n    const storage = storageMatch ? storageMatch[1].replace(/\\s+/g,'') : '';\n    const colorMatch = n.match(/\\b(Black|White|Silver|Blue|Red|Green|Gold|Pink|Gray|Space Gray|Midnight)\\b/i);\n    const color = colorMatch ? colorMatch[1] : '';\n    const sizeMatch = n.match(/(\\b\\d{1,2}(?:\\.\\d)?\\s?(?:吋|インチ|\"|英寸)\\b)/);\n    const size = sizeMatch ? sizeMatch[1] : '';\n    return { brand, series, model, storage, color, size };\n  };\n  const facetIndex = allProducts.map(p => parseFacets(p.goodsName));\n  const brands = Array.from(new Set(facetIndex.map(f => f.brand).filter(Boolean)));\n  const series = Array.from(new Set(facetIndex.map(f => f.series).filter(Boolean)));\n  const models = Array.from(new Set(facetIndex.map(f => f.model).filter(Boolean)));\n  const storages = Array.from(new Set(facetIndex.map(f => f.storage).filter(Boolean)));\n  const colors = Array.from(new Set(facetIndex.map(f => f.color).filter(Boolean)));\n  const sizes = Array.from(new Set(facetIndex.map(f => f.size).filter(Boolean)));\n  const parseCategory = (name: string) => {\n    const n = (name || '').toLowerCase();\n    if (/手机壳|ケース|保护壳|カバー/.test(n)) return { parent: '手机配件', child: '手机壳' };\n    if (/iphone|galaxy|xiaomi|huawei|pixel|xperia/.test(n)) return { parent: '手机/通讯', child: '智能手机' };\n    if (/ipad|galaxy tab|surface|tablet/.test(n)) return { parent: '电脑/平板', child: '平板电脑' };\n    if (/macbook|thinkpad|notebook|laptop/.test(n)) return { parent: '电脑/平板', child: '笔记本电脑' };\n    if (/monitor|display|显示器/.test(n)) return { parent: '电脑周边', child: '显示器' };\n    if (/mouse|keyboard|鼠标|键盘/.test(n)) return { parent: '电脑周边', child: '键鼠' };\n    if (/airpods|buds|wh-|wf-|耳机/.test(n)) return { parent: '影音家电', child: '耳机' };\n    if (/tv|bravia|regza|电视/.test(n)) return { parent: '影音家电', child: '电视机' };\n    if (/camera|eos|alpha|相机/.test(n)) return { parent: '相机/摄像', child: '数码相机' };\n    if (/lens|镜头/.test(n)) return { parent: '相机/摄像', child: '镜头' };\n    if (/fridge|refrigerator|冰箱/.test(n)) return { parent: '生活家电', child: '冰箱' };\n    if (/washing|washer|洗衣机/.test(n)) return { parent: '生活家电', child: '洗衣机' };\n    return { parent: '其他', child: '其他' };\n  };\n  \n  const categoriesAll = Array.from(new Set(allProducts.map(p => {\n    const c = parseCategory(p.goodsName);\n    return `${c.parent}>${c.child}`;\n  }).filter(x => x !== '其他>其他')));\n  \n  // Build hierarchy tree\n  const categoryTree: Record<string, string[]> = {};\n  categoriesAll.forEach(c => {\n    const [p, child] = c.split('>');\n    if (!categoryTree[p]) categoryTree[p] = [];\n    if (!categoryTree[p].includes(child)) categoryTree[p].push(child);\n  });\n\n  const filteredProducts: Product[] = allProducts.filter(p => {\n    const platformOk = selectedPlatforms.length === 0 || selectedPlatforms.includes(p.mallType);\n    const minOk = minPrice === '' || (!isNaN(Number(minPrice)) && p.goodsPrice >= Number(minPrice));\n    const maxOk = maxPrice === '' || (!isNaN(Number(maxPrice)) && p.goodsPrice <= Number(maxPrice));\n    const f = parseFacets(p.goodsName);\n    const brandOk = selectedBrands.length === 0 || (f.brand && selectedBrands.includes(f.brand));\n    const seriesOk = selectedSeries.length === 0 || (f.series && selectedSeries.includes(f.series));\n    const modelOk = selectedModels.length === 0 || (f.model && selectedModels.includes(f.model));\n    const storageOk = selectedStorage.length === 0 || (f.storage && selectedStorage.includes(f.storage));\n    const colorOk = selectedColors.length === 0 || (f.color && selectedColors.includes(f.color));\n    const sizeOk = selectedSizes.length === 0 || (f.size && selectedSizes.includes(f.size));\n    \n    const cat = parseCategory(p.goodsName);\n    const catStr = `${cat.parent}>${cat.child}`;\n    // Simplified category filter: check if any selected category string matches parent or full path\n    const categoryOk = selectedCategories.length === 0 || \n      selectedCategories.some(sc => sc === cat.parent || sc === catStr);\n\n    return platformOk && minOk && maxOk && brandOk && seriesOk && modelOk && storageOk && colorOk && sizeOk && categoryOk;\n  });\n  const sortedProducts: Product[] = [...filteredProducts].sort((a, b) => {\n    if (sortOption === 'price_asc') return a.goodsPrice - b.goodsPrice;\n    if (sortOption === 'price_desc') return b.goodsPrice - a.goodsPrice;\n    if (sortOption === 'platform') return a.mallType - b.mallType;\n    if (sortOption === 'name') return a.goodsName.localeCompare(b.goodsName);\n    return 0;\n  });\n  const togglePlatform = (mt: number) => {\n    setSelectedPlatforms(prev => prev.includes(mt) ? prev.filter(x => x !== mt) : [...prev, mt]);\n  };\n\n  const totalPages = Math.max(1, Math.ceil(sortedProducts.length / pageSize));\n  const currentPageProducts = sortedProducts.slice((currentPage - 1) * pageSize, currentPage * pageSize);\n  const goPrev = () => setCurrentPage(p => Math.max(1, p - 1));\n  const goNext = () => setCurrentPage(p => Math.min(totalPages, p + 1));\n  const onChangePageSize = (size: number) => { setPageSize(size); setCurrentPage(1); };\n\n  const getSelectKey = (p: Product) => {\n    if (p.goodsId) return `id:${p.goodsId}`;\n    const base = `${p.mallType}-${p.goodsLink || ''}-${p.goodsName}`;\n    return `k:${base}`;\n  };\n  const isSelected = (key: string) => selectedKeys.includes(key);\n  const toggleSelect = (p: Product) => {\n    const key = getSelectKey(p);\n    setSelectedKeys(prev => prev.includes(key) ? prev.filter(x => x !== key) : [...prev, key]);\n  };\n\n  const getSellerFromLink = (url?: string) => {\n    if (!url) return '不明な店铺';\n    try {\n      const u = new URL(url.startsWith('http') ? url : ('https://' + url.replace(/^\\/\\//, '')));\n      return u.hostname.replace(/^www\\./, '');\n    } catch {\n      return '不明な店铺';\n    }\n  };\n\n  return (\n    <div className=\"compare-page\">\n      <div className=\"search-section\">\n        <h1>商品価格比較</h1>\n        <form onSubmit={handleSearch} className=\"search-form\">\n          <input\n            type=\"text\"\n            value={query}\n            onChange={(e) => setQuery(e.target.value)} // 仅更新状态，不触发搜索\n            placeholder=\"商品名を入力して価格比較...\"\n            className=\"search-input\"\n          />\n          <button type=\"submit\" className=\"search-button\">搜索</button>\n        </form>\n      </div>\n\n      {loading && <div className=\"loading\">検索中...</div>}\n      {error && <div className=\"error\">{error}</div>}\n\n      {!loading && !error && allProducts.length > 0 && (\n        <div className=\"compare-results\">\n          <h2>価格比較結果</h2>\n          <div className=\"controls\">\n            <div className=\"control-group\">\n              <label>排序</label>\n              <select value={sortOption} onChange={(e) => setSortOption(e.target.value)} className=\"sort-select\">\n                <option value=\"price_asc\">价格升序</option>\n                <option value=\"price_desc\">价格降序</option>\n                <option value=\"platform\">平台</option>\n                <option value=\"name\">名称</option>\n              </select>\n            </div>\n            {brands.length > 0 && (\n              <div className=\"control-group\">\n                <label>品牌</label>\n                <div className=\"platform-options\">\n                  {brands.map(b => (\n                    <button type=\"button\" key={b} className={selectedBrands.includes(b) ? 'active' : ''} onClick={() => setSelectedBrands(prev => prev.includes(b) ? prev.filter(x=>x!==b) : [...prev,b])}>{b}</button>\n                  ))}\n                </div>\n              </div>\n            )}\n            {series.length > 0 && (\n              <div className=\"control-group\">\n                <label>系列</label>\n                <div className=\"platform-options\">\n                  {series.map(s => (\n                    <button type=\"button\" key={s} className={selectedSeries.includes(s) ? 'active' : ''} onClick={() => setSelectedSeries(prev => prev.includes(s) ? prev.filter(x=>x!==s) : [...prev,s])}>{s}</button>\n                  ))}\n                </div>\n              </div>\n            )}\n            {models.length > 0 && (\n              <div className=\"control-group\">\n                <label>型号</label>\n                <div className=\"platform-options\">\n                  {models.map(m => (\n                    <button type=\"button\" key={m} className={selectedModels.includes(m) ? 'active' : ''} onClick={() => setSelectedModels(prev => prev.includes(m) ? prev.filter(x=>x!==m) : [...prev,m])}>{m}</button>\n                  ))}\n                </div>\n              </div>\n            )}\n            {categoriesAll.length > 0 && (\n              <div className=\"control-group\">\n                <label>类别</label>\n                <div className=\"platform-options\">\n                  {categoriesAll.map(c => (\n                    <button type=\"button\" key={c} className={selectedCategories.includes(c) ? 'active' : ''} onClick={() => setSelectedCategories(prev => prev.includes(c) ? prev.filter(x=>x!==c) : [...prev,c])}>{c}</button>\n                  ))}\n                </div>\n              </div>\n            )}\n            <div className=\"control-group platform-filters\">\n              <label>平台</label>\n              <div className=\"platform-options\">\n                <button type=\"button\" className={selectedPlatforms.includes(10) ? 'active' : ''} onClick={() => togglePlatform(10)}>楽天</button>\n                <button type=\"button\" className={selectedPlatforms.includes(20) ? 'active' : ''} onClick={() => togglePlatform(20)}>ヤフー</button>\n                <button type=\"button\" className={selectedPlatforms.includes(30) ? 'active' : ''} onClick={() => togglePlatform(30)}>タオバオ</button>\n              </div>\n            </div>\n            {(storages.length > 0 || colors.length > 0 || sizes.length > 0) && (\n              <div className=\"control-group\">\n                <label>规格</label>\n                <div className=\"platform-options\">\n                  {storages.map(s => (\n                    <button type=\"button\" key={s} className={selectedStorage.includes(s) ? 'active' : ''} onClick={() => setSelectedStorage(prev => prev.includes(s) ? prev.filter(x=>x!==s) : [...prev,s])}>{s}</button>\n                  ))}\n                  {colors.map(c => (\n                    <button type=\"button\" key={c} className={selectedColors.includes(c) ? 'active' : ''} onClick={() => setSelectedColors(prev => prev.includes(c) ? prev.filter(x=>x!==c) : [...prev,c])}>{c}</button>\n                  ))}\n                  {sizes.map(siz => (\n                    <button type=\"button\" key={siz} className={selectedSizes.includes(siz) ? 'active' : ''} onClick={() => setSelectedSizes(prev => prev.includes(siz) ? prev.filter(x=>x!==siz) : [...prev,siz])}>{siz}</button>\n                  ))}\n                </div>\n              </div>\n            )}\n            <div className=\"control-group price-filter\">\n              <label>价格区间</label>\n              <div className=\"price-inputs\">\n                <input type=\"number\" min=\"0\" placeholder=\"最小\" value={minPrice} onChange={(e) => setMinPrice(e.target.value.replace(/[^0-9]/g, ''))} />\n                <span>-</span>\n                <input type=\"number\" min=\"0\" placeholder=\"最大\" value={maxPrice} onChange={(e) => setMaxPrice(e.target.value.replace(/[^0-9]/g, ''))} />\n              </div>\n            </div>\n            <div className=\"control-group view-toggle\">\n              <label>视图</label>\n              <div className=\"view-options\">\n                <button type=\"button\" className={viewMode === 'grid' ? 'active' : ''} onClick={() => setViewMode('grid')}>网格</button>\n                <button type=\"button\" className={viewMode === 'list' ? 'active' : ''} onClick={() => setViewMode('list')}>列表</button>\n              </div>\n            </div>\n            <div className=\"control-group pagination-controls\">\n              <label>分页</label>\n              <div className=\"pagination-inner\">\n                <button type=\"button\" onClick={goPrev} disabled={currentPage === 1}>上一页</button>\n                <span className=\"page-info\">{currentPage} / {totalPages}</span>\n                <button type=\"button\" onClick={goNext} disabled={currentPage === totalPages}>下一页</button>\n                <select value={pageSize} onChange={(e) => onChangePageSize(Number(e.target.value))}>\n                  <option value={12}>12</option>\n                  <option value={20}>20</option>\n                  <option value={40}>40</option>\n                </select>\n              </div>\n            </div>\n          </div>\n\n          {selectedKeys.length > 0 && (\n            <div className=\"compare-table\">\n              <div className=\"table-header\">已选对比（{selectedKeys.length}）</div>\n              <div className=\"table-body\">\n                <table>\n                  <thead>\n                    <tr>\n                      <th>名称</th>\n                      <th>价格</th>\n                      <th>平台</th>\n                      <th>店铺</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {sortedProducts.filter(p => selectedKeys.includes(getSelectKey(p))).map((p, i) => (\n                      <tr key={i}>\n                        <td>{p.goodsName}</td>\n                        <td>¥{p.goodsPrice.toLocaleString()}</td>\n                        <td>{getPlatformName(p.mallType)}</td>\n                        <td>{getSellerFromLink(p.goodsLink)}</td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          )}\n          <div className=\"compare-group\">\n            <div className={`product-grid ${viewMode === 'list' ? 'list' : ''}`}>\n              {currentPageProducts.map((product, productIndex) => (\n                <div \n                    key={productIndex} \n                    className={`product-card ${viewMode === 'list' ? 'list' : ''}`}\n                >\n                  <div className=\"select-row\">\n                    <label className=\"select-checkbox\">\n                      <input type=\"checkbox\" checked={isSelected(getSelectKey(product))} onChange={() => toggleSelect(product)} />\n                      <span>对比</span>\n                    </label>\n                    <span className=\"seller-name\">{getSellerFromLink(product.goodsLink)}</span>\n                  </div>\n                  \n                  <div className=\"product-image-container\">\n                    <img \n                      src={product.imgUrl || 'https://via.placeholder.com/200x200?text=No+Image'} \n                        alt={product.goodsName} \n                        onError={(e) => {\n                          (e.target as HTMLImageElement).src = 'https://via.placeholder.com/200x200?text=Image+Error';\n                        }}\n                      />\n                      <div className={getPlatformBadgeClass(product.mallType)}>\n                        {getPlatformName(product.mallType)}\n                      </div>\n                    </div>\n                    \n                    <div className=\"product-card-content\">\n                      <h4 title={product.goodsName}>{product.goodsName}</h4>\n                      {(function(){\n                        const f = parseFacets(product.goodsName);\n                        const parts = [f.brand, f.series, f.model, f.storage, f.color, f.size].filter(Boolean);\n                        return parts.length ? (<div className=\"spec-line\">{parts.join(' / ')}</div>) : null;\n                      })()}\n                      \n                      <div className=\"price-section\">\n                        <span className=\"currency\">¥</span>\n                        <span className=\"amount\">{product.goodsPrice.toLocaleString()}</span>\n                      </div>\n\n                      <div style={{display:'flex', gap:8}}>\n                        <a \n                          href={product.goodsLink} \n                          target=\"_blank\" \n                          rel=\"noopener noreferrer\" \n                          className={`shop-button ${product.mallType === 10 ? 'btn-rakuten' : product.mallType === 20 ? 'btn-yahoo' : ''}`}\n                        >\n                          立即购买\n                        </a>\n                        <button type=\"button\" className=\"trend-button\" onClick={() => {\n                          const title = product.goodsName;\n                          const labels = Array.from({length:12}, (_,i)=>{\n                            const d = new Date();\n                            d.setMonth(d.getMonth() - (11 - i));\n                            const m = (d.getMonth()+1).toString().padStart(2,'0');\n                            return `${d.getFullYear()}-${m}`;\n                          });\n                          const base = Math.max(1, product.goodsPrice);\n                          let val = base * 1.0;\n                          const series = labels.map((_,i)=>{\n                            const drift = 1 + Math.sin(i/3) * 0.05;\n                            const noise = 1 + ((Math.random() - 0.5) * 0.08);\n                            val = Math.max(1, val * drift * noise);\n                            return Math.round(val);\n                          });\n                          setTrendTitle(title);\n                          setTrendLabels(labels);\n                          setTrendSeries(series);\n                          setTrendOpen(true);\n                        }}>价格走势图</button>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n            </div>\n          </div>\n          {trendOpen && (\n            <div className=\"price-trend-modal\" onClick={() => setTrendOpen(false)}>\n              <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\n                <div className=\"modal-header\">\n                  <span className=\"modal-title\">{trendTitle}</span>\n                  <button type=\"button\" className=\"modal-close\" onClick={() => setTrendOpen(false)}>×</button>\n                </div>\n                <div className=\"modal-body\">\n                  <div className=\"trend-chart\">\n                    {(function(){\n                      const width = 600;\n                      const height = 280;\n                      const padding = 32;\n                      const xs = trendSeries.map((_,i)=> padding + (i*(width - 2*padding))/(trendSeries.length-1));\n                      const minV = Math.min(...trendSeries);\n                      const maxV = Math.max(...trendSeries);\n                      const ys = trendSeries.map(v => height - padding - ((v - minV) / (Math.max(1, maxV - minV))) * (height - 2*padding));\n                      const path = xs.map((x,i)=> `${i===0?'M':'L'}${x},${ys[i]}`).join(' ');\n                      const gridY = [0.25,0.5,0.75].map(r => height - padding - r*(height - 2*padding));\n                      return (\n                        <svg width={width} height={height} role=\"img\" aria-label=\"价格趋势图\">\n                          {gridY.map((gy,i)=> (\n                            <line key={i} x1={padding} y1={gy} x2={width-padding} y2={gy} stroke=\"#eee\" />\n                          ))}\n                          <path d={path} fill=\"none\" stroke=\"#ff4400\" strokeWidth={2} />\n                          {xs.map((x,i)=> (\n                            <circle key={i} cx={x} cy={ys[i]} r={3} fill=\"#ff4400\" />\n                          ))}\n                          <text x={padding} y={height-8} fontSize={12} fill=\"#999\">{trendLabels[0]}</text>\n                          <text x={width-padding-60} y={height-8} fontSize={12} fill=\"#999\">{trendLabels[trendLabels.length-1]}</text>\n                        </svg>\n                      );\n                    })()}\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {!loading && !error && compareGroups.length === 0 && query && (\n        <div className=\"no-results\">関連商品が見つかりません</div>\n      )}\n    </div>\n  );\n};\n\nexport default ComparePage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}