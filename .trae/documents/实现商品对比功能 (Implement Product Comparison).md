# 商品对比功能实现方案 (Product Comparison Feature Implementation)

## 1. 状态管理 (State Management)
- **Use `selectedProducts` (Product[])**: 替代原有的 `selectedKeys` (string[])。直接存储完整的商品对象，方便在对比栏和弹窗中直接显示图片和信息，无需二次查找。
- **`compareModalOpen` (boolean)**: 控制对比详情弹窗的显示与隐藏。
- **`getProductKey`**: 统一生成商品唯一标识 (优先 ID，其次 Link+Name 组合)，确保选中状态准确。

## 2. 交互流程 (Interaction Flow)
- **选中/取消**: 点击商品卡片上的“加入对比”按钮（复选框图标）。
- **限制**: 最多允许同时对比 4 个商品（超过会有 Alert 提示）。
- **底部悬浮栏 (Floating Dock)**: 
  - 当选中至少 1 个商品时，屏幕底部自动出现悬浮栏。
  - 显示已选商品的缩略图。
  - 提供“清空”和“开始对比”按钮。
  - 支持在悬浮栏中直接删除单个商品。

## 3. 对比详情弹窗 (Comparison Modal)
- **布局**: 采用表格布局 (Table)，第一列为属性标签，后续列为商品。
- **对比维度**:
  - **商品信息**: 图片、名称、删除按钮。
  - **价格**: 突出显示。
  - **商城**: 显示来源平台（楽天/Yahoo等）。
  - **参数**: 自动从标题解析出的 品牌、系列、型号、容量、颜色等。
  - **操作**: 直接跳转购买链接。

## 4. 视觉样式 (Visual & CSS)
- **悬浮栏**: 使用 Glassmorphism (毛玻璃) 效果，圆角设计，带有滑入动画 (`slideUp`)。
- **弹窗**: 大尺寸居中弹窗，表格支持横向滚动，第一列标签固定 (Sticky)，确保在对比多个商品时体验流畅。
